/*!
 * hitalk 1.2.1
 * (c)2021 ihoey <mail@ihoey.com> (https://blog.ihoey.com/)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Hitalk=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var n=t((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t}));var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}},r=t((function(e){function t(r,s,a){return i()?e.exports=t=Reflect.construct:e.exports=t=function(e,t,i){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return i&&n(s,i.prototype),s},t.apply(null,arguments)}e.exports=t})),s=t((function(t){!function(e){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,i,r,s,a){return n((l=n(n(t,e),n(r,a)))<<(o=s)|l>>>32-o,i);var l,o}function r(e,t,n,r,s,a,l){return i(t&n|~t&r,e,t,s,a,l)}function s(e,t,n,r,s,a,l){return i(t&r|n&~r,e,t,s,a,l)}function a(e,t,n,r,s,a,l){return i(t^n^r,e,t,s,a,l)}function l(e,t,n,r,s,a,l){return i(n^(t|~r),e,t,s,a,l)}function o(e,t){var i,o,c,d,p;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var u=1732584193,h=-271733879,g=-1732584194,f=271733878;for(i=0;i<e.length;i+=16)o=u,c=h,d=g,p=f,u=r(u,h,g,f,e[i],7,-680876936),f=r(f,u,h,g,e[i+1],12,-389564586),g=r(g,f,u,h,e[i+2],17,606105819),h=r(h,g,f,u,e[i+3],22,-1044525330),u=r(u,h,g,f,e[i+4],7,-176418897),f=r(f,u,h,g,e[i+5],12,1200080426),g=r(g,f,u,h,e[i+6],17,-1473231341),h=r(h,g,f,u,e[i+7],22,-45705983),u=r(u,h,g,f,e[i+8],7,1770035416),f=r(f,u,h,g,e[i+9],12,-1958414417),g=r(g,f,u,h,e[i+10],17,-42063),h=r(h,g,f,u,e[i+11],22,-1990404162),u=r(u,h,g,f,e[i+12],7,1804603682),f=r(f,u,h,g,e[i+13],12,-40341101),g=r(g,f,u,h,e[i+14],17,-1502002290),u=s(u,h=r(h,g,f,u,e[i+15],22,1236535329),g,f,e[i+1],5,-165796510),f=s(f,u,h,g,e[i+6],9,-1069501632),g=s(g,f,u,h,e[i+11],14,643717713),h=s(h,g,f,u,e[i],20,-373897302),u=s(u,h,g,f,e[i+5],5,-701558691),f=s(f,u,h,g,e[i+10],9,38016083),g=s(g,f,u,h,e[i+15],14,-660478335),h=s(h,g,f,u,e[i+4],20,-405537848),u=s(u,h,g,f,e[i+9],5,568446438),f=s(f,u,h,g,e[i+14],9,-1019803690),g=s(g,f,u,h,e[i+3],14,-187363961),h=s(h,g,f,u,e[i+8],20,1163531501),u=s(u,h,g,f,e[i+13],5,-1444681467),f=s(f,u,h,g,e[i+2],9,-51403784),g=s(g,f,u,h,e[i+7],14,1735328473),u=a(u,h=s(h,g,f,u,e[i+12],20,-1926607734),g,f,e[i+5],4,-378558),f=a(f,u,h,g,e[i+8],11,-2022574463),g=a(g,f,u,h,e[i+11],16,1839030562),h=a(h,g,f,u,e[i+14],23,-35309556),u=a(u,h,g,f,e[i+1],4,-1530992060),f=a(f,u,h,g,e[i+4],11,1272893353),g=a(g,f,u,h,e[i+7],16,-155497632),h=a(h,g,f,u,e[i+10],23,-1094730640),u=a(u,h,g,f,e[i+13],4,681279174),f=a(f,u,h,g,e[i],11,-358537222),g=a(g,f,u,h,e[i+3],16,-722521979),h=a(h,g,f,u,e[i+6],23,76029189),u=a(u,h,g,f,e[i+9],4,-640364487),f=a(f,u,h,g,e[i+12],11,-421815835),g=a(g,f,u,h,e[i+15],16,530742520),u=l(u,h=a(h,g,f,u,e[i+2],23,-995338651),g,f,e[i],6,-198630844),f=l(f,u,h,g,e[i+7],10,1126891415),g=l(g,f,u,h,e[i+14],15,-1416354905),h=l(h,g,f,u,e[i+5],21,-57434055),u=l(u,h,g,f,e[i+12],6,1700485571),f=l(f,u,h,g,e[i+3],10,-1894986606),g=l(g,f,u,h,e[i+10],15,-1051523),h=l(h,g,f,u,e[i+1],21,-2054922799),u=l(u,h,g,f,e[i+8],6,1873313359),f=l(f,u,h,g,e[i+15],10,-30611744),g=l(g,f,u,h,e[i+6],15,-1560198380),h=l(h,g,f,u,e[i+13],21,1309151649),u=l(u,h,g,f,e[i+4],6,-145523070),f=l(f,u,h,g,e[i+11],10,-1120210379),g=l(g,f,u,h,e[i+2],15,718787259),h=l(h,g,f,u,e[i+9],21,-343485551),u=n(u,o),h=n(h,c),g=n(g,d),f=n(f,p);return[u,h,g,f]}function c(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){var t,n,i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return i}function u(e){return unescape(encodeURIComponent(e))}function h(e){return function(e){return c(o(d(e),8*e.length))}(u(e))}function g(e,t){return function(e,t){var n,i,r=d(e),s=[],a=[];for(s[15]=a[15]=void 0,r.length>16&&(r=o(r,8*e.length)),n=0;n<16;n+=1)s[n]=909522486^r[n],a[n]=1549556828^r[n];return i=o(s.concat(d(t)),512+8*t.length),c(o(a.concat(i),640))}(u(e),u(t))}function f(e,t,n){return t?n?g(t,e):p(g(t,e)):n?h(e):p(h(e))}t.exports?t.exports=f:e.md5=f}(e)})),a=t((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}}));const l=/[&<>"']/,o=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,d=/[<>"']|&(?!#?\w+;)/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=e=>p[e];const h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(e){return e.replace(h,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const f=/(^|[^\[])\^/g;const m=/[^\w:]/g,k=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const b={},v=/^[^:]+:\/*[^/]*$/,x=/^([^:]+:)[\s\S]*$/,w=/^([^:]+:\/*[^/]*)[\s\S]*$/;function y(e,t){b[" "+e]||(v.test(e)?b[" "+e]=e+"/":b[" "+e]=S(e,"/",!0));const n=-1===(e=b[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(x,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(w,"$1")+t:e+t}function S(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const s=e.charAt(i-r-1);if(s!==t||n){if(s===t||!n)break;r++}else r++}return e.substr(0,i-r)}var $={escape:function(e,t){if(t){if(l.test(e))return e.replace(o,u)}else if(c.test(e))return e.replace(d,u);return e},unescape:g,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,i)=>(i=(i=i.source||i).replace(f,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(g(n)).replace(m,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!k.test(n)&&(n=y(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:y,noopTest:{exec:function(){}},merge:function(e){let t,n,i=1;for(;i<arguments.length;i++)for(n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(/ \|/);let i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},rtrim:S,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}};const{defaults:O}=a,{rtrim:z,splitCells:H,escape:_,findClosingBracket:A}=$;function T(e,t,n){const i=t.href,r=t.title?_(t.title):null;return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:e[1]}:{type:"image",raw:n,text:_(e[1]),href:i,title:r}}var q=class{constructor(e){this.options=e||O}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}}code(e,t){const n=this.rules.block.code.exec(e);if(n){const e=t[t.length-1];if(e&&"paragraph"===e.type)return{raw:n[0],text:n[0].trimRight()};const i=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:z(i,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map(e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}}nptable(e){const t=this.rules.block.nptable.exec(e);if(t){const e={type:"table",header:H(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(e.header.length===e.align.length){let t,n=e.align.length;for(t=0;t<n;t++)/^ *-+: *$/.test(e.align[t])?e.align[t]="right":/^ *:-+: *$/.test(e.align[t])?e.align[t]="center":/^ *:-+ *$/.test(e.align[t])?e.align[t]="left":e.align[t]=null;for(n=e.cells.length,t=0;t<n;t++)e.cells[t]=H(e.cells[t],e.header.length);return e}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:e}}}list(e){const t=this.rules.block.list.exec(e);if(t){let e=t[0];const n=t[2],i=n.length>1,r={type:"list",raw:e,ordered:i,start:i?+n:"",loose:!1,items:[]},s=t[0].match(this.rules.block.item);let a,l,o,c,d,p,u,h=!1;const g=s.length;for(let t=0;t<g;t++)a=s[t],e=a,l=a.length,a=a.replace(/^ *([*+-]|\d+\.) */,""),~a.indexOf("\n ")&&(l-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+l+"}","gm"),"")),t!==g-1&&(o=this.rules.block.bullet.exec(s[t+1])[0],(n.length>1?1===o.length:o.length>1||this.options.smartLists&&o!==n)&&(c=s.slice(t+1).join("\n"),r.raw=r.raw.substring(0,r.raw.length-c.length),t=g-1)),d=h||/\n\n(?!\s*$)/.test(a),t!==g-1&&(h="\n"===a.charAt(a.length-1),d||(d=h)),d&&(r.loose=!0),p=/^\[[ xX]\] /.test(a),u=void 0,p&&(u=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,"")),r.items.push({type:"list_item",raw:e,task:p,checked:u,loose:d,text:a});return r}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):_(t[0]):t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:H(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,i=e.align.length;for(n=0;n<i;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(i=e.cells.length,n=0;n<i;n++)e.cells[n]=H(e.cells[n].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}text(e,t){const n=this.rules.block.text.exec(e);if(n){const e=t[t.length-1];return e&&"text"===e.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:_(t[1])}}tag(e,t,n){const i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):_(i[0]):i[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=A(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e?(n=e[1],i=e[3]):i=""}else i=t[3]?t[3].slice(1,-1):"";n=n.trim().replace(/^<([\s\S]*)>$/,"$1");return T(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0])}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return T(n,e,n[0])}}strong(e){const t=this.rules.inline.strong.exec(e);if(t)return{type:"strong",raw:t[0],text:t[4]||t[3]||t[2]||t[1]}}em(e){const t=this.rules.inline.em.exec(e);if(t)return{type:"em",raw:t[0],text:t[6]||t[5]||t[4]||t[3]||t[2]||t[1]}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=e.startsWith(" ")&&e.endsWith(" ");return n&&i&&(e=e.substring(1,e.length-1)),e=_(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;return"@"===n[2]?(e=_(this.options.mangle?t(n[1]):n[1]),i="mailto:"+e):(e=_(n[1]),i=e),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])e=_(this.options.mangle?t(n[0]):n[0]),i="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=_(n[0]),i="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t,n){const i=this.rules.inline.text.exec(e);if(i){let e;return e=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):_(i[0]):i[0]:_(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:e}}}};const{noopTest:L,edit:C,merge:E}=$,M={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:L,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};M.def=C(M.def).replace("label",M._label).replace("title",M._title).getRegex(),M.bullet=/(?:[*+-]|\d{1,9}\.)/,M.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,M.item=C(M.item,"gm").replace(/bull/g,M.bullet).getRegex(),M.list=C(M.list).replace(/bull/g,M.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+M.def.source+")").getRegex(),M._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M._comment=/<!--(?!-?>)[\s\S]*?-->/,M.html=C(M.html,"i").replace("comment",M._comment).replace("tag",M._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),M.paragraph=C(M._paragraph).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.blockquote=C(M.blockquote).replace("paragraph",M.paragraph).getRegex(),M.normal=E({},M),M.gfm=E({},M.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),M.gfm.nptable=C(M.gfm.nptable).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.gfm.table=C(M.gfm.table).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.pedantic=E({},M.normal,{html:C("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",M._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:L,paragraph:C(M.normal._paragraph).replace("hr",M.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",M.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};R.em=C(R.em).replace(/punctuation/g,R._punctuation).getRegex(),R._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=C(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=C(R.tag).replace("comment",M._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=C(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=C(R.reflink).replace("label",R._label).getRegex(),R.normal=E({},R),R.pedantic=E({},R.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()}),R.gfm=E({},R.normal,{escape:C(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),R.gfm.url=C(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks=E({},R.gfm,{br:C(R.br).replace("{2,}","*").getRegex(),text:C(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var B={block:M,inline:R};const{defaults:P}=a,{block:I,inline:Q}=B;function D(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function W(e){let t,n,i="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var U=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||P,this.options.tokenizer=this.options.tokenizer||new q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;const t={block:I.normal,inline:Q.normal};this.options.pedantic?(t.block=I.pedantic,t.inline=Q.pedantic):this.options.gfm&&(t.block=I.gfm,this.options.breaks?t.inline=Q.breaks:t.inline=Q.gfm),this.tokenizer.rules=t}static get rules(){return{block:I,inline:Q}}static lex(t,n){return new e(n).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens}blockTokens(e,t=[],n=!0){let i,r,s,a;for(e=e.replace(/^ +$/gm,"");e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e,t))e=e.substring(i.raw.length),i.type?t.push(i):(a=t[t.length-1],a.raw+="\n"+i.raw,a.text+="\n"+i.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),s=i.items.length,r=0;r<s;r++)i.items[r].tokens=this.blockTokens(i.items[r].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.text(e,t))e=e.substring(i.raw.length),i.type?t.push(i):(a=t[t.length-1],a.raw+="\n"+i.raw,a.text+="\n"+i.text);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}return t}inline(e){let t,n,i,r,s,a;const l=e.length;for(t=0;t<l;t++)switch(a=e[t],a.type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},r=a.header.length,n=0;n<r;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(r=a.cells.length,n=0;n<r;n++)for(s=a.cells[n],a.tokens.cells[n]=[],i=0;i<s.length;i++)a.tokens.cells[n][i]=[],this.inlineTokens(s[i],a.tokens.cells[n][i]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(r=a.items.length,n=0;n<r;n++)this.inline(a.items[n].tokens)}return e}inlineTokens(e,t=[],n=!1,i=!1){let r;for(;e;)if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,i))e=e.substring(r.raw.length),n=r.inLink,i=r.inRawBlock,t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.strong(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.em(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.autolink(e,W))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,W))){if(r=this.tokenizer.inlineText(e,i,D))e=e.substring(r.raw.length),t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(r.raw.length),t.push(r);return t}};const{defaults:F}=a,{cleanUrl:Z,escape:j}=$;var Y=class{constructor(e){this.options=e||F}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return i?'<pre><code class="'+this.options.langPrefix+j(i,!0)+'">'+(n?e:j(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:j(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=Z(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+j(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(null===(e=Z(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">",i}text(e){return e}},V=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},N=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}};const{defaults:X}=a,{unescape:G}=$;var K=class e{constructor(e){this.options=e||X,this.options.renderer=this.options.renderer||new Y,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new V,this.slugger=new N}static parse(t,n){return new e(n).parse(t)}parse(e,t=!0){let n,i,r,s,a,l,o,c,d,p,u,h,g,f,m,k,b,v,x="";const w=e.length;for(n=0;n<w;n++)switch(p=e[n],p.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(p.tokens),p.depth,G(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(p.text,p.lang,p.escaped);continue;case"table":for(c="",o="",s=p.header.length,i=0;i<s;i++)o+=this.renderer.tablecell(this.parseInline(p.tokens.header[i]),{header:!0,align:p.align[i]});for(c+=this.renderer.tablerow(o),d="",s=p.cells.length,i=0;i<s;i++){for(l=p.tokens.cells[i],o="",a=l.length,r=0;r<a;r++)o+=this.renderer.tablecell(this.parseInline(l[r]),{header:!1,align:p.align[r]});d+=this.renderer.tablerow(o)}x+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(p.tokens),x+=this.renderer.blockquote(d);continue;case"list":for(u=p.ordered,h=p.start,g=p.loose,s=p.items.length,d="",i=0;i<s;i++)m=p.items[i],k=m.checked,b=m.task,f="",m.task&&(v=this.renderer.checkbox(k),g?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=v+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=v+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:v}):f+=v),f+=this.parse(m.tokens,g),d+=this.renderer.listitem(f,b,k);x+=this.renderer.list(d,u,h);continue;case"html":x+=this.renderer.html(p.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(p.tokens));continue;case"text":for(d=p.tokens?this.parseInline(p.tokens):p.text;n+1<w&&"text"===e[n+1].type;)p=e[++n],d+="\n"+(p.tokens?this.parseInline(p.tokens):p.text);x+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+p.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,i,r="";const s=e.length;for(n=0;n<s;n++)switch(i=e[n],i.type){case"escape":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;case"text":r+=t.text(i.text);break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return r}};const{merge:J,checkSanitizeDeprecation:ee,escape:te}=$,{getDefaults:ne,changeDefaults:ie,defaults:re}=a;function se(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=J({},se.defaults,t||{}),ee(t),n){const i=t.highlight;let r;try{r=U.lex(e,t)}catch(e){return n(e)}const s=function(e){let s;if(!e)try{s=K.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,s)};if(!i||i.length<3)return s();if(delete t.highlight,!r.length)return s();let a=0;return se.walkTokens(r,(function(e){"code"===e.type&&(a++,i(e.text,e.lang,(function(t,n){if(t)return s(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),a--,0===a&&s()})))})),void(0===a&&s())}try{const n=U.lex(e,t);return t.walkTokens&&se.walkTokens(n,t.walkTokens),K.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+te(e.message+"",!0)+"</pre>";throw e}}se.options=se.setOptions=function(e){return J(se.defaults,e),ie(se.defaults),se},se.getDefaults=ne,se.defaults=re,se.use=function(e){const t=J({},e);if(e.renderer){const n=se.defaults.renderer||new Y;for(const t in e.renderer){const i=n[t];n[t]=(...r)=>{let s=e.renderer[t].apply(n,r);return!1===s&&(s=i.apply(n,r)),s}}t.renderer=n}if(e.tokenizer){const n=se.defaults.tokenizer||new q;for(const t in e.tokenizer){const i=n[t];n[t]=(...r)=>{let s=e.tokenizer[t].apply(n,r);return!1===s&&(s=i.apply(n,r)),s}}t.tokenizer=n}if(e.walkTokens){const n=se.defaults.walkTokens;t.walkTokens=t=>{e.walkTokens(t),n&&n(t)}}se.setOptions(t)},se.walkTokens=function(e,t){for(const n of e)switch(t(n),n.type){case"table":for(const e of n.tokens.header)se.walkTokens(e,t);for(const e of n.tokens.cells)for(const n of e)se.walkTokens(n,t);break;case"list":se.walkTokens(n.items,t);break;default:n.tokens&&se.walkTokens(n.tokens,t)}},se.Parser=K,se.parser=K.parse,se.Renderer=Y,se.TextRenderer=V,se.Lexer=U,se.lexer=U.lex,se.Tokenizer=q,se.Slugger=N,se.parse=se;var ae=se,le=window||{},oe=navigator||{};function ce(e){var t=e||oe.userAgent,n={Trident:t.indexOf("Trident")>-1||t.indexOf("NET CLR")>-1,Presto:t.indexOf("Presto")>-1,WebKit:t.indexOf("AppleWebKit")>-1,Gecko:t.indexOf("Gecko/")>-1,Safari:t.indexOf("Safari")>-1,Chrome:t.indexOf("Chrome")>-1||t.indexOf("CriOS")>-1,IE:t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1,Edge:t.indexOf("Edge")>-1,Firefox:t.indexOf("Firefox")>-1||t.indexOf("FxiOS")>-1,"Firefox Focus":t.indexOf("Focus")>-1,Chromium:t.indexOf("Chromium")>-1,Opera:t.indexOf("Opera")>-1||t.indexOf("OPR")>-1,Vivaldi:t.indexOf("Vivaldi")>-1,Yandex:t.indexOf("YaBrowser")>-1,Kindle:t.indexOf("Kindle")>-1||t.indexOf("Silk/")>-1,360:t.indexOf("360EE")>-1||t.indexOf("360SE")>-1,UC:t.indexOf("UC")>-1||t.indexOf(" UBrowser")>-1,QQBrowser:t.indexOf("QQBrowser")>-1,QQ:t.indexOf("QQ/")>-1,Baidu:t.indexOf("Baidu")>-1||t.indexOf("BIDUBrowser")>-1,Maxthon:t.indexOf("Maxthon")>-1,Sogou:t.indexOf("MetaSr")>-1||t.indexOf("Sogou")>-1,LBBROWSER:t.indexOf("LBBROWSER")>-1,"2345Explorer":t.indexOf("2345Explorer")>-1,TheWorld:t.indexOf("TheWorld")>-1,XiaoMi:t.indexOf("MiuiBrowser")>-1,Quark:t.indexOf("Quark")>-1,Qiyu:t.indexOf("Qiyu")>-1,Wechat:t.indexOf("MicroMessenger")>-1,Taobao:t.indexOf("AliApp(TB")>-1,Alipay:t.indexOf("AliApp(AP")>-1,Weibo:t.indexOf("Weibo")>-1,Douban:t.indexOf("com.douban.frodo")>-1,Suning:t.indexOf("SNEBUY-APP")>-1,iQiYi:t.indexOf("IqiyiApp")>-1,Windows:t.indexOf("Windows")>-1,Linux:t.indexOf("Linux")>-1||t.indexOf("X11")>-1,"Mac OS":t.indexOf("Macintosh")>-1,Android:t.indexOf("Android")>-1||t.indexOf("Adr")>-1,Ubuntu:t.indexOf("Ubuntu")>-1,FreeBSD:t.indexOf("FreeBSD")>-1,Debian:t.indexOf("Debian")>-1,"Windows Phone":t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,BlackBerry:t.indexOf("BlackBerry")>-1||t.indexOf("RIM")>-1,MeeGo:t.indexOf("MeeGo")>-1,Symbian:t.indexOf("Symbian")>-1,iOS:t.indexOf("like Mac OS X")>-1,"Chrome OS":t.indexOf("CrOS")>-1,WebOS:t.indexOf("hpwOS")>-1,Mobile:t.indexOf("Mobi")>-1||t.indexOf("iPh")>-1||t.indexOf("480")>-1,Tablet:t.indexOf("Tablet")>-1||t.indexOf("Pad")>-1||t.indexOf("Nexus 7")>-1};n.Mobile?n.Mobile=!(t.indexOf("iPad")>-1):le.showModalDialog&&le.chrome&&(n[360]=!0);var i,r={engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet"]};for(var s in this.device="PC",this.language=((i=(oe.browserLanguage||oe.language).split("-"))[1]&&(i[1]=i[1].toUpperCase()),i.join("_")),r)for(var a=0;a<r[s].length;a++){var l=r[s][a];n[l]&&(this[s]=l)}var o={Windows:function(){var e=t.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");return{6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[e]||e},Android:function(){return t.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function(){return t.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return t.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return t.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return t.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return t.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};this.osVersion="",o[this.os]&&(this.osVersion=o[this.os](),this.osVersion==t&&(this.osVersion=""));var c={Safari:function(){return t.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return t.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return t.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return t.replace(/^.*Edge\/([\d.]+).*$/,"$1")},Firefox:function(){return t.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return t.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return t.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return t.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function(){return t.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return t.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Kindle:function(){return t.replace(/^.*Version\/([\d.]+).*$/,"$1")},Maxthon:function(){return t.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return t.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return t.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return t.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1")},UC:function(){return t.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return t.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},"2345Explorer":function(){return t.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},TheWorld:function(){return t.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return t.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return t.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return t.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return t.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},Taobao:function(){return t.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return t.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return t.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return t.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return t.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return t.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};this.version="",c[this.browser]&&(this.version=c[this.browser](),this.version==t&&(this.version="")),"Edge"==this.browser?this.engine="EdgeHTML":"Chrome"==this.browser&&parseInt(this.version)>27||"Opera"==this.browser&&parseInt(this.version)>12||"Yandex"==this.browser?this.engine="Blink":null==this.browser&&(this.browser="Unknow App")}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".Hitalk {\n  box-sizing: border-box;\n  transition: all 0.3s ease;\n  /************ Loading ************/ }\n  .Hitalk * {\n    box-sizing: inherit;\n    transition: inherit; }\n  .Hitalk .dn {\n    display: none !important; }\n  .Hitalk .vinput {\n    border: none;\n    resize: none;\n    outline: none;\n    padding: 10px 0;\n    max-width: 100%;\n    font-size: 0.775rem; }\n  .Hitalk .vwrap {\n    border: 1px solid #f0f0f0;\n    border-radius: 4px;\n    margin-bottom: 10px;\n    position: relative;\n    padding: 10px; }\n    .Hitalk .vwrap input {\n      background: transparent; }\n    .Hitalk .vwrap .welcome {\n      position: relative;\n      padding-bottom: 10px;\n      font-size: 0.875rem;\n      color: #757575;\n      border-bottom: 1px #dedede dashed;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none; }\n      .Hitalk .vwrap .welcome span {\n        color: #9499a8;\n        cursor: pointer; }\n    .Hitalk .vwrap .vheader {\n      visibility: visible;\n      opacity: 1;\n      transition: all 0.2s linear; }\n      .Hitalk .vwrap .vheader .vinput {\n        width: 33.33%;\n        border-bottom: 1px #dedede dashed; }\n      .Hitalk .vwrap .vheader.item2 .vinput {\n        width: 50%; }\n      .Hitalk .vwrap .vheader.item1 .vinput {\n        width: 100%; }\n      .Hitalk .vwrap .vheader.hide {\n        visibility: hidden;\n        opacity: 0;\n        height: 0; }\n      .Hitalk .vwrap .vheader .vinput:focus {\n        border-bottom-color: #eb5055; }\n      @media screen and (max-width: 520px) {\n        .Hitalk .vwrap .vheader .vinput {\n          width: 100%; }\n        .Hitalk .vwrap .vheader.item2 .vinput {\n          width: 100%; } }\n    .Hitalk .vwrap .vcontrol {\n      font-size: 0;\n      padding-top: 5px; }\n      .Hitalk .vwrap .vcontrol .col {\n        display: inline-block;\n        font-size: 0.725rem;\n        vertical-align: middle;\n        color: #ccc; }\n        .Hitalk .vwrap .vcontrol .col.text-right {\n          text-align: right; }\n        .Hitalk .vwrap .vcontrol .col svg {\n          margin-right: 2px;\n          overflow: hidden;\n          fill: currentColor;\n          vertical-align: middle; }\n        .Hitalk .vwrap .vcontrol .col.col-40 {\n          width: 40%; }\n        .Hitalk .vwrap .vcontrol .col.col-60 {\n          width: 60%; }\n        .Hitalk .vwrap .vcontrol .col.split {\n          width: 50%; }\n    .Hitalk .vwrap .vmark {\n      position: absolute;\n      background: rgba(0, 0, 0, 0.65);\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0; }\n      .Hitalk .vwrap .vmark .valert {\n        padding-top: 3rem; }\n        .Hitalk .vwrap .vmark .valert .vtext {\n          color: #fff;\n          padding: 1rem 0; }\n      @media screen and (max-width: 720px) {\n        .Hitalk .vwrap .vmark .valert {\n          padding-top: 5.5rem; }\n          .Hitalk .vwrap .vmark .valert .vtext {\n            color: #fff;\n            padding: 1rem 0; } }\n  .Hitalk .info {\n    font-size: 0;\n    padding: 5px; }\n    .Hitalk .info .col {\n      font-size: 0.875rem;\n      display: inline-block;\n      width: 50%;\n      vertical-align: middle; }\n    .Hitalk .info .count .num {\n      font-weight: 600;\n      font-size: 1.25rem; }\n  .Hitalk a {\n    text-decoration: none;\n    color: #555; }\n    .Hitalk a:hover {\n      color: #222; }\n  .Hitalk > ul,\n  .Hitalk > li {\n    list-style: none;\n    margin: 0 auto;\n    padding: 0; }\n  .Hitalk .txt-center {\n    text-align: center; }\n  .Hitalk .txt-right {\n    text-align: right; }\n  .Hitalk .pd5 {\n    padding: 5px; }\n  .Hitalk .pd10 {\n    padding: 10px; }\n  .Hitalk .veditor {\n    width: 100%;\n    height: 8.75rem;\n    font-size: 0.875rem;\n    border-bottom: 1px dashed #dedede;\n    background: url(https://cdn.ihoey.com/plbj.png) right bottom no-repeat; }\n  .Hitalk .vbtn {\n    transition-duration: 0.4s;\n    text-align: center;\n    color: #313131;\n    border: 1px solid #f7f7f7;\n    border-radius: 0.5rem;\n    background-color: #f7f7f7;\n    display: inline-block;\n    background: #ededed;\n    margin-bottom: 0;\n    font-weight: 400;\n    vertical-align: middle;\n    touch-action: manipulation;\n    cursor: pointer;\n    white-space: nowrap;\n    padding: 0.5rem 1.25rem;\n    font-size: 0.875rem;\n    line-height: 1.42857143;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    outline: none; }\n    .Hitalk .vbtn + .vbtn {\n      margin-left: 1.25rem; }\n  .Hitalk .vbtn:active,\n  .Hitalk .vbtn:hover {\n    color: #3090e4;\n    border-color: #3090e4;\n    background-color: #fff; }\n  .Hitalk .vempty {\n    padding: 1.25px;\n    text-align: center;\n    color: #999; }\n  .Hitalk .vlist {\n    width: 100%; }\n    .Hitalk .vlist .vcard {\n      padding-top: 1.5rem;\n      position: relative;\n      display: block; }\n      .Hitalk .vlist .vcard:after {\n        content: '';\n        clear: both;\n        display: block; }\n      .Hitalk .vlist .vcard .vimg {\n        width: 2.5rem;\n        height: 2.5rem;\n        float: left;\n        border-radius: 50%;\n        margin-right: 0.7525rem;\n        transition: all 1s; }\n        .Hitalk .vlist .vcard .vimg:hover {\n          transform: rotate(720deg) scale(1.2); }\n      .Hitalk .vlist .vcard .vhead {\n        line-height: 1;\n        margin-bottom: 0.625rem;\n        margin-top: 0; }\n        .Hitalk .vlist .vcard .vhead a {\n          font-size: 0.8135rem;\n          font-weight: 700;\n          color: #2c2020;\n          margin-right: 0.875rem; }\n          .Hitalk .vlist .vcard .vhead a:hover {\n            color: #d7191a; }\n        .Hitalk .vlist .vcard .vhead .vsys {\n          display: inline-block;\n          padding: 0.2rem 0.5rem;\n          background: #ededed;\n          color: #b3b1b1;\n          font-size: 0.75rem;\n          border-radius: 0.2rem;\n          margin-right: 0.3rem; }\n      .Hitalk .vlist .vcard section {\n        overflow: hidden;\n        padding-bottom: 1.5rem;\n        border-bottom: 1px solid #f5f5f5; }\n        .Hitalk .vlist .vcard section .vfooter {\n          position: relative; }\n          .Hitalk .vlist .vcard section .vfooter .vtime {\n            color: #b3b3b3;\n            font-size: 0.75rem;\n            margin-right: 0.875rem; }\n          .Hitalk .vlist .vcard section .vfooter .vat {\n            font-size: 0.8125rem;\n            color: #ef2f11;\n            cursor: pointer; }\n      .Hitalk .vlist .vcard .vcontent {\n        word-wrap: break-word;\n        word-break: break-all;\n        text-align: justify;\n        color: #4a4a4a;\n        font-size: 0.875rem;\n        line-height: 2;\n        position: relative;\n        margin-bottom: 0.75rem; }\n        .Hitalk .vlist .vcard .vcontent ol,\n        .Hitalk .vlist .vcard .vcontent ul {\n          margin-left: 20px; }\n          .Hitalk .vlist .vcard .vcontent ol li,\n          .Hitalk .vlist .vcard .vcontent ul li {\n            list-style: inherit; }\n        .Hitalk .vlist .vcard .vcontent a {\n          font-size: 0.875rem;\n          color: #708090;\n          -webkit-text-decoration: double;\n                  text-decoration: double; }\n          .Hitalk .vlist .vcard .vcontent a:hover {\n            color: #d7191a; }\n        .Hitalk .vlist .vcard .vcontent pre,\n        .Hitalk .vlist .vcard .vcontent .code,\n        .Hitalk .vlist .vcard .vcontent code {\n          display: inline-flex;\n          overflow: auto;\n          padding: 2px 15px 2px 5px;\n          word-wrap: break-word;\n          color: #555;\n          background: #f5f2f2;\n          border-radius: 3px;\n          font-size: 0.875rem;\n          margin: 5px 0; }\n        .Hitalk .vlist .vcard .vcontent.expand {\n          cursor: pointer;\n          max-height: 11.25rem;\n          overflow: hidden; }\n          .Hitalk .vlist .vcard .vcontent.expand:before {\n            display: block;\n            content: '';\n            position: absolute;\n            width: 100%;\n            left: 0;\n            top: 0;\n            bottom: 3.15rem;\n            pointer-events: none;\n            background: linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.9)); }\n          .Hitalk .vlist .vcard .vcontent.expand:after {\n            display: block;\n            content: 'Click on expand';\n            text-align: center;\n            color: #828586;\n            position: absolute;\n            width: 100%;\n            height: 3.15rem;\n            line-height: 3.15rem;\n            left: 0;\n            bottom: 0;\n            pointer-events: none;\n            background: rgba(255, 255, 255, 0.9); }\n  .Hitalk .vpage {\n    padding: 0.85rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none; }\n    .Hitalk .vpage .page-numbers {\n      display: inline-block;\n      padding: 0 8px;\n      color: #828586;\n      cursor: pointer; }\n    .Hitalk .vpage .page-numbers.current {\n      border-radius: 50%;\n      background: #ebebeb;\n      min-width: 30px;\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n      color: #c1c1c1;\n      font-size: 15px;\n      cursor: default; }\n  .Hitalk .clear {\n    content: '';\n    display: block;\n    clear: both; }\n  .Hitalk .spinner {\n    margin: 0.625rem auto;\n    width: 3.15rem;\n    height: 1.875rem;\n    text-align: center;\n    font-size: 10px; }\n  .Hitalk .spinner > div {\n    background-color: #9c9c9c;\n    height: 100%;\n    width: 0.375rem;\n    margin-right: 0.19rem;\n    display: inline-block;\n    -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n    animation: sk-stretchdelay 1.2s infinite ease-in-out; }\n  .Hitalk .spinner .r2 {\n    -webkit-animation-delay: -1.1s;\n    animation-delay: -1.1s; }\n  .Hitalk .spinner .r3 {\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s; }\n  .Hitalk .spinner .r4 {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s; }\n  .Hitalk .spinner .r5 {\n    -webkit-animation-delay: -0.8s;\n    animation-delay: -0.8s; }\n\n@-webkit-keyframes sk-stretchdelay {\n  0%,\n  40%,\n  100% {\n    -webkit-transform: scaleY(0.4); }\n  20% {\n    -webkit-transform: scaleY(1); } }\n\n@keyframes sk-stretchdelay {\n  0%,\n  40%,\n  100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4); }\n  20% {\n    transform: scaleY(1);\n    -webkit-transform: scaleY(1); } }\n\n.Hitalk .smilies {\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  display: block; }\n  .Hitalk .smilies.smilies-open .smilies-logo {\n    border-radius: 4px 4px 0 0;\n    border-bottom: 0;\n    border-color: #777;\n    color: #777; }\n  .Hitalk .smilies.smilies-open .smilies-body {\n    display: block; }\n  .Hitalk .smilies.smilies-up .smilies-body {\n    top: inherit;\n    bottom: 21px;\n    border-radius: 4px 4px 4px 0; }\n  .Hitalk .smilies.smilies-up.smilies-open .smilies-logo {\n    border: 1px solid #ddd;\n    border-radius: 0 0 4px 4px;\n    border-top: 0; }\n  .Hitalk .smilies .smilies-logo {\n    position: relative;\n    display: inline-block;\n    color: #999;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    font-size: 13px;\n    padding: 2px 5px;\n    cursor: pointer;\n    height: 22px;\n    box-sizing: border-box;\n    line-height: 16px;\n    transition: 0.1s; }\n    .Hitalk .smilies .smilies-logo:hover span {\n      display: inline-block; }\n  .Hitalk .smilies:hover .smilies-logo {\n    color: #444; }\n  .Hitalk .smilies .smilies-body {\n    display: none;\n    position: absolute;\n    width: 400px;\n    max-width: 82vw;\n    background: #fff;\n    border: 1px solid #ddd;\n    z-index: 9999;\n    top: 21px;\n    border-radius: 0 4px 4px 4px;\n    white-space: normal;\n    -webkit-overflow-scrolling: touch; }\n    .Hitalk .smilies .smilies-body .smilies-items {\n      max-height: 160px;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none;\n      display: none;\n      padding: 10px;\n      margin: 0;\n      overflow: auto;\n      font-size: 0; }\n      .Hitalk .smilies .smilies-body .smilies-items .smilies-item {\n        list-style-type: none;\n        background: #f7f7f7;\n        padding: 5px 10px;\n        border-radius: 5px;\n        display: inline-block;\n        font-size: 12px;\n        line-height: 14px;\n        margin: 0 10px 12px 0;\n        cursor: pointer; }\n        .Hitalk .smilies .smilies-body .smilies-items .smilies-item:hover {\n          background: rgba(255, 255, 255, 0.12);\n          box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\n    .Hitalk .smilies .smilies-body .smilies-items-show {\n      display: block; }\n    .Hitalk .smilies .smilies-body .smilies-bar {\n      width: 100%;\n      height: 30px;\n      border-top: 1px solid #ccc;\n      background: #fff;\n      border-radius: 0 0 4px 4px;\n      color: #ccc; }\n    .Hitalk .smilies .smilies-body .smilies-packages {\n      margin: 0;\n      padding: 0;\n      font-size: 0; }\n      .Hitalk .smilies .smilies-body .smilies-packages li {\n        list-style-type: none;\n        display: inline-block;\n        line-height: 30px;\n        font-size: 14px;\n        padding: 0 10px;\n        color: #444;\n        cursor: pointer;\n        margin-right: 3px; }\n        .Hitalk .smilies .smilies-body .smilies-packages li:nth-child(1) {\n          border-radius: 0 0 0 3px; }\n        .Hitalk .smilies .smilies-body .smilies-packages li:hover {\n          background: #eee; }\n      .Hitalk .smilies .smilies-body .smilies-packages .smilies-package-active {\n        background: #eee; }\n  .Hitalk .smilies span {\n    pointer-events: none; }\n\n.Hitalk .biaoqing {\n  display: inline;\n  margin: 0;\n  max-width: 6.25rem;\n  pointer-events: none; }\n  .Hitalk .biaoqing.newpaopao {\n    margin-bottom: -0.25rem;\n    min-height: 1.875rem;\n    height: 1em; }\n  .Hitalk .biaoqing.alu {\n    margin-bottom: -0.3125rem;\n    min-height: 2.0625rem;\n    height: 1em; }\n");var de=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;"):""},pe=function(e){try{var t=e.getTime(),n=(new Date).getTime()-t,i=Math.floor(n/864e5);if(0===i){var r=n%864e5,s=Math.floor(r/36e5);if(0===s){var a=r%36e5,l=Math.floor(a/6e4);if(0===l){var o=a%6e4;return Math.round(o/1e3)+" 秒前"}return l+" 分钟前"}return s+" 小时前"}return i<0?"刚刚":i<8?i+" 天前":function(e){var t=ue(e.getDate(),2),n=ue(e.getMonth()+1,2);return ue(e.getFullYear(),2)+"-"+n+"-"+t}(e)}catch(e){console.log(e)}},ue=function(e,t){for(var n=e.toString();n.length<t;)n="0"+n;return n},he=function(e,t,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},ge=function(e,t,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},fe=function(e){return{k:/[\w-\.]+@([\w-]+\.)+[a-z]{2,3}/.test(e),v:e}},me=function(e){return e=e.length>0&&(/^(http|https)/.test(e)?e:"http://"+e),{k:/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/.test(e),v:e}},ke={cdn:"https://gravatar.loli.net/avatar/",ds:["mm","identicon","monsterid","wavatar","retro",""],params:"?s=40",hide:!1},be={comment:"",rid:"",nick:"Guest",mail:"",link:"",ua:navigator.userAgent,url:"",pin:0,like:0},ve=["nick","mail","link"],xe=localStorage,we={"泡泡":"呵呵|哈哈|吐舌|太开心|笑眼|花心|小乖|乖|捂嘴笑|滑稽|你懂的|不高兴|怒|汗|黑线|泪|真棒|喷|惊哭|阴险|鄙视|酷|啊|狂汗|what|疑问|酸爽|呀咩爹|委屈|惊讶|睡觉|笑尿|挖鼻|吐|犀利|小红脸|懒得理|勉强|爱心|心碎|玫瑰|礼物|彩虹|太阳|星星月亮|钱币|茶杯|蛋糕|大拇指|胜利|haha|OK|沙发|手纸|香蕉|便便|药丸|红领巾|蜡烛|音乐|灯泡|开心|钱|咦|呼|冷|生气|弱","阿鲁":"高兴|小怒|脸红|内伤|装大款|赞一个|害羞|汗|吐血倒地|深思|不高兴|无语|亲亲|口水|尴尬|中指|想一想|哭泣|便便|献花|皱眉|傻笑|狂汗|吐|喷水|看不见|鼓掌|阴暗|长草|献黄瓜|邪恶|期待|得意|吐舌|喷血|无所谓|观察|暗地观察|肿包|中枪|大囧|呲牙|抠鼻|不说话|咽气|欢呼|锁眉|蜡烛|坐等|击掌|惊喜|喜极而泣|抽烟|不出所料|愤怒|无奈|黑线|投降|看热闹|扇耳光|小眼睛|中刀"},ye=new RegExp("\\@\\(\\s*("+we.泡泡+")\\s*\\)"),Se=new RegExp("\\#\\(\\s*("+we.阿鲁+")\\s*\\)"),$e="";return null!=window.devicePixelRatio&&window.devicePixelRatio>=1.49&&($e="@2x"),function(){function e(e){this.md5=s,this.version="1.2.1";var t=e.av||AV,n=e.app_id||e.appId,i=e.app_key||e.appKey,r=e.serverURLs||"https://hitalk-api.ihoey.com";n&&i||this.throw("初始化失败，请检查你的appid或者appkey."),t.init({appId:n,appKey:i,serverURLs:r}),this.v=t,be.url=(e.path||location.pathname).replace(/index\.(html|htm)/,""),this.pageSize=e.pageSize||10,this.page=0,this.initCount(),e&&this.init(e)}var t=e.prototype;return t.throw=function(e){throw new Error("Hitalk: "+e)},t.init=function(e){var t=this;try{var n="[object HTMLDivElement]"==={}.toString.call(e.el)?e.el:document.querySelectorAll(e.el)[0];"[object HTMLDivElement]"!={}.toString.call(n)&&this.throw("The target element was not found."),this.el=n,this.el.classList.add("Hitalk");var i=(e.guest_info||ve).map((function(e){switch(e){case"nick":return'<input name="nick" placeholder="称呼" class="vnick vinput" type="text">';case"mail":return'<input name="mail" placeholder="邮箱(会收到提醒哦~)" class="vmail vinput" type="email">';case"link":return'<input name="link" placeholder="网址 http(s)://" class="vlink vinput" type="text">';default:return""}})),r=e.placeholder||"",s='\n      <div class="vwrap">\n          <div class="welcome dn">欢迎回来，{name}！<span class="info-edit">修改</span></div>\n          <div class="vheader item'+i.length+'">'+i.join("")+'</div>\n          <div class="vedit">\n              <textarea class="veditor vinput" placeholder="'+r+'"></textarea>\n          </div>\n          <div class="vcontrol">\n              <span class="col col-60 smilies">\n                  <div class="col smilies-logo"><span>^_^</span></div>\n                  <div class="col" title="Markdown is Support">MarkDown is Support</div>\n                  <div class="smilies-body"></div>\n              </span>\n              <div class="col col-40 text-right">\n                  <button type="button" class="vsubmit vbtn">回复</button>\n              </div>\n          </div>\n          <div class="vmark dn"></div>\n      </div>\n      <div class="info">\n          <div class="count col"></div>\n      </div>\n      <div class="vloading"></div>\n      <div class="vempty dn"></div>\n      <ul class="vlist"></ul>\n      <div class="vpage txt-right"></div>';this.el.innerHTML=s;var a=this.el.querySelector(".vempty"),l={show:function(e){void 0===e&&(e="还没有评论哦，快来抢沙发吧!"),a.innerHTML=e,a.classList.remove("dn")},hide:function(){a.classList.add("dn")}},o=this.el.querySelector(".vloading");o.innerHTML='<div class="spinner"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div></div>',this.loading={},this.loading.show=function(){o.classList.remove("dn"),l.hide()},this.loading.hide=function(){o.classList.add("dn"),0===n.querySelectorAll(".vcard").length&&l.show()},ke.params="?d="+(ke.ds.indexOf(e.avatar)>-1?e.avatar:"mm"),ke.hide="hide"===e.avatar}catch(e){var c="https://github.com/ihoey/Hitalk/issues";return void(this.el?nodata.show('<pre style="color:red;text-align:left;">'+e+"<br>Hitalk:<b>"+this.version+"</b><br>反馈："+c+"</pre>"):console&&console.log("%c"+e+"\n%cHitalk%c"+this.version+" "+c,"color:red;","background:#000;padding:5px;line-height:30px;color:#fff;","background:#456;line-height:30px;padding:5px;color:#fff;"))}var d=this.el.querySelector(".vmark");this.alert={},this.alert.show=function(e){d.innerHTML='<div class="valert txt-center"><div class="vtext">'+e.text+'</div><div class="vbtns"></div></div>';var n=d.querySelector(".vbtns"),i='<button class="vcancel vbtn">'+(e&&e.ctxt||"我再看看")+"</button>",r='<button class="vsure vbtn">'+(e&&e.otxt||"继续提交")+"</button>";if(n.innerHTML=""+i+(e.type&&r),d.querySelector(".vcancel").addEventListener("click",(function(e){t.alert.hide()})),d.classList.remove("dn"),e&&e.type){var s=d.querySelector(".vsure");he("click",s,(function(n){t.alert.hide(),e.cb&&e.cb()}))}},this.alert.hide=function(){d.classList.add("dn")},this.bind(e)},t.commonQuery=function(e){var t=new this.v.Query("Comment");return t.equalTo("url",e||be.url).descending("createdAt"),t},t.initCount=function(){var e=this,t=document.querySelectorAll(".hitalk-comment-count");if(!t.length)return!1;for(var n=[],i=[],s=0;s<t.length;s++){var a=t[s].getAttribute("data-xid").replace(/index\.(html|htm)/,"");i[s]=a,n[s]=this.commonQuery(a)}r(this.v.Query.or,n).select("url").limit(1e3).find().then((function(e){i.map((function(n,i){return t[i].innerText=e.filter((function(e){return n===e.get("url")})).length}))})).catch((function(t){e.throw(t)}))},t.bind=function(e){var t=this,n=(e.guest_info||ve).filter((function(e){return ve.indexOf(e)>-1})),i=function(e,n){var i=document.createElement("li");i.setAttribute("class","vcard"),i.setAttribute("id",e.id);var r,a=new ce(e.get("ua")),l=ke.hide?"":'<img class="vimg" src=\''+(ke.cdn+s(e.get("mail")||e.get("nick"))+ke.params)+"'>";i.innerHTML=l+'<section><div class="vhead"><a rel="nofollow" href="'+(((r={link:e.get("link"),mail:e.get("mail")}).link||r.mail&&"mailto:"+r.mail||"javascript:void(0);")+'" target="_blank" >')+e.get("nick")+'</a>\n      <span class="vsys">'+a.os+" "+a.osVersion+'</span>\n      <span class="vsys">'+a.browser+" "+a.version+'</span>\n      </div><div class="vcontent">'+e.get("comment")+'</div><div class="vfooter"><span class="vtime">'+pe(e.get("createdAt"))+"</span><span rid='"+e.id+"' at='@"+e.get("nick")+"' mail='"+e.get("mail")+'\' class="vat">回复</span><div></section>';for(var o=t.el.querySelector(".vlist"),c=o.querySelectorAll("li"),d=i.querySelector(".vat"),p=i.querySelectorAll("a"),u=0,h=p.length;u<h;u++){var g=p[u];g&&"at"!=g.getAttribute("class")&&(g.setAttribute("target","_blank"),g.setAttribute("rel","nofollow"))}n?o.appendChild(i):o.insertBefore(i,c[0]);var f,m=i.querySelector(".vcontent");(f=m).offsetHeight>180&&(f.classList.add("expand"),he("click",f,(function(e){f.setAttribute("class","vcontent")}))),b(d)};!function e(){t.loading.show(),function(){var e,n=t.el.querySelector(".smilies-body"),i="",r=document.createDocumentFragment(),s="泡泡";Object.keys(we).forEach((function(t,n){(e=document.createElement("ul")).setAttribute("class","smilies-items smilies-items-biaoqing"+(t==s?" smilies-items-show":"")),e.setAttribute("data-id",n),we[t].split("|").forEach((function(n){e.innerHTML+='<li class="smilies-item" title="'+n+'" data-input="'+(t==s?"@":"#")+"("+n+')"><img class="biaoqing '+(t==s?"newpaopao":"alu")+'" title="'+n+'" src="https://cdn.ihoey.com/'+(t==s?"newpaopao":"alu")+"/"+(n+$e)+'.png"></li>'})),i+='<li class="smilies-name '+(t==s?"smilies-package-active":"")+'" data-id="'+n+'"><span>'+t+"</span></li>",r.appendChild(e)}));var a=document.createElement("div");a.setAttribute("class","smilies-bar"),a.innerHTML='<ul class="smilies-packages">'+i+"</ul>",r.appendChild(a),n.appendChild(r);var l=document.querySelector(".smilies"),o=document.querySelector(".veditor");he("click",l,(function(e){"smilies-item"==(e=e.target).className?(o.value+=" "+e.getAttribute("data-input")+" ",be.comment=ae(o.value,{sanitize:!0,breaks:!0}),l.classList.remove("smilies-open")):e.classList.contains("smilies-logo")?l.classList.toggle("smilies-open"):e.classList.contains("smilies-name")&&(e.classList.contains("smilies-package-active")||(document.querySelectorAll(".smilies-name").forEach((function(e){return e.classList.remove("smilies-package-active")})),document.querySelectorAll(".smilies-items").forEach((function(e){return e.classList.remove("smilies-items-show")})),document.querySelectorAll(".smilies-items")[e.getAttribute("data-id")].classList.add("smilies-items-show"),e.classList.add("smilies-package-active")))})),he("mouseup",document,(function(e){e=e.target;var t=document.querySelector(".smilies");!t!==e&&t.contains(e)||l.classList.remove("smilies-open")}))}();var n=t.commonQuery();n.limit(t.pageSize).skip(t.page*t.pageSize).find().then((function(s){var a=s.length;if(a){t.el.querySelector(".vlist").innerHTML="";for(var l=0;l<a;l++)i(s[l],!0);var o=t.el.querySelector(".num");o?r(o.innerText):n.count().then((function(n){var i=Math.ceil(n/t.pageSize);t.el.querySelector(".count").innerHTML='评论(<span class="num">'+n+"</span>)";for(var s=function(e,t){return'<span class="'+e+' page-numbers">'+t+"</span>"},a=s("prev dn","&lt;"),l=1;l<=i;l++)a+=s("numbers "+(1==l?"current":""),l);a+=s("next dn","&gt;"),t.el.querySelector(".vpage").innerHTML=a,r(n),he("click",t.el.querySelector(".vpage"),(function(n){var i=function(e){return n.target.className.split(" ").includes(e)};i("current")||i("vpage")||(i("numbers")?t.page=Number(n.target.innerText)-1:i("prev")?t.page--:i("next")&&t.page++,e())}))}))}t.loading.hide()})).catch((function(e){t.loading.hide(),t.throw(e)}))}();for(var r=function(e){var n;t.el.querySelector(".vpage .numbers.current")&&t.el.querySelector(".vpage .numbers.current").classList.remove("current"),t.el.querySelectorAll(".vpage .numbers")[t.page].classList.add("current");var i=((n={0:".prev"})[Math.ceil(e/t.pageSize,10)-1]=".next",n);Object.values(i).map((function(e){return t.el.querySelector(".vpage "+e).classList.remove("dn")})),i[t.page]&&t.el.querySelector(".vpage "+i[t.page]).classList.add("dn")},a={veditor:"comment"},l=0,o=n.length;l<o;l++)a["v"+n[l]]=n[l];var c={};for(var d in a)a.hasOwnProperty(d)&&function(){var e=a[d],n=t.el.querySelector("."+d);c[e]=n,he("input",n,(function(t){be[e]="comment"===e?ae(n.value,{sanitize:!0,breaks:!0}):de(n.value)}))}();var p=function(){var e=xe&&xe.HitalkCache;if(e){e=JSON.parse(e);var i=n;for(var r in i){var s=i[r];t.el.querySelector(".v"+s).value=e[s],be[s]=e[s]}var a=t.el.querySelector(".welcome").innerHTML;t.el.querySelector(".welcome").classList.remove("dn"),t.el.querySelector(".welcome").innerHTML=a.replace("{name}",e.nick),t.el.querySelector(".vheader").classList.add("hide"),he("click",t.el.querySelector(".welcome .info-edit"),(function(e){t.el.querySelector(".vheader").classList.toggle("hide")}))}};p();var u={rmail:"",at:""},h=this.el.querySelector(".vsubmit"),g=function(e){if(h.getAttribute("disabled"))t.alert.show({type:"",text:'再等等，评论正在提交中ヾ(๑╹◡╹)ﾉ"',ctxt:"好的"});else{if(""==be.comment)return c.comment.focus(),void t.alert.show({type:"",text:'好歹也写点文字嘛ヾ(๑╹◡╹)ﾉ"',ctxt:"好的"});var i;if(""==be.nick&&(be.nick="小调皮"),be.comment.indexOf(u.at)>-1&&""!=u.at){var r='<a class="at" href=\'#'+be.rid+"'>"+u.at+"</a>";be.comment=be.comment.replace(u.at,r)}for(;i=be.comment.match(ye);)be.comment=be.comment.replace(i[0],'<img src="https://cdn.ihoey.com/newpaopao/'+(i[1]+$e)+'.png" class="biaoqing newpaopao" height=30 width=30 no-zoom />');for(;i=be.comment.match(Se);)be.comment=be.comment.replace(i[0],'<img src="https://cdn.ihoey.com/alu/'+(i[1]+$e)+'.png" class="biaoqing alu" height=33 width=33 no-zoom />');var s=fe(be.mail),a=me(be.link);be.mail=s.k?s.v:"",be.link=a.k?a.v:"";var l=function(e){t.alert.show({type:1,text:e,cb:function(){return m()}})};!s.k&&!a.k&&n.indexOf("mail")>-1&&n.indexOf("link")>-1?l("您的网址和邮箱格式不正确, 是否继续提交?"):!s.k&&n.indexOf("mail")>-1?l("您的邮箱格式不正确, 是否继续提交?"):!a.k&&n.indexOf("link")>-1?l("您的网址格式不正确, 是否继续提交?"):m()}},f=function(){var e=new t.v.ACL;return e.setPublicReadAccess(!0),e.setPublicWriteAccess(!1),e},m=function(){h.setAttribute("disabled",!0),t.loading.show();var e=new(t.v.Object.extend("Comment"));for(var n in be)if(be.hasOwnProperty(n)){var r=be[n];e.set(n,r)}e.setACL(f()),e.save().then((function(e){"Guest"!=be.nick&&xe&&xe.setItem("HitalkCache",JSON.stringify({nick:be.nick,link:be.link,mail:be.mail}));var n=t.el.querySelector(".num"),r=1;try{n?(r=Number(n.innerText)+1,n.innerText=r):t.el.querySelector(".count").innerHTML='评论(<span class="num">1</span>)',i(e),be.mail&&k({username:be.nick,mail:be.mail}),h.removeAttribute("disabled"),t.loading.hide(),function(){for(var e in a)if(a.hasOwnProperty(e)){var n=a[e];t.el.querySelector("."+e).value="",be[n]=""}u.at="",u.rmail="",be.rid="",be.nick="Guest",p()}()}catch(e){console.log(e)}})).catch((function(e){t.loading.hide(),t.throw(e)}))},k=function(e){var n=new t.v.User;return n.setUsername(e.username),n.setPassword(e.mail),n.setEmail(e.mail),n.setACL(f()),n.signUp()},b=function(e){he("click",e,(function(t){var n=e.getAttribute("at"),i=e.getAttribute("rid"),r=e.getAttribute("mail");u.at=n,u.rmail=r,be.rid=i,c.comment.value=n+" ",c.comment.focus()}))};ge("click",h,g),he("click",h,g)},e}()}));
//# sourceMappingURL=Hitalk.min.js.map

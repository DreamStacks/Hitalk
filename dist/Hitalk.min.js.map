{"version":3,"file":"Hitalk.min.js","sources":["../node_modules/.pnpm/registry.npmmirror.com+blueimp-md5@2.19.0/node_modules/blueimp-md5/js/md5.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/defaults.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/helpers.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/Tokenizer.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/rules.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/Lexer.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/Renderer.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/TextRenderer.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/Slugger.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/Parser.js","../node_modules/.pnpm/registry.npmmirror.com+marked@1.2.9/node_modules/marked/src/marked.js","../src/detect.js","../node_modules/.pnpm/registry.npmmirror.com+style-inject@0.3.0/node_modules/style-inject/dist/style-inject.es.js","../src/utils.js","../src/Hitalk.js"],"sourcesContent":["/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","function getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\n\nfunction changeDefaults(newDefaults) {\n  module.exports.defaults = newDefaults;\n}\n\nmodule.exports = {\n  defaults: getDefaults(),\n  getDefaults,\n  changeDefaults\n};\n","/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction merge(obj) {\n  let i = 1,\n    target,\n    key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\n// copied from https://stackoverflow.com/a/5450113/806777\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n  let result = '';\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n    count >>= 1;\n    pattern += pattern;\n  }\n  return result + pattern;\n}\n\nmodule.exports = {\n  escape,\n  unescape,\n  edit,\n  cleanUrl,\n  resolveUrl,\n  noopTest,\n  merge,\n  splitCells,\n  rtrim,\n  findClosingBracket,\n  checkSanitizeDeprecation,\n  repeatString\n};\n","const { defaults } = require('./defaults.js');\nconst {\n  rtrim,\n  splitCells,\n  escape,\n  findClosingBracket\n} = require('./helpers.js');\n\nfunction outputLink(cap, link, raw) {\n  const href = link.href;\n  const title = link.title ? escape(link.title) : null;\n  const text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    return {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text\n    };\n  } else {\n    return {\n      type: 'image',\n      raw,\n      href,\n      title,\n      text: escape(text)\n    };\n  }\n}\n\nfunction indentCodeCompensation(raw, text) {\n  const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  const indentToCode = matchIndentToCode[1];\n\n  return text\n    .split('\\n')\n    .map(node => {\n      const matchIndentInNode = node.match(/^\\s+/);\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      const [indentInNode] = matchIndentInNode;\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    })\n    .join('\\n');\n}\n\n/**\n * Tokenizer\n */\nmodule.exports = class Tokenizer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n    if (cap) {\n      if (cap[0].length > 1) {\n        return {\n          type: 'space',\n          raw: cap[0]\n        };\n      }\n      return { raw: '\\n' };\n    }\n  }\n\n  code(src, tokens) {\n    const cap = this.rules.block.code.exec(src);\n    if (cap) {\n      const lastToken = tokens[tokens.length - 1];\n      // An indented code block cannot interrupt a paragraph.\n      if (lastToken && lastToken.type === 'paragraph') {\n        return {\n          raw: cap[0],\n          text: cap[0].trimRight()\n        };\n      }\n\n      const text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic\n          ? rtrim(text, '\\n')\n          : text\n      };\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n    if (cap) {\n      const raw = cap[0];\n      const text = indentCodeCompensation(raw, cap[3] || '');\n\n      return {\n        type: 'code',\n        raw,\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n    if (cap) {\n      let text = cap[2].trim();\n\n      // remove trailing #s\n      if (/#$/.test(text)) {\n        const trimmed = rtrim(text, '#');\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: text\n      };\n    }\n  }\n\n  nptable(src) {\n    const cap = this.rules.block.nptable.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n        raw: cap[0]\n      };\n\n      if (item.header.length === item.align.length) {\n        let l = item.align.length;\n        let i;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ *> ?/gm, '');\n\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  list(src) {\n    const cap = this.rules.block.list.exec(src);\n    if (cap) {\n      let raw = cap[0];\n      const bull = cap[2];\n      const isordered = bull.length > 1;\n\n      const list = {\n        type: 'list',\n        raw,\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n\n      // Get each top-level item.\n      const itemMatch = cap[0].match(this.rules.block.item);\n\n      let next = false,\n        item,\n        space,\n        bcurr,\n        bnext,\n        addBack,\n        loose,\n        istask,\n        ischecked;\n\n      let l = itemMatch.length;\n      bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\n      for (let i = 0; i < l; i++) {\n        item = itemMatch[i];\n        raw = item;\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\n          if (\n            !this.options.pedantic\n              ? bnext[1].length > bcurr[0].length || bnext[1].length > 3\n              : bnext[1].length > bcurr[1].length\n          ) {\n            // nested list\n            itemMatch.splice(i, 2, itemMatch[i] + '\\n' + itemMatch[i + 1]);\n            i--;\n            l--;\n            continue;\n          } else {\n            if (\n              // different bullet style\n              !this.options.pedantic || this.options.smartLists\n                ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1]\n                : isordered === (bnext[2].length === 1)\n            ) {\n              addBack = itemMatch.slice(i + 1).join('\\n');\n              list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n              i = l - 1;\n            }\n          }\n          bcurr = bnext;\n        }\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+[.)]) ?/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          list.loose = true;\n        }\n\n        // Check for task list items\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.test(item);\n          ischecked = undefined;\n          if (istask) {\n            ischecked = item[1] !== ' ';\n            item = item.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw,\n          task: istask,\n          checked: ischecked,\n          loose: loose,\n          text: item\n        });\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n    if (cap) {\n      return {\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0]\n      };\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n\n        let l = item.align.length;\n        let i;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1]\n      };\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n    if (cap) {\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      };\n    }\n  }\n\n  text(src, tokens) {\n    const cap = this.rules.block.text.exec(src);\n    if (cap) {\n      const lastToken = tokens[tokens.length - 1];\n      if (lastToken && lastToken.type === 'text') {\n        return {\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0]\n      };\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  }\n\n  tag(src, inLink, inRawBlock) {\n    const cap = this.rules.inline.tag.exec(src);\n    if (cap) {\n      if (!inLink && /^<a /i.test(cap[0])) {\n        inLink = true;\n      } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n        inLink = false;\n      }\n      if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = true;\n      } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize\n          ? 'text'\n          : 'html',\n        raw: cap[0],\n        inLink,\n        inRawBlock,\n        text: this.options.sanitize\n          ? (this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape(cap[0]))\n          : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n    if (cap) {\n      const trimmedUrl = cap[2].trim();\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!(/>$/.test(trimmedUrl))) {\n          return;\n        }\n\n        // ending angle bracket cannot be escaped\n        const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        const lastParenIndex = findClosingBracket(cap[2], '()');\n        if (lastParenIndex > -1) {\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          const linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n      let href = cap[2];\n      let title = '';\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0]);\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n    if ((cap = this.rules.inline.reflink.exec(src))\n        || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n      if (!link || !link.href) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n      return outputLink(cap, link, cap[0]);\n    }\n  }\n\n  strong(src, maskedSrc, prevChar = '') {\n    let match = this.rules.inline.strong.start.exec(src);\n\n    if (match && (!match[1] || (match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))))) {\n      maskedSrc = maskedSrc.slice(-1 * src.length);\n      const endReg = match[0] === '**' ? this.rules.inline.strong.endAst : this.rules.inline.strong.endUnd;\n\n      endReg.lastIndex = 0;\n\n      let cap;\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        cap = this.rules.inline.strong.middle.exec(maskedSrc.slice(0, match.index + 3));\n        if (cap) {\n          return {\n            type: 'strong',\n            raw: src.slice(0, cap[0].length),\n            text: src.slice(2, cap[0].length - 2)\n          };\n        }\n      }\n    }\n  }\n\n  em(src, maskedSrc, prevChar = '') {\n    let match = this.rules.inline.em.start.exec(src);\n\n    if (match && (!match[1] || (match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))))) {\n      maskedSrc = maskedSrc.slice(-1 * src.length);\n      const endReg = match[0] === '*' ? this.rules.inline.em.endAst : this.rules.inline.em.endUnd;\n\n      endReg.lastIndex = 0;\n\n      let cap;\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        cap = this.rules.inline.em.middle.exec(maskedSrc.slice(0, match.index + 2));\n        if (cap) {\n          return {\n            type: 'em',\n            raw: src.slice(0, cap[0].length),\n            text: src.slice(1, cap[0].length - 1)\n          };\n        }\n      }\n    }\n  }\n\n  codespan(src) {\n    const cap = this.rules.inline.code.exec(src);\n    if (cap) {\n      let text = cap[2].replace(/\\n/g, ' ');\n      const hasNonSpaceChars = /[^ ]/.test(text);\n      const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  br(src) {\n    const cap = this.rules.inline.br.exec(src);\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  }\n\n  del(src) {\n    const cap = this.rules.inline.del.exec(src);\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2]\n      };\n    }\n  }\n\n  autolink(src, mangle) {\n    const cap = this.rules.inline.autolink.exec(src);\n    if (cap) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  url(src, mangle) {\n    let cap;\n    if (cap = this.rules.inline.url.exec(src)) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        let prevCapZero;\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  inlineText(src, inRawBlock, smartypants) {\n    const cap = this.rules.inline.text.exec(src);\n    if (cap) {\n      let text;\n      if (inRawBlock) {\n        text = this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n      return {\n        type: 'text',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n};\n","const {\n  noopTest,\n  edit,\n  merge\n} = require('./helpers.js');\n\n/**\n * Block-Level Grammar\n */\nconst block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  nptable: noopTest,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.listItemStart = edit(/^( *)(bull)/)\n  .replace('bull', block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)', // Cells\n  table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' {0,3}\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n});\n\nblock.gfm.nptable = edit(block.gfm.nptable)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.gfm.table = edit(block.gfm.table)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest, // fences not supported\n  paragraph: edit(block.normal._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' *#{1,6} *[^\\n]')\n    .replace('lheading', block.lheading)\n    .replace('blockquote', ' {0,3}>')\n    .replace('|fences', '')\n    .replace('|list', '')\n    .replace('|html', '')\n    .getRegex()\n});\n\n/**\n * Inline-Level Grammar\n */\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  strong: {\n    start: /^(?:(\\*\\*(?=[*punctuation]))|\\*\\*)(?![\\s])|__/, // (1) returns if starts w/ punctuation\n    middle: /^\\*\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*\\*$|^__(?![\\s])((?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?)__$/,\n    endAst: /[^punctuation\\s]\\*\\*(?!\\*)|[punctuation]\\*\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/, // last char can't be punct, or final * must also be followed by punct (or endline)\n    endUnd: /[^\\s]__(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n  },\n  em: {\n    start: /^(?:(\\*(?=[punctuation]))|\\*)(?![*\\s])|_/, // (1) returns if starts w/ punctuation\n    middle: /^\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*$|^_(?![_\\s])(?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?_$/,\n    endAst: /[^punctuation\\s]\\*(?!\\*)|[punctuation]\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/, // last char can't be punct, or final * must also be followed by punct (or endline)\n    endUnd: /[^\\s]_(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n  },\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\s*punctuation])/\n};\n\n// list of punctuation marks from common mark spec\n// without * and _ to workaround cases with double emphasis\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();\n\n// sequences em should skip over [title](link), `code`, <html>\ninline._blockSkip = '\\\\[[^\\\\]]*?\\\\]\\\\([^\\\\)]*?\\\\)|`[^`]*?`|<[^>]*?>';\ninline._overlapSkip = '__[^_]*?__|\\\\*\\\\*\\\\[^\\\\*\\\\]*?\\\\*\\\\*';\n\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\n\ninline.em.start = edit(inline.em.start)\n  .replace(/punctuation/g, inline._punctuation)\n  .getRegex();\n\ninline.em.middle = edit(inline.em.middle)\n  .replace(/punctuation/g, inline._punctuation)\n  .replace(/overlapSkip/g, inline._overlapSkip)\n  .getRegex();\n\ninline.em.endAst = edit(inline.em.endAst, 'g')\n  .replace(/punctuation/g, inline._punctuation)\n  .getRegex();\n\ninline.em.endUnd = edit(inline.em.endUnd, 'g')\n  .replace(/punctuation/g, inline._punctuation)\n  .getRegex();\n\ninline.strong.start = edit(inline.strong.start)\n  .replace(/punctuation/g, inline._punctuation)\n  .getRegex();\n\ninline.strong.middle = edit(inline.strong.middle)\n  .replace(/punctuation/g, inline._punctuation)\n  .replace(/overlapSkip/g, inline._overlapSkip)\n  .getRegex();\n\ninline.strong.endAst = edit(inline.strong.endAst, 'g')\n  .replace(/punctuation/g, inline._punctuation)\n  .getRegex();\n\ninline.strong.endUnd = edit(inline.strong.endUnd, 'g')\n  .replace(/punctuation/g, inline._punctuation)\n  .getRegex();\n\ninline.blockSkip = edit(inline._blockSkip, 'g')\n  .getRegex();\n\ninline.overlapSkip = edit(inline._overlapSkip, 'g')\n  .getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', inline._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g')\n  .replace('reflink', inline.reflink)\n  .replace('nolink', inline.nolink)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text)\n    .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n    .replace(/\\{2,\\}/g, '*')\n    .getRegex()\n});\n\nmodule.exports = {\n  block,\n  inline\n};\n","const Tokenizer = require('./Tokenizer.js');\nconst { defaults } = require('./defaults.js');\nconst { block, inline } = require('./rules.js');\nconst { repeatString } = require('./helpers.js');\n\n/**\n * smartypants text replacement\n */\nfunction smartypants(text) {\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n}\n\n/**\n * mangle email addresses\n */\nfunction mangle(text) {\n  let out = '',\n    i,\n    ch;\n\n  const l = text.length;\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n\n/**\n * Block Lexer\n */\nmodule.exports = class Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n\n    const rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n    this.tokenizer.rules = rules;\n  }\n\n  /**\n   * Expose Rules\n   */\n  static get rules() {\n    return {\n      block,\n      inline\n    };\n  }\n\n  /**\n   * Static Lex Method\n   */\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n\n  /**\n   * Static Lex Inline Method\n   */\n  static lexInline(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n\n  /**\n   * Preprocessing\n   */\n  lex(src) {\n    src = src\n      .replace(/\\r\\n|\\r/g, '\\n')\n      .replace(/\\t/g, '    ');\n\n    this.blockTokens(src, this.tokens, true);\n\n    this.inline(this.tokens);\n\n    return this.tokens;\n  }\n\n  /**\n   * Lexing\n   */\n  blockTokens(src, tokens = [], top = true) {\n    if (this.options.pedantic) {\n      src = src.replace(/^ +$/gm, '');\n    }\n    let token, i, l, lastToken;\n\n    while (src) {\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n        if (token.type) {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.code(src, tokens)) {\n        src = src.substring(token.raw.length);\n        if (token.type) {\n          tokens.push(token);\n        } else {\n          lastToken = tokens[tokens.length - 1];\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n        }\n        continue;\n      }\n\n      // fences\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // heading\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // table no leading pipe (gfm)\n      if (token = this.tokenizer.nptable(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // hr\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // blockquote\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.blockTokens(token.text, [], top);\n        tokens.push(token);\n        continue;\n      }\n\n      // list\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        l = token.items.length;\n        for (i = 0; i < l; i++) {\n          token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n        }\n        tokens.push(token);\n        continue;\n      }\n\n      // html\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // def\n      if (top && (token = this.tokenizer.def(src))) {\n        src = src.substring(token.raw.length);\n        if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // lheading\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // top-level paragraph\n      if (top && (token = this.tokenizer.paragraph(src))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.text(src, tokens)) {\n        src = src.substring(token.raw.length);\n        if (token.type) {\n          tokens.push(token);\n        } else {\n          lastToken = tokens[tokens.length - 1];\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n  inline(tokens) {\n    let i,\n      j,\n      k,\n      l2,\n      row,\n      token;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n      switch (token.type) {\n        case 'paragraph':\n        case 'text':\n        case 'heading': {\n          token.tokens = [];\n          this.inlineTokens(token.text, token.tokens);\n          break;\n        }\n        case 'table': {\n          token.tokens = {\n            header: [],\n            cells: []\n          };\n\n          // header\n          l2 = token.header.length;\n          for (j = 0; j < l2; j++) {\n            token.tokens.header[j] = [];\n            this.inlineTokens(token.header[j], token.tokens.header[j]);\n          }\n\n          // cells\n          l2 = token.cells.length;\n          for (j = 0; j < l2; j++) {\n            row = token.cells[j];\n            token.tokens.cells[j] = [];\n            for (k = 0; k < row.length; k++) {\n              token.tokens.cells[j][k] = [];\n              this.inlineTokens(row[k], token.tokens.cells[j][k]);\n            }\n          }\n\n          break;\n        }\n        case 'blockquote': {\n          this.inline(token.tokens);\n          break;\n        }\n        case 'list': {\n          l2 = token.items.length;\n          for (j = 0; j < l2; j++) {\n            this.inline(token.items[j].tokens);\n          }\n          break;\n        }\n        default: {\n          // do nothing\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Lexing/Compiling\n   */\n  inlineTokens(src, tokens = [], inLink = false, inRawBlock = false) {\n    let token;\n\n    // String with links masked to avoid interference with em and strong\n    let maskedSrc = src;\n    let match;\n    let keepPrevChar, prevChar;\n\n    // Mask out reflinks\n    if (this.tokens.links) {\n      const links = Object.keys(this.tokens.links);\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    }\n    // Mask out other blocks\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    }\n\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n      keepPrevChar = false;\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // tag\n      if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n        src = src.substring(token.raw.length);\n        inLink = token.inLink;\n        inRawBlock = token.inRawBlock;\n        tokens.push(token);\n        continue;\n      }\n\n      // link\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n        tokens.push(token);\n        continue;\n      }\n\n      // reflink, nolink\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n        tokens.push(token);\n        continue;\n      }\n\n      // strong\n      if (token = this.tokenizer.strong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      }\n\n      // em\n      if (token = this.tokenizer.em(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // br\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // del (gfm)\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      }\n\n      // autolink\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // url (gfm)\n      if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n        src = src.substring(token.raw.length);\n        prevChar = token.raw.slice(-1);\n        keepPrevChar = true;\n        tokens.push(token);\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n};\n","const { defaults } = require('./defaults.js');\nconst {\n  cleanUrl,\n  escape\n} = require('./helpers.js');\n\n/**\n * Renderer\n */\nmodule.exports = class Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    code = code.replace(/\\n$/, '') + '\\n';\n\n    if (!lang) {\n      return '<pre><code>'\n        + (escaped ? code : escape(code, true))\n        + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"'\n      + this.options.langPrefix\n      + escape(lang, true)\n      + '\">'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>\\n';\n  }\n\n  blockquote(quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  }\n\n  html(html) {\n    return html;\n  }\n\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h'\n        + level\n        + ' id=\"'\n        + this.options.headerPrefix\n        + slugger.slug(raw)\n        + '\">'\n        + text\n        + '</h'\n        + level\n        + '>\\n';\n    }\n    // ignore IDs\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  }\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  }\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  listitem(text) {\n    return '<li>' + text + '</li>\\n';\n  }\n\n  checkbox(checked) {\n    return '<input '\n      + (checked ? 'checked=\"\" ' : '')\n      + 'disabled=\"\" type=\"checkbox\"'\n      + (this.options.xhtml ? ' /' : '')\n      + '> ';\n  }\n\n  paragraph(text) {\n    return '<p>' + text + '</p>\\n';\n  }\n\n  table(header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n\n    return '<table>\\n'\n      + '<thead>\\n'\n      + header\n      + '</thead>\\n'\n      + body\n      + '</table>\\n';\n  }\n\n  tablerow(content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  }\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align\n      ? '<' + type + ' align=\"' + flags.align + '\">'\n      : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  }\n\n  // span level renderer\n  strong(text) {\n    return '<strong>' + text + '</strong>';\n  }\n\n  em(text) {\n    return '<em>' + text + '</em>';\n  }\n\n  codespan(text) {\n    return '<code>' + text + '</code>';\n  }\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  del(text) {\n    return '<del>' + text + '</del>';\n  }\n\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    let out = '<a href=\"' + escape(href) + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  }\n\n  text(text) {\n    return text;\n  }\n};\n","/**\n * TextRenderer\n * returns only the textual part of the token\n */\nmodule.exports = class TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n};\n","/**\n * Slugger generates header id\n */\nmodule.exports = class Slugger {\n  constructor() {\n    this.seen = {};\n  }\n\n  serialize(value) {\n    return value\n      .toLowerCase()\n      .trim()\n      // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '')\n      // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n      .replace(/\\s/g, '-');\n  }\n\n  /**\n   * Finds the next safe (unique) slug to use\n   */\n  getNextSafeSlug(originalSlug, isDryRun) {\n    let slug = originalSlug;\n    let occurenceAccumulator = 0;\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n    return slug;\n  }\n\n  /**\n   * Convert string to unique id\n   * @param {object} options\n   * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n   */\n  slug(value, options = {}) {\n    const slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  }\n};\n","const Renderer = require('./Renderer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst Slugger = require('./Slugger.js');\nconst { defaults } = require('./defaults.js');\nconst {\n  unescape\n} = require('./helpers.js');\n\n/**\n * Parsing & Compiling\n */\nmodule.exports = class Parser {\n  constructor(options) {\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n\n  /**\n   * Static Parse Inline Method\n   */\n  static parseInline(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n\n  /**\n   * Parse Loop\n   */\n  parse(tokens, top = true) {\n    let out = '',\n      i,\n      j,\n      k,\n      l2,\n      l3,\n      row,\n      cell,\n      header,\n      body,\n      token,\n      ordered,\n      start,\n      loose,\n      itemBody,\n      item,\n      checked,\n      task,\n      checkbox;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n      switch (token.type) {\n        case 'space': {\n          continue;\n        }\n        case 'hr': {\n          out += this.renderer.hr();\n          continue;\n        }\n        case 'heading': {\n          out += this.renderer.heading(\n            this.parseInline(token.tokens),\n            token.depth,\n            unescape(this.parseInline(token.tokens, this.textRenderer)),\n            this.slugger);\n          continue;\n        }\n        case 'code': {\n          out += this.renderer.code(token.text,\n            token.lang,\n            token.escaped);\n          continue;\n        }\n        case 'table': {\n          header = '';\n\n          // header\n          cell = '';\n          l2 = token.header.length;\n          for (j = 0; j < l2; j++) {\n            cell += this.renderer.tablecell(\n              this.parseInline(token.tokens.header[j]),\n              { header: true, align: token.align[j] }\n            );\n          }\n          header += this.renderer.tablerow(cell);\n\n          body = '';\n          l2 = token.cells.length;\n          for (j = 0; j < l2; j++) {\n            row = token.tokens.cells[j];\n\n            cell = '';\n            l3 = row.length;\n            for (k = 0; k < l3; k++) {\n              cell += this.renderer.tablecell(\n                this.parseInline(row[k]),\n                { header: false, align: token.align[k] }\n              );\n            }\n\n            body += this.renderer.tablerow(cell);\n          }\n          out += this.renderer.table(header, body);\n          continue;\n        }\n        case 'blockquote': {\n          body = this.parse(token.tokens);\n          out += this.renderer.blockquote(body);\n          continue;\n        }\n        case 'list': {\n          ordered = token.ordered;\n          start = token.start;\n          loose = token.loose;\n          l2 = token.items.length;\n\n          body = '';\n          for (j = 0; j < l2; j++) {\n            item = token.items[j];\n            checked = item.checked;\n            task = item.task;\n\n            itemBody = '';\n            if (item.task) {\n              checkbox = this.renderer.checkbox(checked);\n              if (loose) {\n                if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                  item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                    item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                  }\n                } else {\n                  item.tokens.unshift({\n                    type: 'text',\n                    text: checkbox\n                  });\n                }\n              } else {\n                itemBody += checkbox;\n              }\n            }\n\n            itemBody += this.parse(item.tokens, loose);\n            body += this.renderer.listitem(itemBody, task, checked);\n          }\n\n          out += this.renderer.list(body, ordered, start);\n          continue;\n        }\n        case 'html': {\n          // TODO parse inline content if parameter markdown=1\n          out += this.renderer.html(token.text);\n          continue;\n        }\n        case 'paragraph': {\n          out += this.renderer.paragraph(this.parseInline(token.tokens));\n          continue;\n        }\n        case 'text': {\n          body = token.tokens ? this.parseInline(token.tokens) : token.text;\n          while (i + 1 < l && tokens[i + 1].type === 'text') {\n            token = tokens[++i];\n            body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n          }\n          out += top ? this.renderer.paragraph(body) : body;\n          continue;\n        }\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n\n    return out;\n  }\n\n  /**\n   * Parse Inline Tokens\n   */\n  parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    let out = '',\n      i,\n      token;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n      switch (token.type) {\n        case 'escape': {\n          out += renderer.text(token.text);\n          break;\n        }\n        case 'html': {\n          out += renderer.html(token.text);\n          break;\n        }\n        case 'link': {\n          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'image': {\n          out += renderer.image(token.href, token.title, token.text);\n          break;\n        }\n        case 'strong': {\n          out += renderer.strong(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'em': {\n          out += renderer.em(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'codespan': {\n          out += renderer.codespan(token.text);\n          break;\n        }\n        case 'br': {\n          out += renderer.br();\n          break;\n        }\n        case 'del': {\n          out += renderer.del(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'text': {\n          out += renderer.text(token.text);\n          break;\n        }\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n    return out;\n  }\n};\n","const Lexer = require('./Lexer.js');\nconst Parser = require('./Parser.js');\nconst Tokenizer = require('./Tokenizer.js');\nconst Renderer = require('./Renderer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst Slugger = require('./Slugger.js');\nconst {\n  merge,\n  checkSanitizeDeprecation,\n  escape\n} = require('./helpers.js');\nconst {\n  getDefaults,\n  changeDefaults,\n  defaults\n} = require('./defaults.js');\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (typeof opt === 'function') {\n    callback = opt;\n    opt = null;\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  if (callback) {\n    const highlight = opt.highlight;\n    let tokens;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    const done = function(err) {\n      let out;\n\n      if (!err) {\n        try {\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!tokens.length) return done();\n\n    let pending = 0;\n    marked.walkTokens(tokens, function(token) {\n      if (token.type === 'code') {\n        pending++;\n        setTimeout(() => {\n          highlight(token.text, token.lang, function(err, code) {\n            if (err) {\n              return done(err);\n            }\n            if (code != null && code !== token.text) {\n              token.text = code;\n              token.escaped = true;\n            }\n\n            pending--;\n            if (pending === 0) {\n              done();\n            }\n          });\n        }, 0);\n      }\n    });\n\n    if (pending === 0) {\n      done();\n    }\n\n    return;\n  }\n\n  try {\n    const tokens = Lexer.lex(src, opt);\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n    return Parser.parse(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\n\nmarked.defaults = defaults;\n\n/**\n * Use Extension\n */\n\nmarked.use = function(extension) {\n  const opts = merge({}, extension);\n  if (extension.renderer) {\n    const renderer = marked.defaults.renderer || new Renderer();\n    for (const prop in extension.renderer) {\n      const prevRenderer = renderer[prop];\n      renderer[prop] = (...args) => {\n        let ret = extension.renderer[prop].apply(renderer, args);\n        if (ret === false) {\n          ret = prevRenderer.apply(renderer, args);\n        }\n        return ret;\n      };\n    }\n    opts.renderer = renderer;\n  }\n  if (extension.tokenizer) {\n    const tokenizer = marked.defaults.tokenizer || new Tokenizer();\n    for (const prop in extension.tokenizer) {\n      const prevTokenizer = tokenizer[prop];\n      tokenizer[prop] = (...args) => {\n        let ret = extension.tokenizer[prop].apply(tokenizer, args);\n        if (ret === false) {\n          ret = prevTokenizer.apply(tokenizer, args);\n        }\n        return ret;\n      };\n    }\n    opts.tokenizer = tokenizer;\n  }\n  if (extension.walkTokens) {\n    const walkTokens = marked.defaults.walkTokens;\n    opts.walkTokens = (token) => {\n      extension.walkTokens(token);\n      if (walkTokens) {\n        walkTokens(token);\n      }\n    };\n  }\n  marked.setOptions(opts);\n};\n\n/**\n * Run callback for every token\n */\n\nmarked.walkTokens = function(tokens, callback) {\n  for (const token of tokens) {\n    callback(token);\n    switch (token.type) {\n      case 'table': {\n        for (const cell of token.tokens.header) {\n          marked.walkTokens(cell, callback);\n        }\n        for (const row of token.tokens.cells) {\n          for (const cell of row) {\n            marked.walkTokens(cell, callback);\n          }\n        }\n        break;\n      }\n      case 'list': {\n        marked.walkTokens(token.items, callback);\n        break;\n      }\n      default: {\n        if (token.tokens) {\n          marked.walkTokens(token.tokens, callback);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Parse Inline\n */\nmarked.parseInline = function(src, opt) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked.parseInline(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked.parseInline(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  try {\n    const tokens = Lexer.lexInline(src, opt);\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n    return Parser.parseInline(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.Tokenizer = Tokenizer;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nmodule.exports = marked;\n","var win = window || {}\nvar nav = navigator || {}\nfunction Detect(userAgent) {\n  var u = userAgent || nav.userAgent\n  var _this = this\n\n  var match = {\n    //内核\n    Trident: u.indexOf('Trident') > -1 || u.indexOf('NET CLR') > -1,\n    Presto: u.indexOf('Presto') > -1,\n    WebKit: u.indexOf('AppleWebKit') > -1,\n    Gecko: u.indexOf('Gecko/') > -1,\n    //浏览器\n    Safari: u.indexOf('Safari') > -1,\n    Chrome: u.indexOf('Chrome') > -1 || u.indexOf('CriOS') > -1,\n    IE: u.indexOf('MSIE') > -1 || u.indexOf('Trident') > -1,\n    Edge: u.indexOf('Edge') > -1,\n    Firefox: u.indexOf('Firefox') > -1 || u.indexOf('FxiOS') > -1,\n    'Firefox Focus': u.indexOf('Focus') > -1,\n    Chromium: u.indexOf('Chromium') > -1,\n    Opera: u.indexOf('Opera') > -1 || u.indexOf('OPR') > -1,\n    Vivaldi: u.indexOf('Vivaldi') > -1,\n    Yandex: u.indexOf('YaBrowser') > -1,\n    Kindle: u.indexOf('Kindle') > -1 || u.indexOf('Silk/') > -1,\n    '360': u.indexOf('360EE') > -1 || u.indexOf('360SE') > -1,\n    UC: u.indexOf('UC') > -1 || u.indexOf(' UBrowser') > -1,\n    QQBrowser: u.indexOf('QQBrowser') > -1,\n    QQ: u.indexOf('QQ/') > -1,\n    Baidu: u.indexOf('Baidu') > -1 || u.indexOf('BIDUBrowser') > -1,\n    Maxthon: u.indexOf('Maxthon') > -1,\n    Sogou: u.indexOf('MetaSr') > -1 || u.indexOf('Sogou') > -1,\n    LBBROWSER: u.indexOf('LBBROWSER') > -1,\n    '2345Explorer': u.indexOf('2345Explorer') > -1,\n    TheWorld: u.indexOf('TheWorld') > -1,\n    XiaoMi: u.indexOf('MiuiBrowser') > -1,\n    Quark: u.indexOf('Quark') > -1,\n    Qiyu: u.indexOf('Qiyu') > -1,\n    Wechat: u.indexOf('MicroMessenger') > -1,\n    Taobao: u.indexOf('AliApp(TB') > -1,\n    Alipay: u.indexOf('AliApp(AP') > -1,\n    Weibo: u.indexOf('Weibo') > -1,\n    Douban: u.indexOf('com.douban.frodo') > -1,\n    Suning: u.indexOf('SNEBUY-APP') > -1,\n    iQiYi: u.indexOf('IqiyiApp') > -1,\n    //系统或平台\n    Windows: u.indexOf('Windows') > -1,\n    Linux: u.indexOf('Linux') > -1 || u.indexOf('X11') > -1,\n    'Mac OS': u.indexOf('Macintosh') > -1,\n    Android: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1,\n    Ubuntu: u.indexOf('Ubuntu') > -1,\n    FreeBSD: u.indexOf('FreeBSD') > -1,\n    Debian: u.indexOf('Debian') > -1,\n    'Windows Phone': u.indexOf('IEMobile') > -1 || u.indexOf('Windows Phone') > -1,\n    BlackBerry: u.indexOf('BlackBerry') > -1 || u.indexOf('RIM') > -1,\n    MeeGo: u.indexOf('MeeGo') > -1,\n    Symbian: u.indexOf('Symbian') > -1,\n    iOS: u.indexOf('like Mac OS X') > -1,\n    'Chrome OS': u.indexOf('CrOS') > -1,\n    WebOS: u.indexOf('hpwOS') > -1,\n    //设备\n    Mobile: u.indexOf('Mobi') > -1 || u.indexOf('iPh') > -1 || u.indexOf('480') > -1,\n    Tablet: u.indexOf('Tablet') > -1 || u.indexOf('Pad') > -1 || u.indexOf('Nexus 7') > -1\n  }\n  //修正\n  if (match['Mobile']) {\n    match['Mobile'] = !(u.indexOf('iPad') > -1)\n  } else if (win.showModalDialog && win.chrome) {\n    match['360'] = true\n  }\n  //基本信息\n  var hash = {\n    engine: ['WebKit', 'Trident', 'Gecko', 'Presto'],\n    browser: [\n      'Safari',\n      'Chrome',\n      'Edge',\n      'IE',\n      'Firefox',\n      'Firefox Focus',\n      'Chromium',\n      'Opera',\n      'Vivaldi',\n      'Yandex',\n      'Kindle',\n      '360',\n      'UC',\n      'QQBrowser',\n      'QQ',\n      'Baidu',\n      'Maxthon',\n      'Sogou',\n      'LBBROWSER',\n      '2345Explorer',\n      'TheWorld',\n      'XiaoMi',\n      'Quark',\n      'Qiyu',\n      'Wechat',\n      'Taobao',\n      'Alipay',\n      'Weibo',\n      'Douban',\n      'Suning',\n      'iQiYi'\n    ],\n    os: [\n      'Windows',\n      'Linux',\n      'Mac OS',\n      'Android',\n      'Ubuntu',\n      'FreeBSD',\n      'Debian',\n      'iOS',\n      'Windows Phone',\n      'BlackBerry',\n      'MeeGo',\n      'Symbian',\n      'Chrome OS',\n      'WebOS'\n    ],\n    device: ['Mobile', 'Tablet']\n  }\n  _this.device = 'PC'\n  _this.language = (function () {\n    var g = nav.browserLanguage || nav.language\n    var arr = g.split('-')\n    if (arr[1]) {\n      arr[1] = arr[1].toUpperCase()\n    }\n    return arr.join('_')\n  })()\n  for (var s in hash) {\n    for (var i = 0; i < hash[s].length; i++) {\n      var value = hash[s][i]\n      if (match[value]) {\n        _this[s] = value\n      }\n    }\n  }\n  //系统版本信息\n  var osVersion = {\n    Windows: function () {\n      var v = u.replace(/^.*Windows NT ([\\d.]+);.*$/, '$1')\n      var hash = {\n        '6.4': '10',\n        '6.3': '8.1',\n        '6.2': '8',\n        '6.1': '7',\n        '6.0': 'Vista',\n        '5.2': 'XP',\n        '5.1': 'XP',\n        '5.0': '2000'\n      }\n      return hash[v] || v\n    },\n    Android: function () {\n      return u.replace(/^.*Android ([\\d.]+);.*$/, '$1')\n    },\n    iOS: function () {\n      return u.replace(/^.*OS ([\\d_]+) like.*$/, '$1').replace(/_/g, '.')\n    },\n    Debian: function () {\n      return u.replace(/^.*Debian\\/([\\d.]+).*$/, '$1')\n    },\n    'Windows Phone': function () {\n      return u.replace(/^.*Windows Phone( OS)? ([\\d.]+);.*$/, '$2')\n    },\n    'Mac OS': function () {\n      return u.replace(/^.*Mac OS X ([\\d_]+).*$/, '$1').replace(/_/g, '.')\n    },\n    WebOS: function () {\n      return u.replace(/^.*hpwOS\\/([\\d.]+);.*$/, '$1')\n    }\n  }\n  _this.osVersion = ''\n  if (osVersion[_this.os]) {\n    _this.osVersion = osVersion[_this.os]()\n    if (_this.osVersion == u) {\n      _this.osVersion = ''\n    }\n  }\n  //浏览器版本信息\n  var version = {\n    Safari: function () {\n      return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1')\n    },\n    Chrome: function () {\n      return u.replace(/^.*Chrome\\/([\\d.]+).*$/, '$1').replace(/^.*CriOS\\/([\\d.]+).*$/, '$1')\n    },\n    IE: function () {\n      return u.replace(/^.*MSIE ([\\d.]+).*$/, '$1').replace(/^.*rv:([\\d.]+).*$/, '$1')\n    },\n    Edge: function () {\n      return u.replace(/^.*Edge\\/([\\d.]+).*$/, '$1')\n    },\n    Firefox: function () {\n      return u.replace(/^.*Firefox\\/([\\d.]+).*$/, '$1').replace(/^.*FxiOS\\/([\\d.]+).*$/, '$1')\n    },\n    'Firefox Focus': function () {\n      return u.replace(/^.*Focus\\/([\\d.]+).*$/, '$1')\n    },\n    Chromium: function () {\n      return u.replace(/^.*Chromium\\/([\\d.]+).*$/, '$1')\n    },\n    Opera: function () {\n      return u.replace(/^.*Opera\\/([\\d.]+).*$/, '$1').replace(/^.*OPR\\/([\\d.]+).*$/, '$1')\n    },\n    Vivaldi: function () {\n      return u.replace(/^.*Vivaldi\\/([\\d.]+).*$/, '$1')\n    },\n    Yandex: function () {\n      return u.replace(/^.*YaBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    Kindle: function () {\n      return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1')\n    },\n    Maxthon: function () {\n      return u.replace(/^.*Maxthon\\/([\\d.]+).*$/, '$1')\n    },\n    QQBrowser: function () {\n      return u.replace(/^.*QQBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    QQ: function () {\n      return u.replace(/^.*QQ\\/([\\d.]+).*$/, '$1')\n    },\n    Baidu: function () {\n      return u.replace(/^.*BIDUBrowser[\\s\\/]([\\d.]+).*$/, '$1')\n    },\n    UC: function () {\n      return u.replace(/^.*UC?Browser\\/([\\d.]+).*$/, '$1')\n    },\n    Sogou: function () {\n      return u.replace(/^.*SE ([\\d.X]+).*$/, '$1').replace(/^.*SogouMobileBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    '2345Explorer': function () {\n      return u.replace(/^.*2345Explorer\\/([\\d.]+).*$/, '$1')\n    },\n    TheWorld: function () {\n      return u.replace(/^.*TheWorld ([\\d.]+).*$/, '$1')\n    },\n    XiaoMi: function () {\n      return u.replace(/^.*MiuiBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    Quark: function () {\n      return u.replace(/^.*Quark\\/([\\d.]+).*$/, '$1')\n    },\n    Qiyu: function () {\n      return u.replace(/^.*Qiyu\\/([\\d.]+).*$/, '$1')\n    },\n    Wechat: function () {\n      return u.replace(/^.*MicroMessenger\\/([\\d.]+).*$/, '$1')\n    },\n    Taobao: function () {\n      return u.replace(/^.*AliApp\\(TB\\/([\\d.]+).*$/, '$1')\n    },\n    Alipay: function () {\n      return u.replace(/^.*AliApp\\(AP\\/([\\d.]+).*$/, '$1')\n    },\n    Weibo: function () {\n      return u.replace(/^.*weibo__([\\d.]+).*$/, '$1')\n    },\n    Douban: function () {\n      return u.replace(/^.*com.douban.frodo\\/([\\d.]+).*$/, '$1')\n    },\n    Suning: function () {\n      return u.replace(/^.*SNEBUY-APP([\\d.]+).*$/, '$1')\n    },\n    iQiYi: function () {\n      return u.replace(/^.*IqiyiVersion\\/([\\d.]+).*$/, '$1')\n    }\n  }\n  _this.version = ''\n  if (version[_this.browser]) {\n    _this.version = version[_this.browser]()\n    if (_this.version == u) {\n      _this.version = ''\n    }\n  }\n  //修正\n  if (_this.browser == 'Edge') {\n    _this.engine = 'EdgeHTML'\n  } else if (_this.browser == 'Chrome' && parseInt(_this.version) > 27) {\n    _this.engine = 'Blink'\n  } else if (_this.browser == 'Opera' && parseInt(_this.version) > 12) {\n    _this.engine = 'Blink'\n  } else if (_this.browser == 'Yandex') {\n    _this.engine = 'Blink'\n  } else if (_this.browser == undefined) {\n    _this.browser = 'Unknow App'\n  }\n}\n\nfunction detectFactory(u) {\n  return new Detect(u)\n}\n\nexport default detectFactory\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","const HtmlUtil = {\n  /**\n   * HTML转码\n   * @param {String} str\n   * @return {String} result\n   */\n  encode(str) {\n    return !!str\n      ? str\n          .replace(/&/g, '&amp;')\n          .replace(/</g, '&lt;')\n          .replace(/>/g, '&gt;')\n          .replace(/ /g, '&nbsp;')\n          .replace(/\\'/g, '&#39;')\n          .replace(/\\\"/g, '&quot;')\n      : ''\n  },\n  /**\n   * HTML解码\n   * @param {String} str\n   * @return {String} result\n   */\n  decode(str) {\n    return !!str\n      ? str\n          .replace(/&amp;/g, '&')\n          .replace(/&lt;/g, '<')\n          .replace(/&gt;/g, '>')\n          .replace(/&nbsp;/g, ' ')\n          .replace(/&#39;/g, \"'\")\n          .replace(/&quot;/g, '\"')\n      : ''\n  }\n}\n\nconst dateFormat = date => {\n  const vDay = padWithZeros(date.getDate(), 2)\n  const vMonth = padWithZeros(date.getMonth() + 1, 2)\n  const vYear = padWithZeros(date.getFullYear(), 2)\n  return `${vYear}-${vMonth}-${vDay}`\n}\n\nconst timeAgo = date => {\n  try {\n    const oldTime = date.getTime()\n    const currTime = new Date().getTime()\n    const diffValue = currTime - oldTime\n\n    const days = Math.floor(diffValue / (24 * 3600 * 1000))\n    if (days === 0) {\n      //计算相差小时数\n      const leave1 = diffValue % (24 * 3600 * 1000) //计算天数后剩余的毫秒数\n      const hours = Math.floor(leave1 / (3600 * 1000))\n      if (hours === 0) {\n        //计算相差分钟数\n        const leave2 = leave1 % (3600 * 1000) //计算小时数后剩余的毫秒数\n        const minutes = Math.floor(leave2 / (60 * 1000))\n        if (minutes === 0) {\n          //计算相差秒数\n          const leave3 = leave2 % (60 * 1000) //计算分钟数后剩余的毫秒数\n          const seconds = Math.round(leave3 / 1000)\n          return seconds + ' 秒前'\n        }\n        return minutes + ' 分钟前'\n      }\n      return hours + ' 小时前'\n    }\n    if (days < 0) return '刚刚'\n\n    if (days < 8) {\n      return days + ' 天前'\n    } else {\n      return dateFormat(date)\n    }\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst padWithZeros = (vNumber, width) => {\n  let numAsString = vNumber.toString()\n  while (numAsString.length < width) {\n    numAsString = '0' + numAsString\n  }\n  return numAsString\n}\n\nconst Event = {\n  on(type, el, handler, capture) {\n    if (el.addEventListener) el.addEventListener(type, handler, capture || false)\n    else if (el.attachEvent) el.attachEvent(`on${type}`, handler)\n    else el[`on${type}`] = handler\n  },\n  off(type, el, handler, capture) {\n    if (el.removeEventListener) el.removeEventListener(type, handler, capture || false)\n    else if (el.detachEvent) el.detachEvent(`on${type}`, handler)\n    else el[`on${type}`] = null\n  }\n}\n\nconst getLink = target => {\n  return HtmlUtil.encode(target.link) || (target.mail && `mailto:${target.mail}`) || 'javascript:void(0);'\n}\n\nconst check = {\n  mail(m) {\n    return {\n      k: /[\\w-\\.]+@([\\w-]+\\.)+[a-z]{2,3}/.test(m),\n      v: m\n    }\n  },\n  link(l) {\n    l = l.length > 0 && (/^(http|https)/.test(l) ? l : `http://${l}`)\n    return {\n      k: /(http|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?/.test(l),\n      v: l\n    }\n  }\n}\n\nexport { HtmlUtil, Event, check, getLink, dateFormat, timeAgo }\n","/*\n * @Author: Ihoey\n * @Email: mail@ihoey.com\n * @Date: 2018-04-20 23:53:17\n * @LastEditors: Ihoey\n * @LastEditTime: 2022-03-31 19:07:30\n */\n\nimport md5 from 'blueimp-md5'\nimport marked from 'marked'\nimport detect from './detect'\nimport './Hitalk.scss'\nimport { version } from '../package.json'\nimport { HtmlUtil, Event, check, getLink, dateFormat, timeAgo } from './utils'\n\nconst gravatar = {\n  cdn: 'https://gravatar.loli.net/avatar/',\n  ds: ['mm', 'identicon', 'monsterid', 'wavatar', 'retro', ''],\n  params: '?s=40',\n  hide: !1\n}\nconst defaultComment = {\n  comment: '',\n  rid: '',\n  nick: 'Guest',\n  mail: '',\n  link: '',\n  ua: navigator.userAgent,\n  url: '',\n  pin: 0,\n  like: 0\n}\nconst GUEST_INFO = ['nick', 'mail', 'link']\nconst store = localStorage\n\nconst smilesData = {\n  泡泡: `呵呵|哈哈|吐舌|太开心|笑眼|花心|小乖|乖|捂嘴笑|滑稽|你懂的|不高兴|怒|汗|黑线|泪|真棒|喷|惊哭|阴险|鄙视|酷|啊|狂汗|what|疑问|酸爽|呀咩爹|委屈|惊讶|睡觉|笑尿|挖鼻|吐|犀利|小红脸|懒得理|勉强|爱心|心碎|玫瑰|礼物|彩虹|太阳|星星月亮|钱币|茶杯|蛋糕|大拇指|胜利|haha|OK|沙发|手纸|香蕉|便便|药丸|红领巾|蜡烛|音乐|灯泡|开心|钱|咦|呼|冷|生气|弱`,\n  阿鲁: `高兴|小怒|脸红|内伤|装大款|赞一个|害羞|汗|吐血倒地|深思|不高兴|无语|亲亲|口水|尴尬|中指|想一想|哭泣|便便|献花|皱眉|傻笑|狂汗|吐|喷水|看不见|鼓掌|阴暗|长草|献黄瓜|邪恶|期待|得意|吐舌|喷血|无所谓|观察|暗地观察|肿包|中枪|大囧|呲牙|抠鼻|不说话|咽气|欢呼|锁眉|蜡烛|坐等|击掌|惊喜|喜极而泣|抽烟|不出所料|愤怒|无奈|黑线|投降|看热闹|扇耳光|小眼睛|中刀`\n}\nconst pReg = new RegExp('\\\\@\\\\(\\\\s*(' + smilesData.泡泡 + ')\\\\s*\\\\)')\nconst aReg = new RegExp('\\\\#\\\\(\\\\s*(' + smilesData.阿鲁 + ')\\\\s*\\\\)')\nlet suffix = ''\nif (window.devicePixelRatio != undefined && window.devicePixelRatio >= 1.49) {\n  suffix = '@2x'\n}\n\nclass Hitalk {\n  constructor(option) {\n    this.md5 = md5\n    this.version = version\n\n    const av = option.av || AV\n    const appId = option.app_id || option.appId\n    const appKey = option.app_key || option.appKey\n    const serverURLs = option.serverURLs || 'https://hitalk-api.ihoey.com'\n\n    if (!appId || !appKey) {\n      this.throw('初始化失败，请检查你的appid或者appkey.')\n    }\n\n    av.init({ appId, appKey, serverURLs })\n    this.v = av\n\n    defaultComment.url = (option.path || location.pathname).replace(/index\\.(html|htm)/, '')\n    // 分页\n    this.pageSize = option.pageSize || 10\n    this.page = 0\n    // 评论数\n    this.initCount()\n    // 初始化评论\n    !!option && this.init(option)\n  }\n\n  throw(msg) {\n    throw new Error(`Hitalk: ${msg}`)\n  }\n\n  init(option) {\n    try {\n      // get el\n      let el =\n        {}.toString.call(option.el) === '[object HTMLDivElement]' ? option.el : document.querySelectorAll(option.el)[0]\n      if ({}.toString.call(el) != '[object HTMLDivElement]') {\n        this.throw(`The target element was not found.`)\n      }\n      this.el = el\n      this.el.classList.add('Hitalk')\n\n      // 自定义 header\n      const guest_info = option.guest_info || GUEST_INFO\n      const inputEl = guest_info.map(item => {\n        switch (item) {\n          case 'nick':\n            return '<input name=\"nick\" placeholder=\"称呼\" class=\"vnick vinput\" type=\"text\">'\n          case 'mail':\n            return '<input name=\"mail\" placeholder=\"邮箱(会收到提醒哦~)\" class=\"vmail vinput\" type=\"email\">'\n          case 'link':\n            return '<input name=\"link\" placeholder=\"网址 http(s)://\" class=\"vlink vinput\" type=\"text\">'\n          default:\n            return ''\n        }\n      })\n\n      // 填充元素\n      let placeholder = option.placeholder || ''\n      let eleHTML = `\n      <div class=\"vwrap\">\n          <div class=\"welcome dn\">欢迎回来，{name}！<span class=\"info-edit\">修改</span></div>\n          <div class=\"${`vheader item${inputEl.length}`}\">${inputEl.join('')}</div>\n          <div class=\"vedit\">\n              <textarea class=\"veditor vinput\" placeholder=\"${placeholder}\"></textarea>\n          </div>\n          <div class=\"vcontrol\">\n              <span class=\"col col-60 smiles\">\n                  <div class=\"col smiles-logo\"><span>^_^</span></div>\n                  <div class=\"col\" title=\"Markdown is Support\">MarkDown is Support</div>\n                  <div class=\"smiles-body\"></div>\n              </span>\n              <div class=\"col col-40 text-right\">\n                  <button type=\"button\" class=\"vsubmit vbtn\">回复</button>\n              </div>\n          </div>\n          <div class=\"vmark dn\"></div>\n      </div>\n      <div class=\"info\">\n          <div class=\"count col\"></div>\n      </div>\n      <div class=\"vloading\"></div>\n      <div class=\"vempty dn\"></div>\n      <ul class=\"vlist\"></ul>\n      <div class=\"vpage txt-right\"></div>`\n\n      this.el.innerHTML = eleHTML\n\n      // Empty Data\n      let vempty = this.el.querySelector('.vempty')\n      const nodata = {\n        show(txt = '还没有评论哦，快来抢沙发吧!') {\n          vempty.innerHTML = txt\n          vempty.classList.remove('dn')\n        },\n        hide() {\n          vempty.classList.add('dn')\n        }\n      }\n\n      // loading\n      let _spinner = `<div class=\"spinner\"><div class=\"r1\"></div><div class=\"r2\"></div><div class=\"r3\"></div><div class=\"r4\"></div><div class=\"r5\"></div></div>`\n      let vloading = this.el.querySelector('.vloading')\n      vloading.innerHTML = _spinner\n      // loading control\n      this.loading = {}\n      this.loading.show = () => {\n        vloading.classList.remove('dn')\n        nodata.hide()\n      }\n      this.loading.hide = () => {\n        vloading.classList.add('dn')\n        el.querySelectorAll('.vcard').length === 0 && nodata.show()\n      }\n\n      gravatar['params'] = '?d=' + (gravatar['ds'].indexOf(option.avatar) > -1 ? option.avatar : 'mm')\n      gravatar['hide'] = option.avatar === 'hide' ? !0 : !1\n    } catch (ex) {\n      let issue = 'https://github.com/ihoey/Hitalk/issues'\n      if (this.el)\n        nodata.show(\n          `<pre style=\"color:red;text-align:left;\">${ex}<br>Hitalk:<b>${this.version}</b><br>反馈：${issue}</pre>`\n        )\n      else\n        console &&\n          console.log(\n            `%c${ex}\\n%cHitalk%c${this.version} ${issue}`,\n            'color:red;',\n            'background:#000;padding:5px;line-height:30px;color:#fff;',\n            'background:#456;line-height:30px;padding:5px;color:#fff;'\n          )\n      return\n    }\n\n    let _mark = this.el.querySelector('.vmark')\n    // alert\n    this.alert = {}\n    this.alert.show = o => {\n      _mark.innerHTML = `<div class=\"valert txt-center\"><div class=\"vtext\">${o.text}</div><div class=\"vbtns\"></div></div>`\n      let _vbtns = _mark.querySelector('.vbtns')\n      let _cBtn = `<button class=\"vcancel vbtn\">${(o && o.ctxt) || '我再看看'}</button>`\n      let _oBtn = `<button class=\"vsure vbtn\">${(o && o.otxt) || '继续提交'}</button>`\n      _vbtns.innerHTML = `${_cBtn}${o.type && _oBtn}`\n      _mark.querySelector('.vcancel').addEventListener('click', e => {\n        this.alert.hide()\n      })\n      _mark.classList.remove('dn')\n      if (o && o.type) {\n        let _ok = _mark.querySelector('.vsure')\n        Event.on('click', _ok, e => {\n          this.alert.hide()\n          o.cb && o.cb()\n        })\n      }\n    }\n    this.alert.hide = () => {\n      _mark.classList.add('dn')\n    }\n\n    // Bind Event\n    this.bind(option)\n  }\n\n  commonQuery(url) {\n    let query = new this.v.Query('Comment')\n    query.equalTo('url', url || defaultComment['url']).descending('createdAt')\n    return query\n  }\n\n  initCount() {\n    const pCount = document.querySelectorAll('.hitalk-comment-count')\n    if (!pCount.length) return false\n\n    const vArr = []\n    const urlArr = []\n\n    for (let i = 0; i < pCount.length; i++) {\n      const el = pCount[i]\n      const url = el.getAttribute('data-xid').replace(/index\\.(html|htm)/, '')\n\n      urlArr[i] = url\n      vArr[i] = this.commonQuery(url)\n    }\n\n    const cq = this.v.Query.or(...vArr)\n    cq.select('url')\n      .limit(1000)\n      .find()\n      .then(res => urlArr.map((e, i) => (pCount[i].innerText = res.filter(x => e === x.get('url')).length)))\n      .catch(this.throw)\n  }\n  /**\n   * Bind Event\n   */\n  bind(option) {\n    let guest_info = (option.guest_info || GUEST_INFO).filter(item => GUEST_INFO.indexOf(item) > -1)\n\n    let expandEvt = el => {\n      if (el.offsetHeight > 180) {\n        el.classList.add('expand')\n        Event.on('click', el, e => {\n          el.setAttribute('class', 'vcontent')\n        })\n      }\n    }\n\n    let insertDom = (ret, mt) => {\n      let _vcard = document.createElement('li')\n      _vcard.setAttribute('class', 'vcard')\n      _vcard.setAttribute('id', ret.id)\n      let _ua = detect(ret.get('ua'))\n      let _img = gravatar['hide']\n        ? ''\n        : `<img class=\"vimg\" src='${gravatar.cdn + md5(ret.get('mail') || ret.get('nick')) + gravatar.params}'>`\n      _vcard.innerHTML = `${_img}<section><div class=\"vhead\"><a rel=\"nofollow\" href=\"${getLink({\n        link: ret.get('link'),\n        mail: ret.get('mail')\n      })}\" target=\"_blank\" >${HtmlUtil.encode(ret.get('nick'))}</a>\n      <span class=\"vsys\">${_ua.os} ${_ua.osVersion}</span>\n      <span class=\"vsys\">${_ua.browser} ${_ua.version}</span>\n      </div><div class=\"vcontent\">${ret.get('comment')}</div><div class=\"vfooter\"><span class=\"vtime\">${timeAgo(\n        ret.get('createdAt')\n      )}</span><span rid='${ret.id}' at='@${ret.get('nick')}' mail='${ret.get(\n        'mail'\n      )}' class=\"vat\">回复</span><div></section>`\n\n      let _vlist = this.el.querySelector('.vlist')\n      let _vlis = _vlist.querySelectorAll('li')\n      let _vat = _vcard.querySelector('.vat')\n      let _as = _vcard.querySelectorAll('a')\n      for (let i = 0, len = _as.length; i < len; i++) {\n        let item = _as[i]\n        if (item && item.getAttribute('class') != 'at') {\n          item.setAttribute('target', '_blank')\n          item.setAttribute('rel', 'nofollow')\n        }\n      }\n      if (mt) _vlist.appendChild(_vcard)\n      else _vlist.insertBefore(_vcard, _vlis[0])\n      let _vcontent = _vcard.querySelector('.vcontent')\n      expandEvt(_vcontent)\n      bindAtEvt(_vat)\n    }\n\n    // 填充表情节点\n    let addSimiles = () => {\n      let _smiles = this.el.querySelector('.smiles-body')\n      let _ul,\n        _li = ''\n      let fragment = document.createDocumentFragment()\n      const sl = '泡泡'\n      Object.keys(smilesData).forEach((y, i) => {\n        _ul = document.createElement('ul')\n        _ul.setAttribute('class', 'smiles-items smiles-items-biaoqing' + (y == sl ? ' smiles-items-show' : ''))\n        _ul.setAttribute('data-id', i)\n        smilesData[y].split('|').forEach(e => {\n          _ul.innerHTML += `<li class=\"smiles-item\" title=\"${e}\" data-input=\"${\n            (y == sl ? '@' : '#') + `(${e})`\n          }\"><img class=\"biaoqing ${y == sl ? 'newpaopao' : 'alu'}\" title=\"${e}\" src=\"https://cdn.ihoey.com/${\n            y == sl ? 'newpaopao' : 'alu'\n          }/${e + suffix}.png\"></li>`\n        })\n        _li += `<li class=\"smiles-name ${y == sl ? 'smiles-package-active' : ''}\" data-id=\"${i}\"><span>${y}</span></li>`\n        fragment.appendChild(_ul) //添加ul\n      })\n      let _div = document.createElement('div')\n      _div.setAttribute('class', 'smiles-bar')\n      _div.innerHTML = `<ul class=\"smiles-packages\">${_li}</ul>`\n      fragment.appendChild(_div) //再次添加div\n      _smiles.appendChild(fragment)\n\n      let smiles = document.querySelector('.smiles')\n      let _el = document.querySelector('.veditor')\n\n      Event.on('click', smiles, e => {\n        e = e.target\n        if (e.className == 'smiles-item') {\n          _el.value += ` ${e.getAttribute('data-input')} `\n          defaultComment.comment = marked(_el.value, {\n            sanitize: !0,\n            breaks: !0\n          })\n          smiles.classList.remove('smiles-open')\n        } else if (e.classList.contains('smiles-logo')) {\n          smiles.classList.toggle('smiles-open')\n        } else if (e.classList.contains('smiles-name')) {\n          if (!e.classList.contains('smiles-package-active')) {\n            document.querySelectorAll('.smiles-name').forEach(e => e.classList.remove('smiles-package-active'))\n            document.querySelectorAll('.smiles-items').forEach(e => e.classList.remove('smiles-items-show'))\n            document.querySelectorAll('.smiles-items')[e.getAttribute('data-id')].classList.add('smiles-items-show')\n            e.classList.add('smiles-package-active')\n          }\n        }\n      })\n\n      Event.on('mouseup', document, e => {\n        e = e.target\n        let _con = document.querySelector('.smiles')\n        if (!_con === e || !_con.contains(e)) {\n          smiles.classList.remove('smiles-open')\n        }\n      })\n    }\n\n    let query = () => {\n      this.loading.show()\n      addSimiles() // 填充表情\n      let cq = this.commonQuery()\n      cq.limit(this.pageSize)\n        .skip(this.page * this.pageSize)\n        .find()\n        .then(rets => {\n          let len = rets.length\n          if (len) {\n            this.el.querySelector('.vlist').innerHTML = ''\n            for (let i = 0; i < len; i++) {\n              insertDom(rets[i], !0)\n            }\n            let _count = this.el.querySelector('.num')\n            if (!_count) {\n              cq.count().then(len => {\n                const _pageCount = Math.ceil(len / this.pageSize)\n                this.el.querySelector('.count').innerHTML = `评论(<span class=\"num\">${len}</span>)`\n\n                const _pageDom = (_class, _text) => `<span class=\"${_class} page-numbers\">${_text}</span>`\n                let vpageDom = _pageDom('prev dn', '&lt;')\n                for (let index = 1; index <= _pageCount; index++) {\n                  vpageDom += _pageDom(`numbers ${index == 1 ? 'current' : ''}`, index)\n                }\n                vpageDom += _pageDom('next dn', '&gt;')\n                this.el.querySelector('.vpage').innerHTML = vpageDom\n\n                pageHandle(len)\n\n                Event.on('click', this.el.querySelector('.vpage'), e => {\n                  const inc = v => e.target.className.split(' ').includes(v)\n                  if (inc('current') || inc('vpage')) {\n                    return\n                  }\n                  if (inc('numbers')) {\n                    this.page = Number(e.target.innerText) - 1\n                  } else if (inc('prev')) {\n                    this.page--\n                  } else if (inc('next')) {\n                    this.page++\n                  }\n                  query()\n                })\n              })\n            } else {\n              pageHandle(_count.innerText)\n            }\n          }\n          this.loading.hide()\n        })\n        .catch(ex => {\n          this.loading.hide()\n          this.throw(ex)\n        })\n    }\n    query()\n\n    let pageHandle = _count => {\n      if (this.el.querySelector('.vpage .numbers.current')) {\n        this.el.querySelector('.vpage .numbers.current').classList.remove('current')\n      }\n      this.el.querySelectorAll('.vpage .numbers')[this.page].classList.add('current')\n\n      const domClass = {\n        0: '.prev',\n        [Math.ceil(_count / this.pageSize, 10) - 1]: '.next'\n      }\n\n      Object.values(domClass).map(e => this.el.querySelector(`.vpage ${e}`).classList.remove('dn'))\n      if (domClass[this.page]) {\n        this.el.querySelector(`.vpage ${domClass[this.page]}`).classList.add('dn')\n        return\n      }\n    }\n\n    let mapping = {\n      veditor: 'comment'\n    }\n    for (let i = 0, length = guest_info.length; i < length; i++) {\n      mapping[`v${guest_info[i]}`] = guest_info[i]\n    }\n\n    let inputs = {}\n    for (let i in mapping) {\n      if (mapping.hasOwnProperty(i)) {\n        let _v = mapping[i]\n        let _el = this.el.querySelector(`.${i}`)\n        inputs[_v] = _el\n        Event.on('input', _el, e => {\n          defaultComment[_v] =\n            _v === 'comment'\n              ? marked(_el.value, {\n                  sanitize: !0,\n                  breaks: !0\n                })\n              : HtmlUtil.encode(_el.value)\n        })\n      }\n    }\n\n    // cache\n    let getCache = () => {\n      let s = store && store.HitalkCache\n      if (s) {\n        s = JSON.parse(s)\n        let m = guest_info\n        for (let i in m) {\n          let k = m[i]\n          this.el.querySelector(`.v${k}`).value = s[k]\n          defaultComment[k] = s[k]\n        }\n        const welcome = this.el.querySelector(`.welcome`).innerHTML\n        this.el.querySelector(`.welcome`).classList.remove('dn')\n        this.el.querySelector(`.welcome`).innerHTML = welcome.replace('{name}', s['nick'])\n        this.el.querySelector(`.vheader`).classList.add('hide')\n        Event.on('click', this.el.querySelector(`.welcome .info-edit`), e => {\n          this.el.querySelector(`.vheader`).classList.toggle('hide')\n        })\n      }\n    }\n    getCache()\n\n    let atData = {\n      rmail: '',\n      at: ''\n    }\n\n    // reset form\n    let reset = () => {\n      for (let i in mapping) {\n        if (mapping.hasOwnProperty(i)) {\n          let _v = mapping[i]\n          let _el = this.el.querySelector(`.${i}`)\n          _el.value = ''\n          defaultComment[_v] = ''\n        }\n      }\n      atData['at'] = ''\n      atData['rmail'] = ''\n      defaultComment['rid'] = ''\n      defaultComment['nick'] = 'Guest'\n      getCache()\n    }\n\n    // submit\n    let submitBtn = this.el.querySelector('.vsubmit')\n    let submitEvt = e => {\n      if (submitBtn.getAttribute('disabled')) {\n        this.alert.show({\n          type: '',\n          text: '再等等，评论正在提交中ヾ(๑╹◡╹)ﾉ\"',\n          ctxt: '好的'\n        })\n        return\n      }\n      if (defaultComment.comment == '') {\n        inputs['comment'].focus()\n        this.alert.show({\n          type: '',\n          text: '好歹也写点文字嘛ヾ(๑╹◡╹)ﾉ\"',\n          ctxt: '好的'\n        })\n        return\n      }\n      if (defaultComment.nick == '') {\n        defaultComment['nick'] = '小调皮'\n      }\n      let idx = defaultComment.comment.indexOf(atData.at)\n      if (idx > -1 && atData.at != '') {\n        let at = `<a class=\"at\" href='#${defaultComment.rid}'>${atData.at}</a>`\n        defaultComment.comment = defaultComment.comment.replace(atData.at, at)\n      }\n      //表情\n      var matched\n      while ((matched = defaultComment.comment.match(pReg))) {\n        defaultComment.comment = defaultComment.comment.replace(\n          matched[0],\n          `<img src=\"https://cdn.ihoey.com/newpaopao/${\n            matched[1] + suffix\n          }.png\" class=\"biaoqing newpaopao\" height=30 width=30 no-zoom />`\n        )\n      }\n      while ((matched = defaultComment.comment.match(aReg))) {\n        defaultComment.comment = defaultComment.comment.replace(\n          matched[0],\n          `<img src=\"https://cdn.ihoey.com/alu/${\n            matched[1] + suffix\n          }.png\" class=\"biaoqing alu\" height=33 width=33 no-zoom />`\n        )\n      }\n\n      // verify\n      let mailRet = check.mail(defaultComment.mail)\n      let linkRet = check.link(defaultComment.link)\n      defaultComment['mail'] = mailRet.k ? mailRet.v : ''\n      defaultComment['link'] = linkRet.k ? linkRet.v : ''\n      const alertShow = text => {\n        this.alert.show({\n          type: 1,\n          text,\n          cb: () => commitEvt()\n        })\n      }\n\n      if (!mailRet.k && !linkRet.k && guest_info.indexOf('mail') > -1 && guest_info.indexOf('link') > -1) {\n        alertShow('您的网址和邮箱格式不正确, 是否继续提交?')\n      } else if (!mailRet.k && guest_info.indexOf('mail') > -1) {\n        alertShow('您的邮箱格式不正确, 是否继续提交?')\n      } else if (!linkRet.k && guest_info.indexOf('link') > -1) {\n        alertShow('您的网址格式不正确, 是否继续提交?')\n      } else {\n        commitEvt()\n      }\n    }\n\n    // setting access\n    let getAcl = () => {\n      let acl = new this.v.ACL()\n      acl.setPublicReadAccess(!0)\n      acl.setPublicWriteAccess(!1)\n      return acl\n    }\n\n    let commitEvt = () => {\n      submitBtn.setAttribute('disabled', !0)\n      this.loading.show()\n      // 声明类型\n      let Ct = this.v.Object.extend('Comment')\n      // 新建对象\n      let comment = new Ct()\n      for (let i in defaultComment) {\n        if (defaultComment.hasOwnProperty(i)) {\n          let _v = defaultComment[i]\n          comment.set(i, _v)\n        }\n      }\n      comment.setACL(getAcl())\n      comment\n        .save()\n        .then(ret => {\n          defaultComment['nick'] != 'Guest' &&\n            store &&\n            store.setItem(\n              'HitalkCache',\n              JSON.stringify({\n                nick: defaultComment['nick'],\n                link: defaultComment['link'],\n                mail: defaultComment['mail']\n              })\n            )\n          let _count = this.el.querySelector('.num')\n          let num = 1\n          try {\n            if (_count) {\n              num = Number(_count.innerText) + 1\n              _count.innerText = num\n            } else {\n              this.el.querySelector('.count').innerHTML = '评论(<span class=\"num\">1</span>)'\n            }\n            insertDom(ret)\n\n            defaultComment['mail'] &&\n              signUp({\n                username: defaultComment['nick'],\n                mail: defaultComment['mail']\n              })\n\n            submitBtn.removeAttribute('disabled')\n            this.loading.hide()\n            reset()\n          } catch (error) {\n            console.log(error)\n          }\n        })\n        .catch(ex => {\n          this.loading.hide()\n          this.throw(ex)\n        })\n    }\n\n    let signUp = o => {\n      let u = new this.v.User()\n      u.setUsername(o.username)\n      u.setPassword(o.mail)\n      u.setEmail(o.mail)\n      u.setACL(getAcl())\n      return u.signUp()\n    }\n\n    // at event\n    let bindAtEvt = el => {\n      Event.on('click', el, e => {\n        let at = el.getAttribute('at')\n        let rid = el.getAttribute('rid')\n        let rmail = el.getAttribute('mail')\n        atData['at'] = at\n        atData['rmail'] = rmail\n        defaultComment['rid'] = rid\n        inputs['comment'].value = `${at} `\n        inputs['comment'].focus()\n      })\n    }\n\n    Event.off('click', submitBtn, submitEvt)\n    Event.on('click', submitBtn, submitEvt)\n  }\n}\n\nexport default Hitalk\n"],"names":["$","safeAdd","x","y","lsw","md5cmn","q","a","b","s","t","num","cnt","md5ff","c","d","md5gg","md5hh","md5ii","binlMD5","len","i","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","key","data","hash","bkey","ipad","opad","concat","rstrHMACMD5","md5","string","raw","module","exports","this","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","defaults","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","&","<",">","\"","'","getEscapeReplacement","ch","unescapeTest","html","replace","_","n","toLowerCase","parseInt","substring","caret","nonWordAndColonTest","originIndependentUrl","baseUrls","justDomain","protocol","domain","resolveUrl","base","href","test","rtrim","relativeBase","indexOf","str","invert","l","suffLen","currChar","substr","helpers","escape","encode","edit","regex","opt","source","obj","name","val","getRegex","RegExp","cleanUrl","prot","decodeURIComponent","e","encodeURI","noopTest","exec","merge","target","arguments","Object","prototype","hasOwnProperty","call","splitCells","tableRow","count","cells","match","offset","escaped","curr","split","splice","push","trim","findClosingBracket","level","checkSanitizeDeprecation","console","warn","repeatString","pattern","result","require$$0","require$$1","outputLink","cap","link","title","text","type","Tokenizer_1","[object Object]","options","src","rules","block","newline","tokens","code","lastToken","trimRight","codeBlockStyle","fences","matchIndentToCode","indentToCode","map","node","matchIndentInNode","indentInNode","slice","join","indentCodeCompensation","lang","heading","trimmed","depth","nptable","item","header","align","hr","blockquote","list","bull","isordered","ordered","start","loose","items","itemMatch","space","bcurr","bnext","addBack","istask","ischecked","next","listItemStart","task","checked","pre","def","tag","table","lheading","paragraph","inline","inLink","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","links","reflink","nolink","maskedSrc","prevChar","strong","punctuation","endReg","endAst","endUnd","lastIndex","middle","index","em","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","_paragraph","block$1","_label","_title","bullet","_tag","_comment","normal","reflinkSearch","inline$1","_punctuation","_blockSkip","_overlapSkip","blockSkip","overlapSkip","_scheme","_email","_attribute","_href","_extended_email","require$$2","out","Math","random","toString","Lexer_1","Lexer","create","Tokenizer","lex","inlineTokens","blockTokens","top","token","errMsg","error","Error","j","l2","row","keepPrevChar","keys","includes","lastIndexOf","codespan","inlineText","Renderer_1","infostring","quote","slugger","slug","body","content","flags","TextRenderer_1","Slugger_1","seen","value","originalSlug","isDryRun","occurenceAccumulator","serialize","getNextSafeSlug","dryrun","Parser_1","Parser","Renderer","textRenderer","TextRenderer","Slugger","parse","parseInline","l3","cell","itemBody","checkbox","tablecell","tablerow","unshift","listitem","image","marked","callback","done","err","pending","setTimeout","message","setOptions","use","extension","opts","prop","prevRenderer","args","ret","apply","prevTokenizer","lexInline","parser","lexer","marked_1","win","window","nav","navigator","Detect","userAgent","u","Trident","Presto","WebKit","Gecko","Safari","Chrome","IE","Edge","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi","Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","Windows Phone","BlackBerry","MeeGo","Symbian","iOS","Chrome OS","WebOS","Mobile","Tablet","showModalDialog","chrome","arr","engine","browser","os","device","language","browserLanguage","toUpperCase","osVersion","v","6.4","6.3","6.2","6.1","6.0","5.2","5.1","5.0","version","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","HtmlUtil","timeAgo","date","oldTime","getTime","diffValue","Date","days","floor","leave1","hours","leave2","minutes","leave3","seconds","round","vDay","padWithZeros","getDate","vMonth","getMonth","getFullYear","dateFormat","log","vNumber","width","numAsString","Event","el","handler","capture","addEventListener","attachEvent","removeEventListener","detachEvent","check","m","gravatar","cdn","ds","params","hide","defaultComment","comment","rid","nick","mail","ua","pin","like","GUEST_INFO","store","localStorage","smilesData","泡泡","阿鲁","pReg","aReg","suffix","devicePixelRatio","Hitalk","option","av","AV","appId","app_id","appKey","app_key","serverURLs","init","path","location","pathname","pageSize","page","initCount","_proto","msg","_this","querySelectorAll","classList","add","inputEl","guest_info","placeholder","eleHTML","innerHTML","vempty","querySelector","nodata","show","txt","remove","vloading","loading","avatar","ex","issue","_mark","alert","o","_vbtns","_cBtn","ctxt","_oBtn","otxt","_ok","cb","bind","commonQuery","query","Query","equalTo","descending","_this$v$Query","pCount","vArr","urlArr","getAttribute","or","select","limit","find","then","res","innerText","filter","get","_this2","insertDom","mt","_vcard","setAttribute","id","_ua","_img","_vlist","_vlis","_vat","_as","_vcontent","offsetHeight","bindAtEvt","_smiles","_ul","_li","fragment","createDocumentFragment","sl","forEach","_div","smiles","_el","className","contains","toggle","_con","addSimiles","cq","skip","rets","_count","pageHandle","_pageCount","ceil","_pageDom","_class","_text","vpageDom","inc","Number","_domClass","domClass","0","values","mapping","veditor","inputs","_v","getCache","HitalkCache","JSON","welcome","atData","rmail","at","submitBtn","submitEvt","focus","idx","matched","mailRet","linkRet","alertShow","commitEvt","getAcl","acl","ACL","setPublicReadAccess","setPublicWriteAccess","extend","set","setACL","save","setItem","stringify","signUp","username","removeAttribute","reset","User","setUsername","setPassword","setEmail"],"mappings":";;;;;8mBAuBC,SAAWA,GAWV,SAASC,EAAQC,EAAGC,GAClB,IAAIC,GAAW,MAAJF,IAAmB,MAAJC,GAE1B,OADWD,GAAK,KAAOC,GAAK,KAAOC,GAAO,KAC3B,GAAa,MAANA,EAyBxB,SAASC,EAAOC,EAAGC,EAAGC,EAAGN,EAAGO,EAAGC,GAC7B,OAAOT,GAhBcU,EAgBQV,EAAQA,EAAQM,EAAGD,GAAIL,EAAQC,EAAGQ,OAhBrCE,EAgB0CH,GAf7CE,IAAS,GAAKC,EAemCJ,GAhB1E,IAAuBG,EAAKC,EA8B5B,SAASC,EAAMN,EAAGC,EAAGM,EAAGC,EAAGb,EAAGO,EAAGC,GAC/B,OAAOL,EAAQG,EAAIM,GAAON,EAAIO,EAAIR,EAAGC,EAAGN,EAAGO,EAAGC,GAchD,SAASM,EAAMT,EAAGC,EAAGM,EAAGC,EAAGb,EAAGO,EAAGC,GAC/B,OAAOL,EAAQG,EAAIO,EAAMD,GAAKC,EAAIR,EAAGC,EAAGN,EAAGO,EAAGC,GAchD,SAASO,EAAMV,EAAGC,EAAGM,EAAGC,EAAGb,EAAGO,EAAGC,GAC/B,OAAOL,EAAOG,EAAIM,EAAIC,EAAGR,EAAGC,EAAGN,EAAGO,EAAGC,GAcvC,SAASQ,EAAMX,EAAGC,EAAGM,EAAGC,EAAGb,EAAGO,EAAGC,GAC/B,OAAOL,EAAOS,GAAKN,GAAKO,GAAIR,EAAGC,EAAGN,EAAGO,EAAGC,GAU1C,SAASS,EAAQjB,EAAGkB,GAKlB,IAAIC,EACAC,EACAC,EACAC,EACAC,EAPJvB,EAAEkB,GAAO,IAAM,KAAQA,EAAM,GAC7BlB,EAA8B,IAAzBkB,EAAM,KAAQ,GAAM,IAAWA,EAOpC,IAAIb,EAAI,WACJC,GAAK,UACLM,GAAK,WACLC,EAAI,UAER,IAAKM,EAAI,EAAGA,EAAInB,EAAEwB,OAAQL,GAAK,GAC7BC,EAAOf,EACPgB,EAAOf,EACPgB,EAAOV,EACPW,EAAOV,EAEPR,EAAIM,EAAMN,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,GAAI,GAAI,WAChCN,EAAIF,EAAME,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,IAAK,WACrCP,EAAID,EAAMC,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,GAAI,WACpCb,EAAIK,EAAML,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,IAAK,YACrCd,EAAIM,EAAMN,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,GAAI,WACpCN,EAAIF,EAAME,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,GAAI,YACpCP,EAAID,EAAMC,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,IAAK,YACrCb,EAAIK,EAAML,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,IAAK,UACrCd,EAAIM,EAAMN,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,EAAG,YACnCN,EAAIF,EAAME,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,IAAK,YACrCP,EAAID,EAAMC,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,IAAK,OACtCb,EAAIK,EAAML,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,IAAK,IAAK,YACtCd,EAAIM,EAAMN,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,IAAK,EAAG,YACpCN,EAAIF,EAAME,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,IAAK,IAAK,UACtCP,EAAID,EAAMC,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,IAAK,YAGtCd,EAAIS,EAAMT,EAFVC,EAAIK,EAAML,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,IAAK,GAAI,YAErBP,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,GAAI,WACpCN,EAAIC,EAAMD,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,GAAI,YACpCP,EAAIE,EAAMF,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,GAAI,WACrCb,EAAIQ,EAAMR,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,GAAI,IAAK,WACjCd,EAAIS,EAAMT,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,GAAI,WACpCN,EAAIC,EAAMD,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,IAAK,EAAG,UACpCP,EAAIE,EAAMF,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,IAAK,WACtCb,EAAIQ,EAAMR,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,IAAK,WACrCd,EAAIS,EAAMT,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,EAAG,WACnCN,EAAIC,EAAMD,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,IAAK,GAAI,YACrCP,EAAIE,EAAMF,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,IAAK,WACrCb,EAAIQ,EAAMR,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,GAAI,YACpCd,EAAIS,EAAMT,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,IAAK,GAAI,YACrCN,EAAIC,EAAMD,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,GAAI,UACpCP,EAAIE,EAAMF,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,GAAI,YAGpCd,EAAIU,EAAMV,EAFVC,EAAIQ,EAAMR,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,IAAK,IAAK,YAEtBP,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,GAAI,QACpCN,EAAIE,EAAMF,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,IAAK,YACrCP,EAAIG,EAAMH,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,GAAI,YACrCb,EAAIS,EAAMT,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,IAAK,IAAK,UACtCd,EAAIU,EAAMV,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,GAAI,YACpCN,EAAIE,EAAMF,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,GAAI,YACpCP,EAAIG,EAAMH,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,IAAK,WACrCb,EAAIS,EAAMT,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,IAAK,IAAK,YACtCd,EAAIU,EAAMV,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,IAAK,EAAG,WACpCN,EAAIE,EAAMF,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,GAAI,IAAK,WACjCP,EAAIG,EAAMH,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,IAAK,WACrCb,EAAIS,EAAMT,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,GAAI,UACpCd,EAAIU,EAAMV,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,GAAI,WACpCN,EAAIE,EAAMF,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,IAAK,IAAK,WACtCP,EAAIG,EAAMH,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,GAAI,WAGrCd,EAAIW,EAAMX,EAFVC,EAAIS,EAAMT,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,IAAK,WAErBP,EAAGC,EAAGb,EAAEmB,GAAI,GAAI,WAChCN,EAAIG,EAAMH,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,GAAI,YACpCP,EAAII,EAAMJ,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,IAAK,YACtCb,EAAIU,EAAMV,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,IAAK,UACrCd,EAAIW,EAAMX,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,IAAK,EAAG,YACpCN,EAAIG,EAAMH,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,GAAI,IAAK,YACrCP,EAAII,EAAMJ,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,IAAK,IAAK,SACtCb,EAAIU,EAAMV,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,IAAK,YACrCd,EAAIW,EAAMX,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,EAAG,YACnCN,EAAIG,EAAMH,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,IAAK,IAAK,UACtCP,EAAII,EAAMJ,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,IAAK,YACrCb,EAAIU,EAAMV,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,IAAK,GAAI,YACrCd,EAAIW,EAAMX,EAAGC,EAAGM,EAAGC,EAAGb,EAAEmB,EAAI,GAAI,GAAI,WACpCN,EAAIG,EAAMH,EAAGR,EAAGC,EAAGM,EAAGZ,EAAEmB,EAAI,IAAK,IAAK,YACtCP,EAAII,EAAMJ,EAAGC,EAAGR,EAAGC,EAAGN,EAAEmB,EAAI,GAAI,GAAI,WACpCb,EAAIU,EAAMV,EAAGM,EAAGC,EAAGR,EAAGL,EAAEmB,EAAI,GAAI,IAAK,WAErCd,EAAIN,EAAQM,EAAGe,GACfd,EAAIP,EAAQO,EAAGe,GACfT,EAAIb,EAAQa,EAAGU,GACfT,EAAId,EAAQc,EAAGU,GAEjB,MAAO,CAAClB,EAAGC,EAAGM,EAAGC,GASnB,SAASY,EAAUC,GACjB,IAAIP,EACAQ,EAAS,GACTC,EAA0B,GAAfF,EAAMF,OACrB,IAAKL,EAAI,EAAGA,EAAIS,EAAUT,GAAK,EAC7BQ,GAAUE,OAAOC,aAAcJ,EAAMP,GAAK,KAAOA,EAAI,GAAM,KAE7D,OAAOQ,EAUT,SAASI,EAAUL,GACjB,IAAIP,EACAQ,EAAS,GAEb,IADAA,GAAQD,EAAMF,QAAU,GAAK,QAAKQ,EAC7Bb,EAAI,EAAGA,EAAIQ,EAAOH,OAAQL,GAAK,EAClCQ,EAAOR,GAAK,EAEd,IAAIc,EAAyB,EAAfP,EAAMF,OACpB,IAAKL,EAAI,EAAGA,EAAIc,EAASd,GAAK,EAC5BQ,EAAOR,GAAK,KAAiC,IAA1BO,EAAMQ,WAAWf,EAAI,KAAcA,EAAI,GAE5D,OAAOQ,EA4CT,SAASQ,EAAST,GAChB,IAEI1B,EACAmB,EAFAQ,EAAS,GAGb,IAAKR,EAAI,EAAGA,EAAIO,EAAMF,OAAQL,GAAK,EACjCnB,EAAI0B,EAAMQ,WAAWf,GACrBQ,GANW,mBAMMS,OAAQpC,IAAM,EAAK,IANzB,mBAMwCoC,OAAW,GAAJpC,GAE5D,OAAO2B,EAST,SAASU,EAAaX,GACpB,OAAOY,SAASC,mBAAmBb,IASrC,SAASc,EAAOjC,GACd,OAhEF,SAAiBA,GACf,OAAOkB,EAAUR,EAAQc,EAAUxB,GAAe,EAAXA,EAAEiB,SA+DlCiB,CAAQJ,EAAa9B,IAkB9B,SAASmC,EAAWC,EAAG9B,GACrB,OAxEF,SAAqB+B,EAAKC,GACxB,IAAI1B,EAIA2B,EAHAC,EAAOhB,EAAUa,GACjBI,EAAO,GACPC,EAAO,GAMX,IAJAD,EAAK,IAAMC,EAAK,SAAMjB,EAClBe,EAAKvB,OAAS,KAChBuB,EAAO9B,EAAQ8B,EAAmB,EAAbH,EAAIpB,SAEtBL,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB6B,EAAK7B,GAAe,UAAV4B,EAAK5B,GACf8B,EAAK9B,GAAe,WAAV4B,EAAK5B,GAGjB,OADA2B,EAAO7B,EAAQ+B,EAAKE,OAAOnB,EAAUc,IAAQ,IAAoB,EAAdA,EAAKrB,QACjDC,EAAUR,EAAQgC,EAAKC,OAAOJ,GAAO,MAyDrCK,CAAYd,EAAaM,GAAIN,EAAaxB,IAuBnD,SAASuC,EAAIC,EAAQT,EAAKU,GACxB,OAAKV,EAMAU,EAGEZ,EAAWE,EAAKS,GAvBhBlB,EAASO,EAqBIE,EAAKS,IANlBC,EAGEd,EAAOa,GAtCTlB,EAASK,EAoCEa,IAcqBE,EAAOC,QAC9CD,EAAAC,QAAiBJ,EAEjBtD,EAAEsD,IAAMA,EAxXX,CA0XEK,uBCjZH,SAASC,IACP,MAAO,CACLC,QAAS,KACTC,QAAQ,EACRC,KAAK,EACLC,WAAW,EACXC,aAAc,GACdC,UAAW,KACXC,WAAY,YACZC,QAAQ,EACRC,UAAU,EACVC,SAAU,KACVC,UAAU,EACVC,UAAW,KACXC,QAAQ,EACRC,YAAY,EACZC,aAAa,EACbC,UAAW,KACXC,WAAY,KACZC,OAAO,GAQXrB,EAAAC,QAAiB,CACfqB,SA3BO,CACLlB,QAAS,KACTC,QAAQ,EACRC,KAAK,EACLC,WAAW,EACXC,aAAc,GACdC,UAAW,KACXC,WAAY,YACZC,QAAQ,EACRC,UAAU,EACVC,SAAU,KACVC,UAAU,EACVC,UAAW,KACXC,QAAQ,EACRC,YAAY,EACZC,aAAa,EACbC,UAAW,KACXC,WAAY,KACZC,OAAO,GAUTlB,YAAAA,EACAoB,eAPF,SAAwBC,GACtBxB,EAAAC,QAAAqB,SAA0BE,OCrB5B,MAAMC,EAAa,UACbC,EAAgB,WAChBC,EAAqB,qBACrBC,EAAwB,sBACxBC,EAAqB,CACzBC,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAK,SAEDC,EAAwBC,GAAOP,EAAmBO,GAexD,MAAMC,EAAe,6CAErB,SAAStD,EAASuD,GAEhB,OAAOA,EAAKC,QAAQF,EAAc,CAACG,EAAGC,IAE1B,WADVA,EAAIA,EAAEC,eACoB,IACN,MAAhBD,EAAE5D,OAAO,GACY,MAAhB4D,EAAE5D,OAAO,GACZP,OAAOC,aAAaoE,SAASF,EAAEG,UAAU,GAAI,KAC7CtE,OAAOC,cAAckE,EAAEG,UAAU,IAEhC,IAIX,MAAMC,EAAQ,eAkBd,MAAMC,EAAsB,UACtBC,EAAuB,gCA0B7B,MAAMC,EAAW,GACXC,EAAa,mBACbC,EAAW,oBACXC,EAAS,4BAEf,SAASC,EAAWC,EAAMC,GACnBN,EAAS,IAAMK,KAIdJ,EAAWM,KAAKF,GAClBL,EAAS,IAAMK,GAAQA,EAAO,IAE9BL,EAAS,IAAMK,GAAQG,EAAMH,EAAM,KAAK,IAI5C,MAAMI,GAAsC,KAD5CJ,EAAOL,EAAS,IAAMK,IACIK,QAAQ,KAElC,MAA6B,OAAzBJ,EAAKV,UAAU,EAAG,GAChBa,EACKH,EAEFD,EAAKd,QAAQW,EAAU,MAAQI,EACV,MAAnBA,EAAKzE,OAAO,GACjB4E,EACKH,EAEFD,EAAKd,QAAQY,EAAQ,MAAQG,EAE7BD,EAAOC,EA0DlB,SAASE,EAAMG,EAAKtG,EAAGuG,GACrB,MAAMC,EAAIF,EAAI1F,OACd,GAAU,IAAN4F,EACF,MAAO,GAIT,IAAIC,EAAU,EAGd,KAAOA,EAAUD,GAAG,CAClB,MAAME,EAAWJ,EAAI9E,OAAOgF,EAAIC,EAAU,GAC1C,GAAIC,IAAa1G,GAAMuG,EAEhB,CAAA,GAAIG,IAAa1G,IAAKuG,EAG3B,MAFAE,SAFAA,IAQJ,OAAOH,EAAIK,OAAO,EAAGH,EAAIC,GA+C3B,IAAAG,EAAiB,CACjBC,OAxOA,SAAgB5B,EAAM6B,GACpB,GAAIA,GACF,GAAI1C,EAAW8B,KAAKjB,GAClB,OAAOA,EAAKC,QAAQb,EAAeS,QAGrC,GAAIR,EAAmB4B,KAAKjB,GAC1B,OAAOA,EAAKC,QAAQX,EAAuBO,GAI/C,OAAOG,GA8NTvD,SAAEA,EACFqF,KA3MA,SAAcC,EAAOC,GACnBD,EAAQA,EAAME,QAAUF,EACxBC,EAAMA,GAAO,GACb,MAAME,EAAM,CACVjC,QAAS,CAACkC,EAAMC,KAEdA,GADAA,EAAMA,EAAIH,QAAUG,GACVnC,QAAQM,EAAO,MACzBwB,EAAQA,EAAM9B,QAAQkC,EAAMC,GACrBF,GAETG,SAAU,IACD,IAAIC,OAAOP,EAAOC,IAG7B,OAAOE,GA8LTK,SAzLA,SAAkB/D,EAAUuC,EAAMC,GAChC,GAAIxC,EAAU,CACZ,IAAIgE,EACJ,IACEA,EAAOC,mBAAmBhG,EAASuE,IAChCf,QAAQO,EAAqB,IAC7BJ,cACH,MAAOsC,GACP,OAAO,KAET,GAAoC,IAAhCF,EAAKpB,QAAQ,gBAAsD,IAA9BoB,EAAKpB,QAAQ,cAAgD,IAA1BoB,EAAKpB,QAAQ,SACvF,OAAO,KAGPL,IAASN,EAAqBQ,KAAKD,KACrCA,EAAOF,EAAWC,EAAMC,IAE1B,IACEA,EAAO2B,UAAU3B,GAAMf,QAAQ,OAAQ,KACvC,MAAOyC,GACP,OAAO,KAET,OAAO1B,GAoKPF,WAAAA,EACF8B,SAhIiB,CAAEC,KAAM,cAiIzBC,MA/HA,SAAeZ,GACb,IACEa,EACAhG,EAFEzB,EAAI,EAIR,KAAOA,EAAI0H,UAAUrH,OAAQL,IAE3B,IAAKyB,KADLgG,EAASC,UAAU1H,GACPyH,EACNE,OAAOC,UAAUC,eAAeC,KAAKL,EAAQhG,KAC/CmF,EAAInF,GAAOgG,EAAOhG,IAKxB,OAAOmF,GAkHTmB,WA/GA,SAAoBC,EAAUC,GAG5B,MAaEC,EAbUF,EAASrD,QAAQ,MAAO,CAACwD,EAAOC,EAAQrC,KAChD,IAAIsC,GAAU,EACZC,EAAOF,EACT,OAASE,GAAQ,GAAmB,OAAdvC,EAAIuC,IAAgBD,GAAWA,EACrD,OAAIA,EAGK,IAGA,OAGCE,MAAM,OACpB,IAAIvI,EAAI,EAER,GAAIkI,EAAM7H,OAAS4H,EACjBC,EAAMM,OAAOP,QAEb,KAAOC,EAAM7H,OAAS4H,GAAOC,EAAMO,KAAK,IAG1C,KAAOzI,EAAIkI,EAAM7H,OAAQL,IAEvBkI,EAAMlI,GAAKkI,EAAMlI,GAAG0I,OAAO/D,QAAQ,QAAS,KAE9C,OAAOuD,GAmFTtC,MAAEA,EACF+C,mBAtDA,SAA4B5C,EAAK5G,GAC/B,IAA2B,IAAvB4G,EAAID,QAAQ3G,EAAE,IAChB,OAAQ,EAEV,MAAM8G,EAAIF,EAAI1F,OACd,IAAIuI,EAAQ,EACV5I,EAAI,EACN,KAAOA,EAAIiG,EAAGjG,IACZ,GAAe,OAAX+F,EAAI/F,GACNA,SACK,GAAI+F,EAAI/F,KAAOb,EAAE,GACtByJ,SACK,GAAI7C,EAAI/F,KAAOb,EAAE,KACtByJ,IACIA,EAAQ,GACV,OAAO5I,EAIb,OAAQ,GAoCV6I,yBAjCA,SAAkCnC,GAC5BA,GAAOA,EAAIxD,WAAawD,EAAItD,QAC9B0F,QAAQC,KAAK,4MAgCjBC,aA3BA,SAAsBC,EAAShB,GAC7B,GAAIA,EAAQ,EACV,MAAO,GAET,IAAIiB,EAAS,GACb,KAAOjB,EAAQ,GACD,EAARA,IACFiB,GAAUD,GAEZhB,IAAU,EACVgB,GAAWA,EAEb,OAAOC,EAASD,ICnPlB,MAAQvF,SAAAA,GAAayF,GACfvD,MACJA,EAAKmC,WACLA,EACFzB,OAAEA,EAAMqC,mBACNA,GACES,EAEJ,SAASC,EAAWC,EAAKC,EAAMpH,GAC7B,MAAMuD,EAAO6D,EAAK7D,KACZ8D,EAAQD,EAAKC,MAAQlD,EAAOiD,EAAKC,OAAS,KAC1CC,EAAOH,EAAI,GAAG3E,QAAQ,cAAe,MAE3C,MAAyB,MAArB2E,EAAI,GAAGrI,OAAO,GACT,CACLyI,KAAM,OACNvH,IAAAA,EACAuD,KAAAA,EACA8D,MAAAA,EACAC,KAAAA,GAGK,CACLC,KAAM,QACNvH,IAAAA,EACAuD,KAAAA,EACA8D,MAAAA,EACAC,KAAMnD,EAAOmD,IAoCnB,IAAcE,EAAG,MACfC,YAAYC,GACVvH,KAAKuH,QAAUA,GAAWnG,EAG5BkG,MAAME,GACJ,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMC,QAAQ1C,KAAKuC,GAC1C,GAAIR,EACF,OAAIA,EAAI,GAAGjJ,OAAS,EACX,CACLqJ,KAAM,QACNvH,IAAKmH,EAAI,IAGN,CAAEnH,IAAK,MAIlByH,KAAKE,EAAKI,GACR,MAAMZ,EAAMhH,KAAKyH,MAAMC,MAAMG,KAAK5C,KAAKuC,GACvC,GAAIR,EAAK,CACP,MAAMc,EAAYF,EAAOA,EAAO7J,OAAS,GAEzC,GAAI+J,GAAgC,cAAnBA,EAAUV,KACzB,MAAO,CACLvH,IAAKmH,EAAI,GACTG,KAAMH,EAAI,GAAGe,aAIjB,MAAMZ,EAAOH,EAAI,GAAG3E,QAAQ,YAAa,IACzC,MAAO,CACL+E,KAAM,OACNvH,IAAKmH,EAAI,GACTgB,eAAgB,WAChBb,KAAOnH,KAAKuH,QAAQ7G,SAEhByG,EADA7D,EAAM6D,EAAM,QAMtBG,OAAOE,GACL,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMO,OAAOhD,KAAKuC,GACzC,GAAIR,EAAK,CACP,MAAMnH,EAAMmH,EAAI,GACVG,EA7EZ,SAAgCtH,EAAKsH,GACnC,MAAMe,EAAoBrI,EAAIgG,MAAM,iBAEpC,GAA0B,OAAtBqC,EACF,OAAOf,EAGT,MAAMgB,EAAeD,EAAkB,GAEvC,OAAOf,EACJlB,MAAM,MACNmC,IAAIC,IACH,MAAMC,EAAoBD,EAAKxC,MAAM,QACrC,GAA0B,OAAtByC,EACF,OAAOD,EAGT,MAAOE,GAAgBD,EAEvB,OAAIC,EAAaxK,QAAUoK,EAAapK,OAC/BsK,EAAKG,MAAML,EAAapK,QAG1BsK,IAERI,KAAK,MAoDSC,CAAuB7I,EAAKmH,EAAI,IAAM,IAEnD,MAAO,CACLI,KAAM,OACNvH,IAAAA,EACA8I,KAAM3B,EAAI,GAAKA,EAAI,GAAGZ,OAASY,EAAI,GACnCG,KAAAA,IAKNG,QAAQE,GACN,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMkB,QAAQ3D,KAAKuC,GAC1C,GAAIR,EAAK,CACP,IAAIG,EAAOH,EAAI,GAAGZ,OAGlB,GAAI,KAAK/C,KAAK8D,GAAO,CACnB,MAAM0B,EAAUvF,EAAM6D,EAAM,KACxBnH,KAAKuH,QAAQ7G,SACfyG,EAAO0B,EAAQzC,OACLyC,IAAW,KAAKxF,KAAKwF,KAE/B1B,EAAO0B,EAAQzC,QAInB,MAAO,CACLgB,KAAM,UACNvH,IAAKmH,EAAI,GACT8B,MAAO9B,EAAI,GAAGjJ,OACdoJ,KAAMA,IAKZG,QAAQE,GACN,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMqB,QAAQ9D,KAAKuC,GAC1C,GAAIR,EAAK,CACP,MAAMgC,EAAO,CACX5B,KAAM,QACN6B,OAAQxD,EAAWuB,EAAI,GAAG3E,QAAQ,eAAgB,KAClD6G,MAAOlC,EAAI,GAAG3E,QAAQ,aAAc,IAAI4D,MAAM,UAC9CL,MAAOoB,EAAI,GAAKA,EAAI,GAAG3E,QAAQ,MAAO,IAAI4D,MAAM,MAAQ,GACxDpG,IAAKmH,EAAI,IAGX,GAAIgC,EAAKC,OAAOlL,SAAWiL,EAAKE,MAAMnL,OAAQ,CAC5C,IACIL,EADAiG,EAAIqF,EAAKE,MAAMnL,OAEnB,IAAKL,EAAI,EAAGA,EAAIiG,EAAGjG,IACb,YAAY2F,KAAK2F,EAAKE,MAAMxL,IAC9BsL,EAAKE,MAAMxL,GAAK,QACP,aAAa2F,KAAK2F,EAAKE,MAAMxL,IACtCsL,EAAKE,MAAMxL,GAAK,SACP,YAAY2F,KAAK2F,EAAKE,MAAMxL,IACrCsL,EAAKE,MAAMxL,GAAK,OAEhBsL,EAAKE,MAAMxL,GAAK,KAKpB,IADAiG,EAAIqF,EAAKpD,MAAM7H,OACVL,EAAI,EAAGA,EAAIiG,EAAGjG,IACjBsL,EAAKpD,MAAMlI,GAAK+H,EAAWuD,EAAKpD,MAAMlI,GAAIsL,EAAKC,OAAOlL,QAGxD,OAAOiL,IAKb1B,GAAGE,GACD,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMyB,GAAGlE,KAAKuC,GACrC,GAAIR,EACF,MAAO,CACLI,KAAM,KACNvH,IAAKmH,EAAI,IAKfM,WAAWE,GACT,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAM0B,WAAWnE,KAAKuC,GAC7C,GAAIR,EAAK,CACP,MAAMG,EAAOH,EAAI,GAAG3E,QAAQ,WAAY,IAExC,MAAO,CACL+E,KAAM,aACNvH,IAAKmH,EAAI,GACTG,KAAAA,IAKNG,KAAKE,GACH,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAM2B,KAAKpE,KAAKuC,GACvC,GAAIR,EAAK,CACP,IAAInH,EAAMmH,EAAI,GACd,MAAMsC,EAAOtC,EAAI,GACXuC,EAAYD,EAAKvL,OAAS,EAE1BsL,EAAO,CACXjC,KAAM,OACNvH,IAAAA,EACA2J,QAASD,EACTE,MAAOF,GAAaD,EAAKd,MAAM,GAAI,GAAK,GACxCkB,OAAO,EACPC,MAAO,IAIHC,EAAY5C,EAAI,GAAGnB,MAAM7F,KAAKyH,MAAMC,MAAMsB,MAEhD,IACEA,EACAa,EACAC,EACAC,EACAC,EACAN,EACAO,EACAC,EAREC,GAAO,EAUPxG,EAAIiG,EAAU7L,OAClB+L,EAAQ9J,KAAKyH,MAAMC,MAAM0C,cAAcnF,KAAK2E,EAAU,IACtD,IAAK,IAAIlM,EAAI,EAAGA,EAAIiG,EAAGjG,IAAK,CAM1B,GALAsL,EAAOY,EAAUlM,GACjBmC,EAAMmJ,EAIFtL,IAAMiG,EAAI,EAAG,CAEf,GADAoG,EAAQ/J,KAAKyH,MAAMC,MAAM0C,cAAcnF,KAAK2E,EAAUlM,EAAI,IAEvDsC,KAAKuH,QAAQ7G,SAEVqJ,EAAM,GAAGhM,OAAS+L,EAAM,GAAG/L,OAD3BgM,EAAM,GAAGhM,OAAS+L,EAAM,GAAG/L,QAAUgM,EAAM,GAAGhM,OAAS,EAE3D,CAEA6L,EAAU1D,OAAOxI,EAAG,EAAGkM,EAAUlM,GAAK,KAAOkM,EAAUlM,EAAI,IAC3DA,IACAiG,IACA,WAIG3D,KAAKuH,QAAQ7G,UAAYV,KAAKuH,QAAQxG,WACnCgJ,EAAM,GAAGA,EAAM,GAAGhM,OAAS,KAAOuL,EAAKA,EAAKvL,OAAS,GACrDwL,KAAmC,IAApBQ,EAAM,GAAGhM,WAE5BiM,EAAUJ,EAAUpB,MAAM9K,EAAI,GAAG+K,KAAK,MACtCY,EAAKxJ,IAAMwJ,EAAKxJ,IAAI6C,UAAU,EAAG2G,EAAKxJ,IAAI9B,OAASiM,EAAQjM,QAC3DL,EAAIiG,EAAI,GAGZmG,EAAQC,EAKVF,EAAQb,EAAKjL,OACbiL,EAAOA,EAAK3G,QAAQ,uBAAwB,KAIvC2G,EAAKxF,QAAQ,SAChBqG,GAASb,EAAKjL,OACdiL,EAAQhJ,KAAKuH,QAAQ7G,SAEjBsI,EAAK3G,QAAQ,YAAa,IAD1B2G,EAAK3G,QAAQ,IAAIqC,OAAO,QAAUmF,EAAQ,IAAK,MAAO,KAO5DH,EAAQS,GAAQ,eAAe9G,KAAK2F,GAChCtL,IAAMiG,EAAI,IACZwG,EAAwC,OAAjCnB,EAAKrK,OAAOqK,EAAKjL,OAAS,GAC5B2L,IAAOA,EAAQS,IAGlBT,IACFL,EAAKK,OAAQ,GAIX1J,KAAKuH,QAAQnH,MACf6J,EAAS,cAAc5G,KAAK2F,GAC5BkB,OAAY3L,EACR0L,IACFC,EAAwB,MAAZlB,EAAK,GACjBA,EAAOA,EAAK3G,QAAQ,eAAgB,MAIxCgH,EAAKM,MAAMxD,KAAK,CACdiB,KAAM,YACNvH,IAAAA,EACAwK,KAAMJ,EACNK,QAASJ,EACTR,MAAOA,EACPvC,KAAM6B,IAIV,OAAOK,GAIX/B,KAAKE,GACH,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMtF,KAAK6C,KAAKuC,GACvC,GAAIR,EACF,MAAO,CACLI,KAAMpH,KAAKuH,QAAQ3G,SACf,YACA,OACJf,IAAKmH,EAAI,GACTuD,KAAMvK,KAAKuH,QAAQ1G,YACF,QAAXmG,EAAI,IAA2B,WAAXA,EAAI,IAA8B,UAAXA,EAAI,IACrDG,KAAMnH,KAAKuH,QAAQ3G,SAAYZ,KAAKuH,QAAQ1G,UAAYb,KAAKuH,QAAQ1G,UAAUmG,EAAI,IAAMhD,EAAOgD,EAAI,IAAOA,EAAI,IAKrHM,IAAIE,GACF,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAM8C,IAAIvF,KAAKuC,GACtC,GAAIR,EAAK,CACHA,EAAI,KAAIA,EAAI,GAAKA,EAAI,GAAGtE,UAAU,EAAGsE,EAAI,GAAGjJ,OAAS,IAEzD,MAAO,CACL0M,IAFUzD,EAAI,GAAGxE,cAAcH,QAAQ,OAAQ,KAG/CxC,IAAKmH,EAAI,GACT5D,KAAM4D,EAAI,GACVE,MAAOF,EAAI,KAKjBM,MAAME,GACJ,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMgD,MAAMzF,KAAKuC,GACxC,GAAIR,EAAK,CACP,MAAMgC,EAAO,CACX5B,KAAM,QACN6B,OAAQxD,EAAWuB,EAAI,GAAG3E,QAAQ,eAAgB,KAClD6G,MAAOlC,EAAI,GAAG3E,QAAQ,aAAc,IAAI4D,MAAM,UAC9CL,MAAOoB,EAAI,GAAKA,EAAI,GAAG3E,QAAQ,MAAO,IAAI4D,MAAM,MAAQ,IAG1D,GAAI+C,EAAKC,OAAOlL,SAAWiL,EAAKE,MAAMnL,OAAQ,CAC5CiL,EAAKnJ,IAAMmH,EAAI,GAEf,IACItJ,EADAiG,EAAIqF,EAAKE,MAAMnL,OAEnB,IAAKL,EAAI,EAAGA,EAAIiG,EAAGjG,IACb,YAAY2F,KAAK2F,EAAKE,MAAMxL,IAC9BsL,EAAKE,MAAMxL,GAAK,QACP,aAAa2F,KAAK2F,EAAKE,MAAMxL,IACtCsL,EAAKE,MAAMxL,GAAK,SACP,YAAY2F,KAAK2F,EAAKE,MAAMxL,IACrCsL,EAAKE,MAAMxL,GAAK,OAEhBsL,EAAKE,MAAMxL,GAAK,KAKpB,IADAiG,EAAIqF,EAAKpD,MAAM7H,OACVL,EAAI,EAAGA,EAAIiG,EAAGjG,IACjBsL,EAAKpD,MAAMlI,GAAK+H,EACduD,EAAKpD,MAAMlI,GAAG2E,QAAQ,mBAAoB,IAC1C2G,EAAKC,OAAOlL,QAGhB,OAAOiL,IAKb1B,SAASE,GACP,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMiD,SAAS1F,KAAKuC,GAC3C,GAAIR,EACF,MAAO,CACLI,KAAM,UACNvH,IAAKmH,EAAI,GACT8B,MAA4B,MAArB9B,EAAI,GAAGrI,OAAO,GAAa,EAAI,EACtCwI,KAAMH,EAAI,IAKhBM,UAAUE,GACR,MAAMR,EAAMhH,KAAKyH,MAAMC,MAAMkD,UAAU3F,KAAKuC,GAC5C,GAAIR,EACF,MAAO,CACLI,KAAM,YACNvH,IAAKmH,EAAI,GACTG,KAA2C,OAArCH,EAAI,GAAGrI,OAAOqI,EAAI,GAAGjJ,OAAS,GAChCiJ,EAAI,GAAGwB,MAAM,GAAI,GACjBxB,EAAI,IAKdM,KAAKE,EAAKI,GACR,MAAMZ,EAAMhH,KAAKyH,MAAMC,MAAMP,KAAKlC,KAAKuC,GACvC,GAAIR,EAAK,CACP,MAAMc,EAAYF,EAAOA,EAAO7J,OAAS,GACzC,OAAI+J,GAAgC,SAAnBA,EAAUV,KAClB,CACLvH,IAAKmH,EAAI,GACTG,KAAMH,EAAI,IAIP,CACLI,KAAM,OACNvH,IAAKmH,EAAI,GACTG,KAAMH,EAAI,KAKhBM,OAAOE,GACL,MAAMR,EAAMhH,KAAKyH,MAAMoD,OAAO7G,OAAOiB,KAAKuC,GAC1C,GAAIR,EACF,MAAO,CACLI,KAAM,SACNvH,IAAKmH,EAAI,GACTG,KAAMnD,EAAOgD,EAAI,KAKvBM,IAAIE,EAAKsD,EAAQC,GACf,MAAM/D,EAAMhH,KAAKyH,MAAMoD,OAAOJ,IAAIxF,KAAKuC,GACvC,GAAIR,EAYF,OAXK8D,GAAU,QAAQzH,KAAK2D,EAAI,IAC9B8D,GAAS,EACAA,GAAU,UAAUzH,KAAK2D,EAAI,MACtC8D,GAAS,IAENC,GAAc,iCAAiC1H,KAAK2D,EAAI,IAC3D+D,GAAa,EACJA,GAAc,mCAAmC1H,KAAK2D,EAAI,MACnE+D,GAAa,GAGR,CACL3D,KAAMpH,KAAKuH,QAAQ3G,SACf,OACA,OACJf,IAAKmH,EAAI,GACT8D,OAAAA,EACAC,WAAAA,EACA5D,KAAMnH,KAAKuH,QAAQ3G,SACdZ,KAAKuH,QAAQ1G,UACZb,KAAKuH,QAAQ1G,UAAUmG,EAAI,IAC3BhD,EAAOgD,EAAI,IACbA,EAAI,IAKdM,KAAKE,GACH,MAAMR,EAAMhH,KAAKyH,MAAMoD,OAAO5D,KAAKhC,KAAKuC,GACxC,GAAIR,EAAK,CACP,MAAMgE,EAAahE,EAAI,GAAGZ,OAC1B,IAAKpG,KAAKuH,QAAQ7G,UAAY,KAAK2C,KAAK2H,GAAa,CAEnD,IAAM,KAAK3H,KAAK2H,GACd,OAIF,MAAMC,EAAa3H,EAAM0H,EAAWxC,MAAM,GAAI,GAAI,MAClD,IAAKwC,EAAWjN,OAASkN,EAAWlN,QAAU,GAAM,EAClD,WAEG,CAEL,MAAMmN,EAAiB7E,EAAmBW,EAAI,GAAI,MAClD,GAAIkE,GAAkB,EAAG,CACvB,MACMC,GADgC,IAAxBnE,EAAI,GAAGxD,QAAQ,KAAa,EAAI,GACtBwD,EAAI,GAAGjJ,OAASmN,EACxClE,EAAI,GAAKA,EAAI,GAAGtE,UAAU,EAAGwI,GAC7BlE,EAAI,GAAKA,EAAI,GAAGtE,UAAU,EAAGyI,GAAS/E,OACtCY,EAAI,GAAK,IAGb,IAAI5D,EAAO4D,EAAI,GACXE,EAAQ,GACZ,GAAIlH,KAAKuH,QAAQ7G,SAAU,CAEzB,MAAMuG,EAAO,gCAAgChC,KAAK7B,GAE9C6D,IACF7D,EAAO6D,EAAK,GACZC,EAAQD,EAAK,SAGfC,EAAQF,EAAI,GAAKA,EAAI,GAAGwB,MAAM,GAAI,GAAK,GAYzC,OATApF,EAAOA,EAAKgD,OACR,KAAK/C,KAAKD,KAGVA,EAFEpD,KAAKuH,QAAQ7G,WAAc,KAAK2C,KAAK2H,GAEhC5H,EAAKoF,MAAM,GAEXpF,EAAKoF,MAAM,GAAI,IAGnBzB,EAAWC,EAAK,CACrB5D,KAAMA,EAAOA,EAAKf,QAAQrC,KAAKyH,MAAMoD,OAAOO,SAAU,MAAQhI,EAC9D8D,MAAOA,EAAQA,EAAM7E,QAAQrC,KAAKyH,MAAMoD,OAAOO,SAAU,MAAQlE,GAChEF,EAAI,KAIXM,QAAQE,EAAK6D,GACX,IAAIrE,EACJ,IAAKA,EAAMhH,KAAKyH,MAAMoD,OAAOS,QAAQrG,KAAKuC,MAClCR,EAAMhH,KAAKyH,MAAMoD,OAAOU,OAAOtG,KAAKuC,IAAO,CACjD,IAAIP,GAAQD,EAAI,IAAMA,EAAI,IAAI3E,QAAQ,OAAQ,KAE9C,GADA4E,EAAOoE,EAAMpE,EAAKzE,gBACbyE,IAASA,EAAK7D,KAAM,CACvB,MAAM+D,EAAOH,EAAI,GAAGrI,OAAO,GAC3B,MAAO,CACLyI,KAAM,OACNvH,IAAKsH,EACLA,KAAAA,GAGJ,OAAOJ,EAAWC,EAAKC,EAAMD,EAAI,KAIrCM,OAAOE,EAAKgE,EAAWC,EAAW,IAChC,IAAI5F,EAAQ7F,KAAKyH,MAAMoD,OAAOa,OAAOjC,MAAMxE,KAAKuC,GAEhD,GAAI3B,KAAWA,EAAM,IAAOA,EAAM,KAAoB,KAAb4F,GAAmBzL,KAAKyH,MAAMoD,OAAOc,YAAY1G,KAAKwG,KAAc,CAC3GD,EAAYA,EAAUhD,OAAO,EAAIhB,EAAIzJ,QACrC,MAAM6N,EAAsB,OAAb/F,EAAM,GAAc7F,KAAKyH,MAAMoD,OAAOa,OAAOG,OAAS7L,KAAKyH,MAAMoD,OAAOa,OAAOI,OAI9F,IAAI9E,EACJ,IAHA4E,EAAOG,UAAY,EAGwB,OAAnClG,EAAQ+F,EAAO3G,KAAKuG,KAE1B,GADAxE,EAAMhH,KAAKyH,MAAMoD,OAAOa,OAAOM,OAAO/G,KAAKuG,EAAUhD,MAAM,EAAG3C,EAAMoG,MAAQ,IACxEjF,EACF,MAAO,CACLI,KAAM,SACNvH,IAAK2H,EAAIgB,MAAM,EAAGxB,EAAI,GAAGjJ,QACzBoJ,KAAMK,EAAIgB,MAAM,EAAGxB,EAAI,GAAGjJ,OAAS,KAO7CuJ,GAAGE,EAAKgE,EAAWC,EAAW,IAC5B,IAAI5F,EAAQ7F,KAAKyH,MAAMoD,OAAOqB,GAAGzC,MAAMxE,KAAKuC,GAE5C,GAAI3B,KAAWA,EAAM,IAAOA,EAAM,KAAoB,KAAb4F,GAAmBzL,KAAKyH,MAAMoD,OAAOc,YAAY1G,KAAKwG,KAAc,CAC3GD,EAAYA,EAAUhD,OAAO,EAAIhB,EAAIzJ,QACrC,MAAM6N,EAAsB,MAAb/F,EAAM,GAAa7F,KAAKyH,MAAMoD,OAAOqB,GAAGL,OAAS7L,KAAKyH,MAAMoD,OAAOqB,GAAGJ,OAIrF,IAAI9E,EACJ,IAHA4E,EAAOG,UAAY,EAGwB,OAAnClG,EAAQ+F,EAAO3G,KAAKuG,KAE1B,GADAxE,EAAMhH,KAAKyH,MAAMoD,OAAOqB,GAAGF,OAAO/G,KAAKuG,EAAUhD,MAAM,EAAG3C,EAAMoG,MAAQ,IACpEjF,EACF,MAAO,CACLI,KAAM,KACNvH,IAAK2H,EAAIgB,MAAM,EAAGxB,EAAI,GAAGjJ,QACzBoJ,KAAMK,EAAIgB,MAAM,EAAGxB,EAAI,GAAGjJ,OAAS,KAO7CuJ,SAASE,GACP,MAAMR,EAAMhH,KAAKyH,MAAMoD,OAAOhD,KAAK5C,KAAKuC,GACxC,GAAIR,EAAK,CACP,IAAIG,EAAOH,EAAI,GAAG3E,QAAQ,MAAO,KACjC,MAAM8J,EAAmB,OAAO9I,KAAK8D,GAC/BiF,EAA0B,KAAK/I,KAAK8D,IAAS,KAAK9D,KAAK8D,GAK7D,OAJIgF,GAAoBC,IACtBjF,EAAOA,EAAKzE,UAAU,EAAGyE,EAAKpJ,OAAS,IAEzCoJ,EAAOnD,EAAOmD,GAAM,GACb,CACLC,KAAM,WACNvH,IAAKmH,EAAI,GACTG,KAAAA,IAKNG,GAAGE,GACD,MAAMR,EAAMhH,KAAKyH,MAAMoD,OAAOwB,GAAGpH,KAAKuC,GACtC,GAAIR,EACF,MAAO,CACLI,KAAM,KACNvH,IAAKmH,EAAI,IAKfM,IAAIE,GACF,MAAMR,EAAMhH,KAAKyH,MAAMoD,OAAOyB,IAAIrH,KAAKuC,GACvC,GAAIR,EACF,MAAO,CACLI,KAAM,MACNvH,IAAKmH,EAAI,GACTG,KAAMH,EAAI,IAKhBM,SAASE,EAAK/G,GACZ,MAAMuG,EAAMhH,KAAKyH,MAAMoD,OAAO0B,SAAStH,KAAKuC,GAC5C,GAAIR,EAAK,CACP,IAAIG,EAAM/D,EASV,MARe,MAAX4D,EAAI,IACNG,EAAOnD,EAAOhE,KAAKuH,QAAQ9G,OAASA,EAAOuG,EAAI,IAAMA,EAAI,IACzD5D,EAAO,UAAY+D,IAEnBA,EAAOnD,EAAOgD,EAAI,IAClB5D,EAAO+D,GAGF,CACLC,KAAM,OACNvH,IAAKmH,EAAI,GACTG,KAAAA,EACA/D,KAAAA,EACAwE,OAAQ,CACN,CACER,KAAM,OACNvH,IAAKsH,EACLA,KAAAA,MAOVG,IAAIE,EAAK/G,GACP,IAAIuG,EACJ,GAAIA,EAAMhH,KAAKyH,MAAMoD,OAAO2B,IAAIvH,KAAKuC,GAAM,CACzC,IAAIL,EAAM/D,EACV,GAAe,MAAX4D,EAAI,GACNG,EAAOnD,EAAOhE,KAAKuH,QAAQ9G,OAASA,EAAOuG,EAAI,IAAMA,EAAI,IACzD5D,EAAO,UAAY+D,MACd,CAEL,IAAIsF,EACJ,GACEA,EAAczF,EAAI,GAClBA,EAAI,GAAKhH,KAAKyH,MAAMoD,OAAO6B,WAAWzH,KAAK+B,EAAI,IAAI,SAC5CyF,IAAgBzF,EAAI,IAC7BG,EAAOnD,EAAOgD,EAAI,IAEhB5D,EADa,SAAX4D,EAAI,GACC,UAAYG,EAEZA,EAGX,MAAO,CACLC,KAAM,OACNvH,IAAKmH,EAAI,GACTG,KAAAA,EACA/D,KAAAA,EACAwE,OAAQ,CACN,CACER,KAAM,OACNvH,IAAKsH,EACLA,KAAAA,MAOVG,WAAWE,EAAKuD,EAAY/J,GAC1B,MAAMgG,EAAMhH,KAAKyH,MAAMoD,OAAO1D,KAAKlC,KAAKuC,GACxC,GAAIR,EAAK,CACP,IAAIG,EAMJ,OAJEA,EADE4D,EACK/K,KAAKuH,QAAQ3G,SAAYZ,KAAKuH,QAAQ1G,UAAYb,KAAKuH,QAAQ1G,UAAUmG,EAAI,IAAMhD,EAAOgD,EAAI,IAAOA,EAAI,GAEzGhD,EAAOhE,KAAKuH,QAAQvG,YAAcA,EAAYgG,EAAI,IAAMA,EAAI,IAE9D,CACLI,KAAM,OACNvH,IAAKmH,EAAI,GACTG,KAAAA,MCpsBR,MAAMnC,SACJA,EAAQd,KACRA,EACFgB,MAAEA,GACE2B,EAKEa,EAAQ,CACZC,QAAS,mBACTE,KAAM,uCACNI,OAAQ,6FACRkB,GAAI,yDACJP,QAAS,uCACTQ,WAAY,0CACZC,KAAM,wEACNjH,KAAM,saAUNoI,IAAK,mFACLzB,QAAS/D,EACT0F,MAAO1F,EACP2F,SAAU,sCAGVgC,WAAY,iFACZxF,KAAM,UAGRO,OAAe,iCACfA,OAAe,gEACVkF,EAACpC,IAAMtG,EAAKwD,EAAM8C,KACpBnI,QAAQ,QAASqF,EAAMmF,QACvBxK,QAAQ,QAASqF,EAAMoF,QACvBrI,WAEHiD,EAAMqF,OAAS,wBACfrF,EAAMsB,KAAO,+CACR4D,EAAC5D,KAAO9E,EAAKwD,EAAMsB,KAAM,MAC3B3G,QAAQ,QAASqF,EAAMqF,QACvBtI,WAEHiD,EAAM0C,cAAgBlG,EAAK,eACxB7B,QAAQ,OAAQqF,EAAMqF,QACtBtI,WAEEmI,EAACvD,KAAOnF,EAAKwD,EAAM2B,MACrBhH,QAAQ,QAASqF,EAAMqF,QACvB1K,QAAQ,KAAM,mEACdA,QAAQ,MAAO,UAAYqF,EAAM8C,IAAInG,OAAS,KAC9CI,WAEEmI,EAACI,KAAO,gWAMbtF,EAAMuF,SAAW,+BACZL,EAACxK,KAAO8B,EAAKwD,EAAMtF,KAAM,KAC3BC,QAAQ,UAAWqF,EAAMuF,UACzB5K,QAAQ,MAAOqF,EAAMsF,MACrB3K,QAAQ,YAAa,4EACrBoC,WAEEmI,EAAChC,UAAY1G,EAAKwD,EAAMiF,YAC1BtK,QAAQ,KAAMqF,EAAMyB,IACpB9G,QAAQ,UAAW,iBACnBA,QAAQ,YAAa,IACrBA,QAAQ,aAAc,WACtBA,QAAQ,SAAU,kDAClBA,QAAQ,OAAQ,0BAChBA,QAAQ,OAAQ,sDAChBA,QAAQ,MAAOqF,EAAMsF,MACrBvI,WAEEmI,EAACxD,WAAalF,EAAKwD,EAAM0B,YAC3B/G,QAAQ,YAAaqF,EAAMkD,WAC3BnG,WAMEmI,EAACM,OAAShI,EAAM,GAAIwC,GAMpBkF,EAACxM,IAAM8E,EAAM,GAAIwC,EAAMwF,OAAQ,CAClCnE,QAAS,qIAGT2B,MAAO,gIAKThD,EAAMtH,IAAI2I,QAAU7E,EAAKwD,EAAMtH,IAAI2I,SAChC1G,QAAQ,KAAMqF,EAAMyB,IACpB9G,QAAQ,UAAW,iBACnBA,QAAQ,aAAc,WACtBA,QAAQ,OAAQ,cAChBA,QAAQ,SAAU,kDAClBA,QAAQ,OAAQ,0BAChBA,QAAQ,OAAQ,sDAChBA,QAAQ,MAAOqF,EAAMsF,MACrBvI,WAEHiD,EAAMtH,IAAIsK,MAAQxG,EAAKwD,EAAMtH,IAAIsK,OAC9BrI,QAAQ,KAAMqF,EAAMyB,IACpB9G,QAAQ,UAAW,iBACnBA,QAAQ,aAAc,WACtBA,QAAQ,OAAQ,cAChBA,QAAQ,SAAU,kDAClBA,QAAQ,OAAQ,0BAChBA,QAAQ,OAAQ,sDAChBA,QAAQ,MAAOqF,EAAMsF,MACrBvI,WAMEmI,EAAClM,SAAWwE,EAAM,GAAIwC,EAAMwF,OAAQ,CACvC9K,KAAM8B,EACJ,8IAGC7B,QAAQ,UAAWqF,EAAMuF,UACzB5K,QAAQ,OAAQ,qKAIhBoC,WACH+F,IAAK,oEACL5B,QAAS,yBACTX,OAAQjD,EACR4F,UAAW1G,EAAKwD,EAAMwF,OAAOP,YAC1BtK,QAAQ,KAAMqF,EAAMyB,IACpB9G,QAAQ,UAAW,mBACnBA,QAAQ,WAAYqF,EAAMiD,UAC1BtI,QAAQ,aAAc,WACtBA,QAAQ,UAAW,IACnBA,QAAQ,QAAS,IACjBA,QAAQ,QAAS,IACjBoC,aAML,MAAMoG,EAAS,CACb7G,OAAQ,8CACRuI,SAAU,sCACVC,IAAKxH,EACLyF,IAAK,2JAMLxD,KAAM,gDACNqE,QAAS,wDACTC,OAAQ,gEACR4B,cAAe,wBACfzB,OAAQ,CACNjC,MAAO,gDACPuC,OAAQ,oOACRH,OAAQ,+EACRC,OAAQ,0CAEVI,GAAI,CACFzC,MAAO,2CACPuC,OAAQ,6NACRH,OAAQ,2EACRC,OAAQ,yCAEVjE,KAAM,sCACNwE,GAAI,wBACJC,IAAKtH,EACLmC,KAAM,6EACNwE,YAAa,sBAKfd,aAAsB,wCAChBuC,EAACzB,YAAczH,EAAK2G,EAAOc,aAAatJ,QAAQ,eAAgBwI,EAAOwC,cAAc5I,WAG3FoG,EAAOyC,WAAa,iDACpBzC,EAAO0C,aAAe,sCAEtB1C,EAAOoC,SAAW/I,EAAKwD,EAAMuF,UAAU5K,QAAQ,eAAa,UAAOoC,WAEnEoG,EAAOqB,GAAGzC,MAAQvF,EAAK2G,EAAOqB,GAAGzC,OAC9BpH,QAAQ,eAAgBwI,EAAOwC,cAC/B5I,WAEHoG,EAAOqB,GAAGF,OAAS9H,EAAK2G,EAAOqB,GAAGF,QAC/B3J,QAAQ,eAAgBwI,EAAOwC,cAC/BhL,QAAQ,eAAgBwI,EAAO0C,cAC/B9I,WAEHoG,EAAOqB,GAAGL,OAAS3H,EAAK2G,EAAOqB,GAAGL,OAAQ,KACvCxJ,QAAQ,eAAgBwI,EAAOwC,cAC/B5I,WAEHoG,EAAOqB,GAAGJ,OAAS5H,EAAK2G,EAAOqB,GAAGJ,OAAQ,KACvCzJ,QAAQ,eAAgBwI,EAAOwC,cAC/B5I,WAEHoG,EAAOa,OAAOjC,MAAQvF,EAAK2G,EAAOa,OAAOjC,OACtCpH,QAAQ,eAAgBwI,EAAOwC,cAC/B5I,WAEHoG,EAAOa,OAAOM,OAAS9H,EAAK2G,EAAOa,OAAOM,QACvC3J,QAAQ,eAAgBwI,EAAOwC,cAC/BhL,QAAQ,eAAgBwI,EAAO0C,cAC/B9I,WAEHoG,EAAOa,OAAOG,OAAS3H,EAAK2G,EAAOa,OAAOG,OAAQ,KAC/CxJ,QAAQ,eAAgBwI,EAAOwC,cAC/B5I,WAEHoG,EAAOa,OAAOI,OAAS5H,EAAK2G,EAAOa,OAAOI,OAAQ,KAC/CzJ,QAAQ,eAAgBwI,EAAOwC,cAC/B5I,WAEG2I,EAACI,UAAYtJ,EAAK2G,EAAOyC,WAAY,KACxC7I,WAEG2I,EAACK,YAAcvJ,EAAK2G,EAAO0C,aAAc,KAC5C9I,WAEHoG,EAAOO,SAAW,8CAElBP,EAAO6C,QAAU,+BACjB7C,EAAO8C,OAAS,+IACVP,EAACb,SAAWrI,EAAK2G,EAAO0B,UAC3BlK,QAAQ,SAAUwI,EAAO6C,SACzBrL,QAAQ,QAASwI,EAAO8C,QACxBlJ,WAEHoG,EAAO+C,WAAa,8EAEdR,EAAC3C,IAAMvG,EAAK2G,EAAOJ,KACtBpI,QAAQ,UAAWwI,EAAOoC,UAC1B5K,QAAQ,YAAawI,EAAO+C,YAC5BnJ,WAEHoG,EAAOgC,OAAS,sDAChBhC,EAAOgD,MAAQ,uCACfhD,EAAOiC,OAAS,8DAEVM,EAACnG,KAAO/C,EAAK2G,EAAO5D,MACvB5E,QAAQ,QAASwI,EAAOgC,QACxBxK,QAAQ,OAAQwI,EAAOgD,OACvBxL,QAAQ,QAASwI,EAAOiC,QACxBrI,WAEG2I,EAAC9B,QAAUpH,EAAK2G,EAAOS,SAC1BjJ,QAAQ,QAASwI,EAAOgC,QACxBpI,WAEG2I,EAACD,cAAgBjJ,EAAK2G,EAAOsC,cAAe,KAC/C9K,QAAQ,UAAWwI,EAAOS,SAC1BjJ,QAAQ,SAAUwI,EAAOU,QACzB9G,WAMG2I,EAACF,OAAShI,EAAM,GAAI2F,GAMpBuC,EAAC1M,SAAWwE,EAAM,GAAI2F,EAAOqC,OAAQ,CACzCxB,OAAQ,CACNjC,MAAO,WACPuC,OAAQ,iEACRH,OAAQ,cACRC,OAAQ,YAEVI,GAAI,CACFzC,MAAO,QACPuC,OAAQ,6DACRH,OAAQ,YACRC,OAAQ,WAEV7E,KAAM/C,EAAK,2BACR7B,QAAQ,QAASwI,EAAOgC,QACxBpI,WACH6G,QAASpH,EAAK,iCACX7B,QAAQ,QAASwI,EAAOgC,QACxBpI,aAOC2I,EAAChN,IAAM8E,EAAM,GAAI2F,EAAOqC,OAAQ,CACpClJ,OAAQE,EAAK2G,EAAO7G,QAAQ3B,QAAQ,KAAM,QAAQoC,WAClDqJ,gBAAiB,4EACjBtB,IAAK,mEACLE,WAAY,yEACZJ,IAAK,+CACLnF,KAAM,8NAGR0D,EAAOzK,IAAIoM,IAAMtI,EAAK2G,EAAOzK,IAAIoM,IAAK,KACnCnK,QAAQ,QAASwI,EAAOzK,IAAI0N,iBAC5BrJ,WAKG2I,EAACjN,OAAS+E,EAAM,GAAI2F,EAAOzK,IAAK,CACpCiM,GAAInI,EAAK2G,EAAOwB,IAAIhK,QAAQ,OAAQ,KAAKoC,WACzC0C,KAAMjD,EAAK2G,EAAOzK,IAAI+G,MACnB9E,QAAQ,OAAQ,iBAChBA,QAAQ,UAAW,KACnBoC,aAGL,IAAAgD,EAAiB,CACjBC,MAAEA,EACFmD,OAAEA,GCpVF,MAAQzJ,SAAAA,GAAayF,GACfa,MAAEA,EAAKmD,OAAEA,GAAW/D,GACpBJ,aAAEA,GAAiBqH,EAKzB,SAAS/M,EAAYmG,GACnB,OAAOA,EAEJ9E,QAAQ,OAAQ,KAEhBA,QAAQ,MAAO,KAEfA,QAAQ,0BAA2B,OAEnCA,QAAQ,KAAM,KAEdA,QAAQ,+BAAgC,OAExCA,QAAQ,KAAM,KAEdA,QAAQ,SAAU,KAMvB,SAAS5B,EAAO0G,GACd,IACEzJ,EACAwE,EAFE8L,EAAM,GAIV,MAAMrK,EAAIwD,EAAKpJ,OACf,IAAKL,EAAI,EAAGA,EAAIiG,EAAGjG,IACjBwE,EAAKiF,EAAK1I,WAAWf,GACjBuQ,KAAKC,SAAW,KAClBhM,EAAK,IAAMA,EAAGiM,SAAS,KAEzBH,GAAO,KAAO9L,EAAK,IAGrB,OAAO8L,EAMT,IAAcI,EAAG,MAAMC,EACrB/G,YAAYC,GACVvH,KAAK4H,OAAS,GACd5H,KAAK4H,OAAOyD,MAAQhG,OAAOiJ,OAAO,MAClCtO,KAAKuH,QAAUA,GAAWnG,EAC1BpB,KAAKuH,QAAQtG,UAAYjB,KAAKuH,QAAQtG,WAAa,IAAIsN,EACvDvO,KAAKiB,UAAYjB,KAAKuH,QAAQtG,UAC9BjB,KAAKiB,UAAUsG,QAAUvH,KAAKuH,QAE9B,MAAME,EAAQ,CACZC,MAAOA,EAAMwF,OACbrC,OAAQA,EAAOqC,QAGblN,KAAKuH,QAAQ7G,UACf+G,EAAMC,MAAQA,EAAMhH,SACpB+G,EAAMoD,OAASA,EAAOnK,UACbV,KAAKuH,QAAQnH,MACtBqH,EAAMC,MAAQA,EAAMtH,IAChBJ,KAAKuH,QAAQpH,OACfsH,EAAMoD,OAASA,EAAO1K,OAEtBsH,EAAMoD,OAASA,EAAOzK,KAG1BJ,KAAKiB,UAAUwG,MAAQA,EAMzBA,mBACE,MAAO,CACLC,MAAAA,EACAmD,OAAAA,GAOJvD,WAAWE,EAAKD,GAEd,OADc,IAAI8G,EAAM9G,GACXiH,IAAIhH,GAMnBF,iBAAiBE,EAAKD,GAEpB,OADc,IAAI8G,EAAM9G,GACXkH,aAAajH,GAM5BF,IAAIE,GASF,OARAA,EAAMA,EACHnF,QAAQ,WAAY,MACpBA,QAAQ,MAAO,QAElBrC,KAAK0O,YAAYlH,EAAKxH,KAAK4H,QAAQ,GAEnC5H,KAAK6K,OAAO7K,KAAK4H,QAEV5H,KAAK4H,OAMdN,YAAYE,EAAKI,EAAS,GAAI+G,GAAM,GAIlC,IAAIC,EAAOlR,EAAGiG,EAAGmE,EAEjB,IALI9H,KAAKuH,QAAQ7G,WACf8G,EAAMA,EAAInF,QAAQ,SAAU,KAIvBmF,GAEL,GAAIoH,EAAQ5O,KAAKiB,UAAU4I,MAAMrC,GAC/BA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC1B6Q,EAAMxH,MACRQ,EAAOzB,KAAKyI,QAMhB,GAAIA,EAAQ5O,KAAKiB,UAAU4G,KAAKL,EAAKI,GACnCJ,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC1B6Q,EAAMxH,KACRQ,EAAOzB,KAAKyI,IAEZ9G,EAAYF,EAAOA,EAAO7J,OAAS,GACnC+J,EAAUjI,KAAO,KAAO+O,EAAM/O,IAC9BiI,EAAUX,MAAQ,KAAOyH,EAAMzH,WAMnC,GAAIyH,EAAQ5O,KAAKiB,UAAUgH,OAAOT,GAChCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAU2H,QAAQpB,GACjCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAU8H,QAAQvB,GACjCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUkI,GAAG3B,GAC5BA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUmI,WAAW5B,GACpCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6Q,EAAMhH,OAAS5H,KAAK0O,YAAYE,EAAMzH,KAAM,GAAIwH,GAChD/G,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUoI,KAAK7B,GAAhC,CAGE,IAFAA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B4F,EAAIiL,EAAMjF,MAAM5L,OACXL,EAAI,EAAGA,EAAIiG,EAAGjG,IACjBkR,EAAMjF,MAAMjM,GAAGkK,OAAS5H,KAAK0O,YAAYE,EAAMjF,MAAMjM,GAAGyJ,KAAM,IAAI,GAEpES,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUmB,KAAKoF,GAC9BA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAID,IAAQC,EAAQ5O,KAAKiB,UAAUuJ,IAAIhD,IACrCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QACzBiC,KAAK4H,OAAOyD,MAAMuD,EAAMnE,OAC3BzK,KAAK4H,OAAOyD,MAAMuD,EAAMnE,KAAO,CAC7BrH,KAAMwL,EAAMxL,KACZ8D,MAAO0H,EAAM1H,aAOnB,GAAI0H,EAAQ5O,KAAKiB,UAAUyJ,MAAMlD,GAC/BA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAU0J,SAASnD,GAClCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAID,IAAQC,EAAQ5O,KAAKiB,UAAU2J,UAAUpD,IAC3CA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUkG,KAAKK,EAAKI,GACnCJ,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC1B6Q,EAAMxH,KACRQ,EAAOzB,KAAKyI,IAEZ9G,EAAYF,EAAOA,EAAO7J,OAAS,GACnC+J,EAAUjI,KAAO,KAAO+O,EAAM/O,IAC9BiI,EAAUX,MAAQ,KAAOyH,EAAMzH,WAKnC,GAAIK,EAAK,CACP,MAAMqH,EAAS,0BAA4BrH,EAAI/I,WAAW,GAC1D,GAAIuB,KAAKuH,QAAQzG,OAAQ,CACvB0F,QAAQsI,MAAMD,GACd,MAEA,MAAM,IAAIE,MAAMF,GAKtB,OAAOjH,EAGTN,OAAOM,GACL,IAAIlK,EACFsR,EACA9P,EACA+P,EACAC,EACAN,EAEF,MAAMjL,EAAIiE,EAAO7J,OACjB,IAAKL,EAAI,EAAGA,EAAIiG,EAAGjG,IAEjB,OADAkR,EAAQhH,EAAOlK,GACPkR,EAAMxH,MACZ,IAAK,YACL,IAAK,OACL,IAAK,UACHwH,EAAMhH,OAAS,GACf5H,KAAKyO,aAAaG,EAAMzH,KAAMyH,EAAMhH,QACpC,MAEF,IAAK,QAQH,IAPAgH,EAAMhH,OAAS,CACbqB,OAAQ,GACRrD,MAAO,IAITqJ,EAAKL,EAAM3F,OAAOlL,OACbiR,EAAI,EAAGA,EAAIC,EAAID,IAClBJ,EAAMhH,OAAOqB,OAAO+F,GAAK,GACzBhP,KAAKyO,aAAaG,EAAM3F,OAAO+F,GAAIJ,EAAMhH,OAAOqB,OAAO+F,IAKzD,IADAC,EAAKL,EAAMhJ,MAAM7H,OACZiR,EAAI,EAAGA,EAAIC,EAAID,IAGlB,IAFAE,EAAMN,EAAMhJ,MAAMoJ,GAClBJ,EAAMhH,OAAOhC,MAAMoJ,GAAK,GACnB9P,EAAI,EAAGA,EAAIgQ,EAAInR,OAAQmB,IAC1B0P,EAAMhH,OAAOhC,MAAMoJ,GAAG9P,GAAK,GAC3Bc,KAAKyO,aAAaS,EAAIhQ,GAAI0P,EAAMhH,OAAOhC,MAAMoJ,GAAG9P,IAIpD,MAEF,IAAK,aACHc,KAAK6K,OAAO+D,EAAMhH,QAClB,MAEF,IAAK,OAEH,IADAqH,EAAKL,EAAMjF,MAAM5L,OACZiR,EAAI,EAAGA,EAAIC,EAAID,IAClBhP,KAAK6K,OAAO+D,EAAMjF,MAAMqF,GAAGpH,QAUnC,OAAOA,EAMTN,aAAaE,EAAKI,EAAS,GAAIkD,GAAS,EAAOC,GAAa,GAC1D,IAAI6D,EAIA/I,EACAsJ,EAAc1D,EAFdD,EAAYhE,EAKhB,GAAIxH,KAAK4H,OAAOyD,MAAO,CACrB,MAAMA,EAAQhG,OAAO+J,KAAKpP,KAAK4H,OAAOyD,OACtC,GAAIA,EAAMtN,OAAS,EACjB,KAA8E,OAAtE8H,EAAQ7F,KAAKiB,UAAUwG,MAAMoD,OAAOsC,cAAclI,KAAKuG,KACzDH,EAAMgE,SAASxJ,EAAM,GAAG2C,MAAM3C,EAAM,GAAGyJ,YAAY,KAAO,GAAI,MAChE9D,EAAYA,EAAUhD,MAAM,EAAG3C,EAAMoG,OAAS,IAAMvF,EAAa,IAAKb,EAAM,GAAG9H,OAAS,GAAK,IAAMyN,EAAUhD,MAAMxI,KAAKiB,UAAUwG,MAAMoD,OAAOsC,cAAcpB,YAMrK,KAA0E,OAAlElG,EAAQ7F,KAAKiB,UAAUwG,MAAMoD,OAAO2C,UAAUvI,KAAKuG,KACzDA,EAAYA,EAAUhD,MAAM,EAAG3C,EAAMoG,OAAS,IAAMvF,EAAa,IAAKb,EAAM,GAAG9H,OAAS,GAAK,IAAMyN,EAAUhD,MAAMxI,KAAKiB,UAAUwG,MAAMoD,OAAO2C,UAAUzB,WAG3J,KAAOvE,GAML,GALK2H,IACH1D,EAAW,IAEb0D,GAAe,EAEXP,EAAQ5O,KAAKiB,UAAU+C,OAAOwD,GAChCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUwJ,IAAIjD,EAAKsD,EAAQC,GAC1CvD,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B+M,EAAS8D,EAAM9D,OACfC,EAAa6D,EAAM7D,WACnBnD,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUgG,KAAKO,GAC9BA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QACX,SAAf6Q,EAAMxH,OACRwH,EAAMhH,OAAS5H,KAAKyO,aAAaG,EAAMzH,KAAM,IAAI,EAAM4D,IAEzDnD,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUqK,QAAQ9D,EAAKxH,KAAK4H,OAAOyD,OAClD7D,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QACX,SAAf6Q,EAAMxH,OACRwH,EAAMhH,OAAS5H,KAAKyO,aAAaG,EAAMzH,KAAM,IAAI,EAAM4D,IAEzDnD,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUyK,OAAOlE,EAAKgE,EAAWC,GAChDjE,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6Q,EAAMhH,OAAS5H,KAAKyO,aAAaG,EAAMzH,KAAM,GAAI2D,EAAQC,GACzDnD,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUiL,GAAG1E,EAAKgE,EAAWC,GAC5CjE,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6Q,EAAMhH,OAAS5H,KAAKyO,aAAaG,EAAMzH,KAAM,GAAI2D,EAAQC,GACzDnD,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUsO,SAAS/H,GAClCA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUoL,GAAG7E,GAC5BA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUqL,IAAI9E,GAC7BA,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6Q,EAAMhH,OAAS5H,KAAKyO,aAAaG,EAAMzH,KAAM,GAAI2D,EAAQC,GACzDnD,EAAOzB,KAAKyI,QAKd,GAAIA,EAAQ5O,KAAKiB,UAAUsL,SAAS/E,EAAK/G,GACvC+G,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,QAKd,GAAK9D,KAAW8D,EAAQ5O,KAAKiB,UAAUuL,IAAIhF,EAAK/G,KAOhD,GAAImO,EAAQ5O,KAAKiB,UAAUuO,WAAWhI,EAAKuD,EAAY/J,GACrDwG,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B0N,EAAWmD,EAAM/O,IAAI2I,OAAO,GAC5B2G,GAAe,EACfvH,EAAOzB,KAAKyI,QAId,GAAIpH,EAAK,CACP,MAAMqH,EAAS,0BAA4BrH,EAAI/I,WAAW,GAC1D,GAAIuB,KAAKuH,QAAQzG,OAAQ,CACvB0F,QAAQsI,MAAMD,GACd,MAEA,MAAM,IAAIE,MAAMF,SApBlBrH,EAAMA,EAAI9E,UAAUkM,EAAM/O,IAAI9B,QAC9B6J,EAAOzB,KAAKyI,GAwBhB,OAAOhH,ICrdX,MAAQxG,SAAAA,GAAayF,GACflC,SACJA,EACFX,OAAEA,GACE8C,EAKJ,IAAc2I,EAAG,MACfnI,YAAYC,GACVvH,KAAKuH,QAAUA,GAAWnG,EAG5BkG,KAAKO,EAAM6H,EAAY3J,GACrB,MAAM4C,GAAQ+G,GAAc,IAAI7J,MAAM,OAAO,GAC7C,GAAI7F,KAAKuH,QAAQhH,UAAW,CAC1B,MAAMyN,EAAMhO,KAAKuH,QAAQhH,UAAUsH,EAAMc,GAC9B,MAAPqF,GAAeA,IAAQnG,IACzB9B,GAAU,EACV8B,EAAOmG,GAMX,OAFAnG,EAAOA,EAAKxF,QAAQ,MAAO,IAAM,KAE5BsG,EAME,qBACH3I,KAAKuH,QAAQ/G,WACbwD,EAAO2E,GAAM,GACb,MACC5C,EAAU8B,EAAO7D,EAAO6D,GAAM,IAC/B,kBAVK,eACF9B,EAAU8B,EAAO7D,EAAO6D,GAAM,IAC/B,kBAWRP,WAAWqI,GACT,MAAO,iBAAmBA,EAAQ,kBAGpCrI,KAAKlF,GACH,OAAOA,EAGTkF,QAAQH,EAAMb,EAAOzG,EAAK+P,GACxB,OAAI5P,KAAKuH,QAAQlH,UACR,KACHiG,EACA,QACAtG,KAAKuH,QAAQjH,aACbsP,EAAQC,KAAKhQ,GACb,KACAsH,EACA,MACAb,EACA,MAGC,KAAOA,EAAQ,IAAMa,EAAO,MAAQb,EAAQ,MAGrDgB,KACE,OAAOtH,KAAKuH,QAAQpG,MAAQ,UAAY,SAG1CmG,KAAKwI,EAAMtG,EAASC,GAClB,MAAMrC,EAAOoC,EAAU,KAAO,KAE9B,MAAO,IAAMpC,GADCoC,GAAqB,IAAVC,EAAgB,WAAaA,EAAQ,IAAO,IACtC,MAAQqG,EAAO,KAAO1I,EAAO,MAG9DE,SAASH,GACP,MAAO,OAASA,EAAO,UAGzBG,SAASgD,GACP,MAAO,WACFA,EAAU,cAAgB,IAC3B,+BACCtK,KAAKuH,QAAQpG,MAAQ,KAAO,IAC7B,KAGNmG,UAAUH,GACR,MAAO,MAAQA,EAAO,SAGxBG,MAAM2B,EAAQ6G,GAGZ,OAFIA,IAAMA,EAAO,UAAYA,EAAO,YAE7B,qBAEH7G,EACA,aACA6G,EACA,aAGNxI,SAASyI,GACP,MAAO,SAAWA,EAAU,UAG9BzI,UAAUyI,EAASC,GACjB,MAAM5I,EAAO4I,EAAM/G,OAAS,KAAO,KAInC,OAHY+G,EAAM9G,MACd,IAAM9B,EAAO,WAAa4I,EAAM9G,MAAQ,KACxC,IAAM9B,EAAO,KACJ2I,EAAU,KAAO3I,EAAO,MAIvCE,OAAOH,GACL,MAAO,WAAaA,EAAO,YAG7BG,GAAGH,GACD,MAAO,OAASA,EAAO,QAGzBG,SAASH,GACP,MAAO,SAAWA,EAAO,UAG3BG,KACE,OAAOtH,KAAKuH,QAAQpG,MAAQ,QAAU,OAGxCmG,IAAIH,GACF,MAAO,QAAUA,EAAO,SAG1BG,KAAKlE,EAAM8D,EAAOC,GAEhB,GAAa,QADb/D,EAAOuB,EAAS3E,KAAKuH,QAAQ3G,SAAUZ,KAAKuH,QAAQrH,QAASkD,IAE3D,OAAO+D,EAET,IAAI6G,EAAM,YAAchK,EAAOZ,GAAQ,IAKvC,OAJI8D,IACF8G,GAAO,WAAa9G,EAAQ,KAE9B8G,GAAO,IAAM7G,EAAO,OACb6G,EAGT1G,MAAMlE,EAAM8D,EAAOC,GAEjB,GAAa,QADb/D,EAAOuB,EAAS3E,KAAKuH,QAAQ3G,SAAUZ,KAAKuH,QAAQrH,QAASkD,IAE3D,OAAO+D,EAGT,IAAI6G,EAAM,aAAe5K,EAAO,UAAY+D,EAAO,IAKnD,OAJID,IACF8G,GAAO,WAAa9G,EAAQ,KAE9B8G,GAAOhO,KAAKuH,QAAQpG,MAAQ,KAAO,IAC5B6M,EAGT1G,KAAKH,GACH,OAAOA,IC/JG8I,EAAG,MAEf3I,OAAOH,GACL,OAAOA,EAGTG,GAAGH,GACD,OAAOA,EAGTG,SAASH,GACP,OAAOA,EAGTG,IAAIH,GACF,OAAOA,EAGTG,KAAKH,GACH,OAAOA,EAGTG,KAAKH,GACH,OAAOA,EAGTG,KAAKlE,EAAM8D,EAAOC,GAChB,MAAO,GAAKA,EAGdG,MAAMlE,EAAM8D,EAAOC,GACjB,MAAO,GAAKA,EAGdG,KACE,MAAO,KCpCG4I,EAAG,MACf5I,cACEtH,KAAKmQ,KAAO,GAGd7I,UAAU8I,GACR,OAAOA,EACJ5N,cACA4D,OAEA/D,QAAQ,kBAAmB,IAE3BA,QAAQ,gEAAiE,IACzEA,QAAQ,MAAO,KAMpBiF,gBAAgB+I,EAAcC,GAC5B,IAAIT,EAAOQ,EACPE,EAAuB,EAC3B,GAAIvQ,KAAKmQ,KAAK5K,eAAesK,GAAO,CAClCU,EAAuBvQ,KAAKmQ,KAAKE,GACjC,GACEE,IACAV,EAAOQ,EAAe,IAAME,QACrBvQ,KAAKmQ,KAAK5K,eAAesK,IAMpC,OAJKS,IACHtQ,KAAKmQ,KAAKE,GAAgBE,EAC1BvQ,KAAKmQ,KAAKN,GAAQ,GAEbA,EAQTvI,KAAK8I,EAAO7I,EAAU,IACpB,MAAMsI,EAAO7P,KAAKwQ,UAAUJ,GAC5B,OAAOpQ,KAAKyQ,gBAAgBZ,EAAMtI,EAAQmJ,UC3C9C,MAAQtP,SAAAA,GAAayF,GAErBhI,SAAEA,GACEiI,EAKJ,IAAc6J,EAAG,MAAMC,EACrBtJ,YAAYC,GACVvH,KAAKuH,QAAUA,GAAWnG,EAC1BpB,KAAKuH,QAAQ5G,SAAWX,KAAKuH,QAAQ5G,UAAY,IAAIkQ,EACrD7Q,KAAKW,SAAWX,KAAKuH,QAAQ5G,SAC7BX,KAAKW,SAAS4G,QAAUvH,KAAKuH,QAC7BvH,KAAK8Q,aAAe,IAAIC,EACxB/Q,KAAK4P,QAAU,IAAIoB,EAMrB1J,aAAaM,EAAQL,GAEnB,OADe,IAAIqJ,EAAOrJ,GACZ0J,MAAMrJ,GAMtBN,mBAAmBM,EAAQL,GAEzB,OADe,IAAIqJ,EAAOrJ,GACZ2J,YAAYtJ,GAM5BN,MAAMM,EAAQ+G,GAAM,GAClB,IACEjR,EACAsR,EACA9P,EACA+P,EACAkC,EACAjC,EACAkC,EACAnI,EACA6G,EACAlB,EACApF,EACAC,EACAC,EACA2H,EACArI,EACAsB,EACAD,EACAiH,EAlBEtD,EAAM,GAoBV,MAAMrK,EAAIiE,EAAO7J,OACjB,IAAKL,EAAI,EAAGA,EAAIiG,EAAGjG,IAEjB,OADAkR,EAAQhH,EAAOlK,GACPkR,EAAMxH,MACZ,IAAK,QACH,SAEF,IAAK,KACH4G,GAAOhO,KAAKW,SAASwI,KACrB,SAEF,IAAK,UACH6E,GAAOhO,KAAKW,SAASiI,QACnB5I,KAAKkR,YAAYtC,EAAMhH,QACvBgH,EAAM9F,MACNjK,EAASmB,KAAKkR,YAAYtC,EAAMhH,OAAQ5H,KAAK8Q,eAC7C9Q,KAAK4P,SACP,SAEF,IAAK,OACH5B,GAAOhO,KAAKW,SAASkH,KAAK+G,EAAMzH,KAC9ByH,EAAMjG,KACNiG,EAAM7I,SACR,SAEF,IAAK,QAMH,IALAkD,EAAS,GAGTmI,EAAO,GACPnC,EAAKL,EAAM3F,OAAOlL,OACbiR,EAAI,EAAGA,EAAIC,EAAID,IAClBoC,GAAQpR,KAAKW,SAAS4Q,UACpBvR,KAAKkR,YAAYtC,EAAMhH,OAAOqB,OAAO+F,IACrC,CAAE/F,QAAQ,EAAMC,MAAO0F,EAAM1F,MAAM8F,KAOvC,IAJA/F,GAAUjJ,KAAKW,SAAS6Q,SAASJ,GAEjCtB,EAAO,GACPb,EAAKL,EAAMhJ,MAAM7H,OACZiR,EAAI,EAAGA,EAAIC,EAAID,IAAK,CAKvB,IAJAE,EAAMN,EAAMhH,OAAOhC,MAAMoJ,GAEzBoC,EAAO,GACPD,EAAKjC,EAAInR,OACJmB,EAAI,EAAGA,EAAIiS,EAAIjS,IAClBkS,GAAQpR,KAAKW,SAAS4Q,UACpBvR,KAAKkR,YAAYhC,EAAIhQ,IACrB,CAAE+J,QAAQ,EAAOC,MAAO0F,EAAM1F,MAAMhK,KAIxC4Q,GAAQ9P,KAAKW,SAAS6Q,SAASJ,GAEjCpD,GAAOhO,KAAKW,SAAS+J,MAAMzB,EAAQ6G,GACnC,SAEF,IAAK,aACHA,EAAO9P,KAAKiR,MAAMrC,EAAMhH,QACxBoG,GAAOhO,KAAKW,SAASyI,WAAW0G,GAChC,SAEF,IAAK,OAOH,IANAtG,EAAUoF,EAAMpF,QAChBC,EAAQmF,EAAMnF,MACdC,EAAQkF,EAAMlF,MACduF,EAAKL,EAAMjF,MAAM5L,OAEjB+R,EAAO,GACFd,EAAI,EAAGA,EAAIC,EAAID,IAClBhG,EAAO4F,EAAMjF,MAAMqF,GACnB1E,EAAUtB,EAAKsB,QACfD,EAAOrB,EAAKqB,KAEZgH,EAAW,GACPrI,EAAKqB,OACPiH,EAAWtR,KAAKW,SAAS2Q,SAAShH,GAC9BZ,EACEV,EAAKpB,OAAO7J,OAAS,GAA6B,SAAxBiL,EAAKpB,OAAO,GAAGR,MAC3C4B,EAAKpB,OAAO,GAAGT,KAAOmK,EAAW,IAAMtI,EAAKpB,OAAO,GAAGT,KAClD6B,EAAKpB,OAAO,GAAGA,QAAUoB,EAAKpB,OAAO,GAAGA,OAAO7J,OAAS,GAAuC,SAAlCiL,EAAKpB,OAAO,GAAGA,OAAO,GAAGR,OACxF4B,EAAKpB,OAAO,GAAGA,OAAO,GAAGT,KAAOmK,EAAW,IAAMtI,EAAKpB,OAAO,GAAGA,OAAO,GAAGT,OAG5E6B,EAAKpB,OAAO6J,QAAQ,CAClBrK,KAAM,OACND,KAAMmK,IAIVD,GAAYC,GAIhBD,GAAYrR,KAAKiR,MAAMjI,EAAKpB,OAAQ8B,GACpCoG,GAAQ9P,KAAKW,SAAS+Q,SAASL,EAAUhH,EAAMC,GAGjD0D,GAAOhO,KAAKW,SAAS0I,KAAKyG,EAAMtG,EAASC,GACzC,SAEF,IAAK,OAEHuE,GAAOhO,KAAKW,SAASyB,KAAKwM,EAAMzH,MAChC,SAEF,IAAK,YACH6G,GAAOhO,KAAKW,SAASiK,UAAU5K,KAAKkR,YAAYtC,EAAMhH,SACtD,SAEF,IAAK,OAEH,IADAkI,EAAOlB,EAAMhH,OAAS5H,KAAKkR,YAAYtC,EAAMhH,QAAUgH,EAAMzH,KACtDzJ,EAAI,EAAIiG,GAA4B,SAAvBiE,EAAOlK,EAAI,GAAG0J,MAChCwH,EAAQhH,IAASlK,GACjBoS,GAAQ,MAAQlB,EAAMhH,OAAS5H,KAAKkR,YAAYtC,EAAMhH,QAAUgH,EAAMzH,MAExE6G,GAAOW,EAAM3O,KAAKW,SAASiK,UAAUkF,GAAQA,EAC7C,SAEF,QAAS,CACP,MAAMjB,EAAS,eAAiBD,EAAMxH,KAAO,wBAC7C,GAAIpH,KAAKuH,QAAQzG,OAEf,YADA0F,QAAQsI,MAAMD,GAGd,MAAM,IAAIE,MAAMF,IAMxB,OAAOb,EAMT1G,YAAYM,EAAQjH,GAClBA,EAAWA,GAAYX,KAAKW,SAC5B,IACEjD,EACAkR,EAFEZ,EAAM,GAIV,MAAMrK,EAAIiE,EAAO7J,OACjB,IAAKL,EAAI,EAAGA,EAAIiG,EAAGjG,IAEjB,OADAkR,EAAQhH,EAAOlK,GACPkR,EAAMxH,MACZ,IAAK,SACH4G,GAAOrN,EAASwG,KAAKyH,EAAMzH,MAC3B,MAEF,IAAK,OACH6G,GAAOrN,EAASyB,KAAKwM,EAAMzH,MAC3B,MAEF,IAAK,OACH6G,GAAOrN,EAASsG,KAAK2H,EAAMxL,KAAMwL,EAAM1H,MAAOlH,KAAKkR,YAAYtC,EAAMhH,OAAQjH,IAC7E,MAEF,IAAK,QACHqN,GAAOrN,EAASgR,MAAM/C,EAAMxL,KAAMwL,EAAM1H,MAAO0H,EAAMzH,MACrD,MAEF,IAAK,SACH6G,GAAOrN,EAAS+K,OAAO1L,KAAKkR,YAAYtC,EAAMhH,OAAQjH,IACtD,MAEF,IAAK,KACHqN,GAAOrN,EAASuL,GAAGlM,KAAKkR,YAAYtC,EAAMhH,OAAQjH,IAClD,MAEF,IAAK,WACHqN,GAAOrN,EAAS4O,SAASX,EAAMzH,MAC/B,MAEF,IAAK,KACH6G,GAAOrN,EAAS0L,KAChB,MAEF,IAAK,MACH2B,GAAOrN,EAAS2L,IAAItM,KAAKkR,YAAYtC,EAAMhH,OAAQjH,IACnD,MAEF,IAAK,OACHqN,GAAOrN,EAASwG,KAAKyH,EAAMzH,MAC3B,MAEF,QAAS,CACP,MAAM0H,EAAS,eAAiBD,EAAMxH,KAAO,wBAC7C,GAAIpH,KAAKuH,QAAQzG,OAEf,YADA0F,QAAQsI,MAAMD,GAGd,MAAM,IAAIE,MAAMF,IAKxB,OAAOb,IC9PX,MAAM9I,MACJA,EAAKqB,yBACLA,EAAwBvC,OACxBA,GACE6C,GACE5G,YACJA,GAAWoB,eACXA,GAAcD,SACdA,IACE0F,EAKJ,SAAS8K,GAAOpK,EAAKpD,EAAKyN,GAExB,GAAI,MAAOrK,EACT,MAAM,IAAIuH,MAAM,kDAElB,GAAmB,iBAARvH,EACT,MAAM,IAAIuH,MAAM,wCACZ1J,OAAOC,UAAU6I,SAAS3I,KAAKgC,GAAO,qBAW5C,GARmB,mBAARpD,IACTyN,EAAWzN,EACXA,EAAM,MAGRA,EAAMc,EAAM,GAAI0M,GAAOxQ,SAAUgD,GAAO,IACxCmC,EAAyBnC,GAErByN,EAAU,CACZ,MAAMtR,EAAY6D,EAAI7D,UACtB,IAAIqH,EAEJ,IACEA,EAASyG,EAAMG,IAAIhH,EAAKpD,GACxB,MAAOU,GACP,OAAO+M,EAAS/M,GAGlB,MAAMgN,EAAO,SAASC,GACpB,IAAI/D,EAEJ,IAAK+D,EACH,IACE/D,EAAM4C,EAAOK,MAAMrJ,EAAQxD,GAC3B,MAAOU,GACPiN,EAAMjN,EAMV,OAFAV,EAAI7D,UAAYA,EAETwR,EACHF,EAASE,GACTF,EAAS,KAAM7D,IAGrB,IAAKzN,GAAaA,EAAUxC,OAAS,EACnC,OAAO+T,IAKT,UAFO1N,EAAI7D,WAENqH,EAAO7J,OAAQ,OAAO+T,IAE3B,IAAIE,EAAU,EA2Bd,OA1BAJ,GAAO1Q,WAAW0G,GAAQ,SAASgH,GACd,SAAfA,EAAMxH,OACR4K,IACAC,WAAW,KACT1R,EAAUqO,EAAMzH,KAAMyH,EAAMjG,MAAM,SAASoJ,EAAKlK,GAC9C,GAAIkK,EACF,OAAOD,EAAKC,GAEF,MAARlK,GAAgBA,IAAS+G,EAAMzH,OACjCyH,EAAMzH,KAAOU,EACb+G,EAAM7I,SAAU,GAGlBiM,IACgB,IAAZA,GACFF,QAGH,YAIS,IAAZE,GACFF,KAMJ,IACE,MAAMlK,EAASyG,EAAMG,IAAIhH,EAAKpD,GAI9B,OAHIA,EAAIlD,YACN0Q,GAAO1Q,WAAW0G,EAAQxD,EAAIlD,YAEzB0P,EAAOK,MAAMrJ,EAAQxD,GAC5B,MAAOU,GAEP,GADAA,EAAEoN,SAAW,8DACT9N,EAAItD,OACN,MAAO,iCACHkD,EAAOc,EAAEoN,QAAU,IAAI,GACvB,SAEN,MAAMpN,GAQV8M,GAAOrK,QACPqK,GAAOO,WAAa,SAAS/N,GAG3B,OAFAc,EAAM0M,GAAOxQ,SAAUgD,GACvB/C,GAAeuQ,GAAOxQ,UACfwQ,IAGTA,GAAO3R,YAAcA,GAErB2R,GAAOxQ,SAAWA,GAMlBwQ,GAAOQ,IAAM,SAASC,GACpB,MAAMC,EAAOpN,EAAM,GAAImN,GACvB,GAAIA,EAAU1R,SAAU,CACtB,MAAMA,EAAWiR,GAAOxQ,SAAST,UAAY,IAAIkQ,EACjD,IAAK,MAAM0B,KAAQF,EAAU1R,SAAU,CACrC,MAAM6R,EAAe7R,EAAS4R,GAC9B5R,EAAS4R,GAAQ,IAAIE,KACnB,IAAIC,EAAML,EAAU1R,SAAS4R,GAAMI,MAAMhS,EAAU8R,GAInD,OAHY,IAARC,IACFA,EAAMF,EAAaG,MAAMhS,EAAU8R,IAE9BC,GAGXJ,EAAK3R,SAAWA,EAElB,GAAI0R,EAAUpR,UAAW,CACvB,MAAMA,EAAY2Q,GAAOxQ,SAASH,WAAa,IAAIsN,EACnD,IAAK,MAAMgE,KAAQF,EAAUpR,UAAW,CACtC,MAAM2R,EAAgB3R,EAAUsR,GAChCtR,EAAUsR,GAAQ,IAAIE,KACpB,IAAIC,EAAML,EAAUpR,UAAUsR,GAAMI,MAAM1R,EAAWwR,GAIrD,OAHY,IAARC,IACFA,EAAME,EAAcD,MAAM1R,EAAWwR,IAEhCC,GAGXJ,EAAKrR,UAAYA,EAEnB,GAAIoR,EAAUnR,WAAY,CACxB,MAAMA,EAAa0Q,GAAOxQ,SAASF,WACnCoR,EAAKpR,WAAc0N,IACjByD,EAAUnR,WAAW0N,GACjB1N,GACFA,EAAW0N,IAIjBgD,GAAOO,WAAWG,IAOpBV,GAAO1Q,WAAa,SAAS0G,EAAQiK,GACnC,IAAK,MAAMjD,KAAShH,EAElB,OADAiK,EAASjD,GACDA,EAAMxH,MACZ,IAAK,QACH,IAAK,MAAMgK,KAAQxC,EAAMhH,OAAOqB,OAC9B2I,GAAO1Q,WAAWkQ,EAAMS,GAE1B,IAAK,MAAM3C,KAAON,EAAMhH,OAAOhC,MAC7B,IAAK,MAAMwL,KAAQlC,EACjB0C,GAAO1Q,WAAWkQ,EAAMS,GAG5B,MAEF,IAAK,OACHD,GAAO1Q,WAAW0N,EAAMjF,MAAOkI,GAC/B,MAEF,QACMjD,EAAMhH,QACRgK,GAAO1Q,WAAW0N,EAAMhH,OAAQiK,KAU1CD,GAAOV,YAAc,SAAS1J,EAAKpD,GAEjC,GAAI,MAAOoD,EACT,MAAM,IAAIuH,MAAM,8DAElB,GAAmB,iBAARvH,EACT,MAAM,IAAIuH,MAAM,oDACZ1J,OAAOC,UAAU6I,SAAS3I,KAAKgC,GAAO,qBAG5CpD,EAAMc,EAAM,GAAI0M,GAAOxQ,SAAUgD,GAAO,IACxCmC,EAAyBnC,GAEzB,IACE,MAAMwD,EAASyG,EAAMwE,UAAUrL,EAAKpD,GAIpC,OAHIA,EAAIlD,YACN0Q,GAAO1Q,WAAW0G,EAAQxD,EAAIlD,YAEzB0P,EAAOM,YAAYtJ,EAAQxD,GAClC,MAAOU,GAEP,GADAA,EAAEoN,SAAW,8DACT9N,EAAItD,OACN,MAAO,iCACHkD,EAAOc,EAAEoN,QAAU,IAAI,GACvB,SAEN,MAAMpN,IAQV8M,GAAOhB,OAASA,EAChBgB,GAAOkB,OAASlC,EAAOK,MAEvBW,GAAOf,SAAWA,EAClBe,GAAOb,aAAeA,EAEtBa,GAAOvD,MAAQA,EACfuD,GAAOmB,MAAQ1E,EAAMG,IAErBoD,GAAOrD,UAAYA,EAEnBqD,GAAOZ,QAAUA,EAEjBY,GAAOX,MAAQW,GAEf,IAAAoB,GAAiBpB,GC1QbqB,GAAMC,QAAU,GAChBC,GAAMC,WAAa,GACvB,SAASC,GAAOC,GACd,IAAIC,EAAID,GAAaH,GAAIG,UAGrBzN,EAAQ,CAEV2N,QAASD,EAAE/P,QAAQ,YAAc,GAAK+P,EAAE/P,QAAQ,YAAc,EAC9DiQ,OAAQF,EAAE/P,QAAQ,WAAa,EAC/BkQ,OAAQH,EAAE/P,QAAQ,gBAAkB,EACpCmQ,MAAOJ,EAAE/P,QAAQ,WAAa,EAE9BoQ,OAAQL,EAAE/P,QAAQ,WAAa,EAC/BqQ,OAAQN,EAAE/P,QAAQ,WAAa,GAAK+P,EAAE/P,QAAQ,UAAY,EAC1DsQ,GAAIP,EAAE/P,QAAQ,SAAW,GAAK+P,EAAE/P,QAAQ,YAAc,EACtDuQ,KAAMR,EAAE/P,QAAQ,SAAW,EAC3BwQ,QAAST,EAAE/P,QAAQ,YAAc,GAAK+P,EAAE/P,QAAQ,UAAY,EAC5DyQ,gBAAiBV,EAAE/P,QAAQ,UAAY,EACvC0Q,SAAUX,EAAE/P,QAAQ,aAAe,EACnC2Q,MAAOZ,EAAE/P,QAAQ,UAAY,GAAK+P,EAAE/P,QAAQ,QAAU,EACtD4Q,QAASb,EAAE/P,QAAQ,YAAc,EACjC6Q,OAAQd,EAAE/P,QAAQ,cAAgB,EAClC8Q,OAAQf,EAAE/P,QAAQ,WAAa,GAAK+P,EAAE/P,QAAQ,UAAY,EAC1D+Q,IAAOhB,EAAE/P,QAAQ,UAAY,GAAK+P,EAAE/P,QAAQ,UAAY,EACxDgR,GAAIjB,EAAE/P,QAAQ,OAAS,GAAK+P,EAAE/P,QAAQ,cAAgB,EACtDiR,UAAWlB,EAAE/P,QAAQ,cAAgB,EACrCkR,GAAInB,EAAE/P,QAAQ,QAAU,EACxBmR,MAAOpB,EAAE/P,QAAQ,UAAY,GAAK+P,EAAE/P,QAAQ,gBAAkB,EAC9DoR,QAASrB,EAAE/P,QAAQ,YAAc,EACjCqR,MAAOtB,EAAE/P,QAAQ,WAAa,GAAK+P,EAAE/P,QAAQ,UAAY,EACzDsR,UAAWvB,EAAE/P,QAAQ,cAAgB,EACrCuR,eAAgBxB,EAAE/P,QAAQ,iBAAmB,EAC7CwR,SAAUzB,EAAE/P,QAAQ,aAAe,EACnCyR,OAAQ1B,EAAE/P,QAAQ,gBAAkB,EACpC0R,MAAO3B,EAAE/P,QAAQ,UAAY,EAC7B2R,KAAM5B,EAAE/P,QAAQ,SAAW,EAC3B4R,OAAQ7B,EAAE/P,QAAQ,mBAAqB,EACvC6R,OAAQ9B,EAAE/P,QAAQ,cAAgB,EAClC8R,OAAQ/B,EAAE/P,QAAQ,cAAgB,EAClC+R,MAAOhC,EAAE/P,QAAQ,UAAY,EAC7BgS,OAAQjC,EAAE/P,QAAQ,qBAAuB,EACzCiS,OAAQlC,EAAE/P,QAAQ,eAAiB,EACnCkS,MAAOnC,EAAE/P,QAAQ,aAAe,EAEhCmS,QAASpC,EAAE/P,QAAQ,YAAc,EACjCoS,MAAOrC,EAAE/P,QAAQ,UAAY,GAAK+P,EAAE/P,QAAQ,QAAU,EACtDqS,SAAUtC,EAAE/P,QAAQ,cAAgB,EACpCsS,QAASvC,EAAE/P,QAAQ,YAAc,GAAK+P,EAAE/P,QAAQ,QAAU,EAC1DuS,OAAQxC,EAAE/P,QAAQ,WAAa,EAC/BwS,QAASzC,EAAE/P,QAAQ,YAAc,EACjCyS,OAAQ1C,EAAE/P,QAAQ,WAAa,EAC/B0S,gBAAiB3C,EAAE/P,QAAQ,aAAe,GAAK+P,EAAE/P,QAAQ,kBAAoB,EAC7E2S,WAAY5C,EAAE/P,QAAQ,eAAiB,GAAK+P,EAAE/P,QAAQ,QAAU,EAChE4S,MAAO7C,EAAE/P,QAAQ,UAAY,EAC7B6S,QAAS9C,EAAE/P,QAAQ,YAAc,EACjC8S,IAAK/C,EAAE/P,QAAQ,kBAAoB,EACnC+S,YAAahD,EAAE/P,QAAQ,SAAW,EAClCgT,MAAOjD,EAAE/P,QAAQ,UAAY,EAE7BiT,OAAQlD,EAAE/P,QAAQ,SAAW,GAAK+P,EAAE/P,QAAQ,QAAU,GAAK+P,EAAE/P,QAAQ,QAAU,EAC/EkT,OAAQnD,EAAE/P,QAAQ,WAAa,GAAK+P,EAAE/P,QAAQ,QAAU,GAAK+P,EAAE/P,QAAQ,YAAc,GAGnFqC,EAAK,OACPA,EAAK,SAAe0N,EAAE/P,QAAQ,SAAW,GAChCyP,GAAI0D,iBAAmB1D,GAAI2D,SACpC/Q,EAAM,MAAS,GAGjB,IAwDMgR,EAxDFxX,EAAO,CACTyX,OAAQ,CAAC,SAAU,UAAW,QAAS,UACvCC,QAAS,CACP,SACA,SACA,OACA,KACA,UACA,gBACA,WACA,QACA,UACA,SACA,SACA,MACA,KACA,YACA,KACA,QACA,UACA,QACA,YACA,eACA,WACA,SACA,QACA,OACA,SACA,SACA,SACA,QACA,SACA,SACA,SAEFC,GAAI,CACF,UACA,QACA,SACA,UACA,SACA,UACA,SACA,MACA,gBACA,aACA,QACA,UACA,YACA,SAEFC,OAAQ,CAAC,SAAU,WAWrB,IAAK,IAAIna,KAhIGkD,KAuHNiX,OAAS,KAvHHjX,KAwHNkX,WAEAL,GADI1D,GAAIgE,iBAAmBhE,GAAI+D,UACvBjR,MAAM,MACV,KACN4Q,EAAI,GAAKA,EAAI,GAAGO,eAEXP,EAAIpO,KAAK,MAEJpJ,EACZ,IAAK,IAAI3B,EAAI,EAAGA,EAAI2B,EAAKvC,GAAGiB,OAAQL,IAAK,CACnC0S,IAAAA,EAAQ/Q,EAAKvC,GAAGY,GAChBmI,EAAMuK,KAnIFpQ,KAoIAlD,GAAKsT,GAKjB,IAAIiH,EAAY,CACd1B,QAAS,WACH2B,IAAAA,EAAI/D,EAAElR,QAAQ,6BAA8B,MAWhD,MAVW,CACTkV,IAAO,KACPC,IAAO,MACPC,IAAO,IACPC,IAAO,IACPC,MAAO,QACPC,IAAO,KACPC,IAAO,KACAC,MAAA,QAEGR,IAAMA,GAEpBxB,QAAS,WACP,OAAOvC,EAAElR,QAAQ,0BAA2B,OAE9CiU,IAAK,WACH,OAAO/C,EAAElR,QAAQ,yBAA0B,MAAMA,QAAQ,KAAM,MAEjE4T,OAAQ,WACN,OAAO1C,EAAElR,QAAQ,yBAA0B,OAE7C6T,gBAAiB,WACf,OAAO3C,EAAElR,QAAQ,sCAAuC,OAE1DwT,SAAU,WACR,OAAOtC,EAAElR,QAAQ,0BAA2B,MAAMA,QAAQ,KAAM,MAElEmU,MAAO,WACL,OAAOjD,EAAElR,QAAQ,yBAA0B,QAxKnCrC,KA2KNqX,UAAY,GACdA,EA5KQrX,KA4KQgX,MA5KRhX,KA6KJqX,UAAYA,EA7KRrX,KA6KwBgX,MA7KxBhX,KA8KAqX,WAAa9D,IA9KbvT,KA+KFqX,UAAY,KAItB,IAAIU,EAAU,CACZnE,OAAQ,WACN,OAAOL,EAAElR,QAAQ,0BAA2B,OAE9CwR,OAAQ,WACN,OAAON,EAAElR,QAAQ,yBAA0B,MAAMA,QAAQ,wBAAyB,OAEpFyR,GAAI,WACF,OAAOP,EAAElR,QAAQ,sBAAuB,MAAMA,QAAQ,oBAAqB,OAE7E0R,KAAM,WACJ,OAAOR,EAAElR,QAAQ,uBAAwB,OAE3C2R,QAAS,WACP,OAAOT,EAAElR,QAAQ,0BAA2B,MAAMA,QAAQ,wBAAyB,OAErF4R,gBAAiB,WACf,OAAOV,EAAElR,QAAQ,wBAAyB,OAE5C6R,SAAU,WACR,OAAOX,EAAElR,QAAQ,2BAA4B,OAE/C8R,MAAO,WACL,OAAOZ,EAAElR,QAAQ,wBAAyB,MAAMA,QAAQ,sBAAuB,OAEjF+R,QAAS,WACP,OAAOb,EAAElR,QAAQ,0BAA2B,OAE9CgS,OAAQ,WACN,OAAOd,EAAElR,QAAQ,4BAA6B,OAEhDiS,OAAQ,WACN,OAAOf,EAAElR,QAAQ,0BAA2B,OAE9CuS,QAAS,WACP,OAAOrB,EAAElR,QAAQ,0BAA2B,OAE9CoS,UAAW,WACT,OAAOlB,EAAElR,QAAQ,4BAA6B,OAEhDqS,GAAI,WACF,OAAOnB,EAAElR,QAAQ,qBAAsB,OAEzCsS,MAAO,WACL,OAAOpB,EAAElR,QAAQ,kCAAmC,OAEtDmS,GAAI,WACF,OAAOjB,EAAElR,QAAQ,6BAA8B,OAEjDwS,MAAO,WACL,OAAOtB,EAAElR,QAAQ,qBAAsB,MAAMA,QAAQ,qCAAsC,OAE7F0S,eAAgB,WACd,OAAOxB,EAAElR,QAAQ,+BAAgC,OAEnD2S,SAAU,WACR,OAAOzB,EAAElR,QAAQ,0BAA2B,OAE9C4S,OAAQ,WACN,OAAO1B,EAAElR,QAAQ,8BAA+B,OAElD6S,MAAO,WACL,OAAO3B,EAAElR,QAAQ,wBAAyB,OAE5C8S,KAAM,WACJ,OAAO5B,EAAElR,QAAQ,uBAAwB,OAE3C+S,OAAQ,WACN,OAAO7B,EAAElR,QAAQ,iCAAkC,OAErDgT,OAAQ,WACN,OAAO9B,EAAElR,QAAQ,6BAA8B,OAEjDiT,OAAQ,WACN,OAAO/B,EAAElR,QAAQ,6BAA8B,OAEjDkT,MAAO,WACL,OAAOhC,EAAElR,QAAQ,wBAAyB,OAE5CmT,OAAQ,WACN,OAAOjC,EAAElR,QAAQ,mCAAoC,OAEvDoT,OAAQ,WACN,OAAOlC,EAAElR,QAAQ,2BAA4B,OAE/CqT,MAAO,WACL,OAAOnC,EAAElR,QAAQ,+BAAgC,QAzQzCrC,KA4QN+X,QAAU,GACZA,EA7QQ/X,KA6QM+W,WA7QN/W,KA8QJ+X,QAAUA,EA9QN/X,KA8QoB+W,WA9QpB/W,KA+QA+X,SAAWxE,IA/QXvT,KAgRF+X,QAAU,KAIC,QApRT/X,KAoRF+W,QApRE/W,KAqRJ8W,OAAS,WACW,UAtRhB9W,KAsRK+W,SAAuBtU,SAtR5BzC,KAsR2C+X,SAAW,IAEtC,SAxRhB/X,KAwRK+W,SAAsBtU,SAxR3BzC,KAwR0C+X,SAAW,IAErC,UA1RhB/X,KA0RK+W,QA1RL/W,KAuRJ8W,OAAS,QAKWvY,MA5RhByB,KA4RK+W,UA5RL/W,KA6RJ+W,QAAU,eCjSpB,SAAqBiB,EAAKC,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAKF,GAA2B,oBAAbG,SAAnB,CAEA,IAAIC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,QAAQ,GAC9DC,EAAQH,SAASI,cAAc,SACnCD,EAAMlR,KAAO,WAEI,QAAb8Q,GACEE,EAAKI,WACPJ,EAAKK,aAAaH,EAAOF,EAAKI,YAKhCJ,EAAKM,YAAYJ,GAGfA,EAAMK,WACRL,EAAMK,WAAWC,QAAUZ,EAE3BM,EAAMI,YAAYP,SAASU,eAAeb,4+bCvBxCc,GAMGrV,SAAAA,GACL,OAASA,EACLA,EACGpB,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,MAAO,SACfA,QAAQ,MAAO,UAClB,IA2BF0W,GAAU,SAAAC,GACV,IACF,IAAMC,EAAUD,EAAKE,UAEfC,GADW,IAAIC,MAAOF,UACCD,EAEvBI,EAAOpL,KAAKqL,MAAMH,EAAa,OACjCE,GAAS,IAATA,EAAY,CAERE,IAAAA,EAASJ,EAAS,MAClBK,EAAQvL,KAAKqL,MAAMC,EAAM,MAC3BC,GAAU,IAAVA,EAAa,CAETC,IAAAA,EAASF,OACTG,EAAUzL,KAAKqL,MAAMG,EAAM,KAC7BC,GAAY,IAAZA,EAAe,CAEXC,IAAAA,EAASF,MAERG,OADS3L,KAAK4L,MAAMF,EAAS,KACnB,MAEZD,OAAAA,EAAU,OAEZF,OAAAA,EAAQ,OAEjB,OAAIH,EAAO,EAAU,KAEjBA,EAAO,EACFA,EAAO,MAnCD,SAAAL,GACXc,IAAAA,EAAOC,GAAaf,EAAKgB,UAAW,GACpCC,EAASF,GAAaf,EAAKkB,WAAa,EAAG,GAEjD,OADcH,GAAaf,EAAKmB,cAAe,GAC/C,IAAmBF,EAAnB,IAA6BH,EAiClBM,CAAWpB,GAEpB,MAAOlK,GACPtI,QAAQ6T,IAAIvL,KAIViL,GAAe,SAACO,EAASC,GAE7B,IADA,IAAIC,EAAcF,EAAQnM,WACnBqM,EAAYzc,OAASwc,GAC1BC,EAAc,IAAMA,EAEtB,OAAOA,GAGHC,YACDrT,EAAMsT,EAAIC,EAASC,GAChBF,EAAGG,iBAAkBH,EAAGG,iBAAiBzT,EAAMuT,EAASC,IAAW,GAC9DF,EAAGI,YAAaJ,EAAGI,iBAAiB1T,EAAQuT,GAChDD,EAAE,KAAMtT,GAAUuT,GAJrBF,YAMArT,EAAMsT,EAAIC,EAASC,GACjBF,EAAGK,oBAAqBL,EAAGK,oBAAoB3T,EAAMuT,EAASC,IAAW,GACpEF,EAAGM,YAAaN,EAAGM,iBAAiB5T,EAAQuT,GAChDD,EAAE,KAAMtT,GAAU,MAQrB6T,GACCC,SAAAA,GACI,MAAA,CACLhc,EAAG,iCAAiCmE,KAAK6X,GACzC5D,EAAG4D,IAJHD,GAOCtX,SAAAA,GAEI,OADPA,EAAIA,EAAE5F,OAAS,IAAM,gBAAgBsF,KAAKM,GAAKA,EAA1B,UAAwCA,GACtD,CACLzE,EAAG,4FAA4FmE,KAAKM,GACpG2T,EAAG3T,ICpGHwX,GAAW,CACfC,IAAK,oCACLC,GAAI,CAAC,KAAM,YAAa,YAAa,UAAW,QAAS,IACzDC,OAAQ,QACRC,MAAM,GAEFC,GAAiB,CACrBC,QAAS,GACTC,IAAK,GACLC,KAAM,QACNC,KAAM,GACN3U,KAAM,GACN4U,GAAIzI,UAAUE,UACd9G,IAAK,GACLsP,IAAK,EACLC,KAAM,GAEFC,GAAa,CAAC,OAAQ,OAAQ,QAC9BC,GAAQC,aAERC,GAAa,CACjBC,KADiB,gNAEjBC,KAAE,8MAEEC,GAAO,IAAI5X,OAAO,cAAgByX,GAAWC,GAAK,YAClDG,GAAO,IAAI7X,OAAO,cAAgByX,GAAWE,GAAK,YACpDG,GAAS,UACkBje,MAA3B2U,OAAOuJ,kBAAiCvJ,OAAOuJ,kBAAoB,OACrED,GAAS,kBAIT,SAAAE,EAAYC,GACLhd,KAAAA,IAAMA,EACNoY,KAAAA,gBAEL,IAAM6E,EAAKD,EAAOC,IAAMC,GAClBC,EAAQH,EAAOI,QAAUJ,EAAOG,MAChCE,EAASL,EAAOM,SAAWN,EAAOK,OAClCE,EAAaP,EAAOO,YAAc,+BAEnCJ,GAAUE,GACbhd,KAAA,MAAW,6BAGb4c,EAAGO,KAAK,CAAEL,MAAAA,EAAOE,OAAAA,EAAQE,WAAAA,IACpB5F,KAAAA,EAAIsF,EAETpB,GAAehP,KAAOmQ,EAAOS,MAAQC,SAASC,UAAUjb,QAAQ,oBAAqB,IAErFrC,KAAKud,SAAWZ,EAAOY,UAAY,GACnCvd,KAAKwd,KAAO,EAEPC,KAAAA,YAEHd,GAAU3c,KAAKmd,KAAKR,4BAGxBe,EAAA,MAAA,SAAMC,GACJ,MAAM,IAAI5O,MAAiB4O,WAAAA,MAG7BR,KAAA,SAAKR,GAAQ,IAAAiB,EAAA5d,KACP,IAEE0a,IAAAA,EAC8B,4BAAhC,GAAGvM,SAAS3I,KAAKmX,EAAOjC,IAAoCiC,EAAOjC,GAAKvC,SAAS0F,iBAAiBlB,EAAOjC,IAAI,GACnF,2BAAxB,GAAGvM,SAAS3I,KAAKkV,IACnB1a,KAAA,MAAA,qCAEG0a,KAAAA,GAAKA,EACLA,KAAAA,GAAGoD,UAAUC,IAAI,UAGtB,IACMC,GADarB,EAAOsB,YAAcjC,IACb5T,KAAI,SAAAY,GAC7B,OAAQA,GACN,IAAK,OACH,MAAO,wEACT,IAAK,OACH,MAAO,kFACT,IAAK,OACH,MAAO,mFACT,QACE,MAAO,OAKTkV,EAAcvB,EAAOuB,aAAe,GACpCC,EAAO,yJAGsBH,EAAQjgB,OAAaigB,KAAAA,EAAQvV,KAAK,IAHxD,sGAK6CyV,EALxD,8xBA2BAle,KAAK0a,GAAG0D,UAAYD,EAGhBE,IAAAA,EAASre,KAAK0a,GAAG4D,cAAc,WAC7BC,EAAS,CACbC,KAAKC,SAAAA,QAAwB,IAAxBA,IAAAA,EAAM,kBACTJ,EAAOD,UAAYK,EACnBJ,EAAOP,UAAUY,OAAO,OAE1BnD,KAAO,WACL8C,EAAOP,UAAUC,IAAI,QAMrBY,EAAW3e,KAAK0a,GAAG4D,cAAc,aACrCK,EAASP,UAFT,4IAIKQ,KAAAA,QAAU,GACf5e,KAAK4e,QAAQJ,KAAO,WAClBG,EAASb,UAAUY,OAAO,MAC1BH,EAAOhD,QAETvb,KAAK4e,QAAQrD,KAAO,WAClBoD,EAASb,UAAUC,IAAI,MACkB,IAAzCrD,EAAGmD,iBAAiB,UAAU9f,QAAgBwgB,EAAOC,QAGvDrD,GAAQ,OAAa,OAASA,GAAQ,GAAO3X,QAAQmZ,EAAOkC,SAAW,EAAIlC,EAAOkC,OAAS,MAC3F1D,GAAQ,KAA6B,SAAlBwB,EAAOkC,OAC1B,MAAOC,GACHC,IAAAA,EAAQ,yCAaZ,YAZI/e,KAAK0a,GACP6D,OAAOC,KAAP,2CAC6CM,EAD7C,iBACgE9e,KAAK+X,QAAqBgH,cAAAA,YAG1FvY,SACEA,QAAQ6T,IACDyE,KAAAA,iBAAiB9e,KAAK+X,QAAWgH,IAAAA,EACtC,aACA,2DACA,6DAKJC,IAAAA,EAAQhf,KAAK0a,GAAG4D,cAAc,UAE7BW,KAAAA,MAAQ,GACbjf,KAAKif,MAAMT,KAAO,SAAAU,GAChBF,EAAMZ,UAAiEc,qDAAAA,EAAE/X,KAAzE,wCACA,IAAIgY,EAASH,EAAMV,cAAc,UAC7Bc,mCAAyCF,GAAKA,EAAEG,MAAS,QAA7D,YACIC,iCAAuCJ,GAAKA,EAAEK,MAAS,QAA3D,YAMA,GALAJ,EAAOf,UAAegB,GAAAA,GAAQF,EAAE9X,MAAQkY,GACxCN,EAAMV,cAAc,YAAYzD,iBAAiB,SAAS,SAAA/V,GACxD8Y,EAAKqB,MAAM1D,UAEbyD,EAAMlB,UAAUY,OAAO,MACnBQ,GAAKA,EAAE9X,KAAM,CACf,IAAIoY,EAAMR,EAAMV,cAAc,UAC9B7D,GAAS,QAAS+E,GAAK,SAAA1a,GACrB8Y,EAAKqB,MAAM1D,OACX2D,EAAEO,IAAMP,EAAEO,UAIhBzf,KAAKif,MAAM1D,KAAO,WAChByD,EAAMlB,UAAUC,IAAI,OAIjB2B,KAAAA,KAAK/C,MAGZgD,YAAA,SAAYnT,GACNoT,IAAAA,EAAQ,IAAI5f,KAAKsX,EAAEuI,MAAM,WAE7B,OADAD,EAAME,QAAQ,MAAOtT,GAAOgP,GAAc,KAASuE,WAAW,aACvDH,GAGTnC,EAAAA,UAAA,WAAY,IAAAuC,EACJC,EAAS9H,SAAS0F,iBAAiB,yBACzC,IAAKoC,EAAOliB,OAAQ,OAAO,EAK3B,IAHMmiB,IAAAA,EAAO,GACPC,EAAS,GAENziB,EAAI,EAAGA,EAAIuiB,EAAOliB,OAAQL,IAAK,CACtC,IACM8O,EADKyT,EAAOviB,GACH0iB,aAAa,YAAY/d,QAAQ,oBAAqB,IAErE8d,EAAOziB,GAAK8O,EACZ0T,EAAKxiB,GAAKsC,KAAK2f,YAAYnT,IAGlBwT,EAAAhgB,KAAKsX,EAAEuI,OAAMQ,GAAMH,MAAAA,EAAAA,GAC3BI,OAAO,OACPC,MAAM,KACNC,OACAC,MAAK,SAAAC,GAAG,OAAIP,EAAO/X,KAAI,SAACtD,EAAGpH,GAAJ,OAAWuiB,EAAOviB,GAAGijB,UAAYD,EAAIE,QAAO,SAAArkB,GAAC,OAAIuI,IAAMvI,EAAEskB,IAAI,UAAQ9iB,mBACtFiC,KAJT,UASF0f,KAAA,SAAK/C,GAAQ,IAAAmE,EAAA9gB,KACPie,GAActB,EAAOsB,YAAcjC,IAAY4E,QAAO,SAAA5X,GAAI,OAAIgT,GAAWxY,QAAQwF,IAAS,KAW1F+X,EAAY,SAACrO,EAAKsO,GACpB,IAAIC,EAAS9I,SAASI,cAAc,MACpC0I,EAAOC,aAAa,QAAS,SAC7BD,EAAOC,aAAa,KAAMxO,EAAIyO,IAC1BC,ID5JMjc,EC4JNic,EHsCD,IAAI/N,GGtCUX,EAAImO,IAAI,OACrBQ,EAAOlG,GAAQ,KACf,GADO,4BAEmBA,GAASC,IAAMzb,EAAI+S,EAAImO,IAAI,SAAWnO,EAAImO,IAAI,SAAW1F,GAASG,QAFhG,KAGA2F,EAAO7C,UAAeiD,EAAtB,wDDhKUlc,ECgK+E,CACvF8B,KAAMyL,EAAImO,IAAI,QACdjF,KAAMlJ,EAAImO,IAAI,UDjKb/H,GAAgB3T,EAAO8B,OAAU9B,EAAOyW,MAAkBzW,UAAAA,EAAOyW,MAAW,uBC+J/E,uBAGwB9C,GAAgBpG,EAAImO,IAAI,SAHhD,kCAIqBO,EAAIpK,GAJzB,IAI+BoK,EAAI/J,UAJnC,qCAKqB+J,EAAIrK,QALzB,IAKoCqK,EAAIrJ,QACVrF,8CAAAA,EAAImO,IAAI,WANtC,kDAMkG9H,GAChGrG,EAAImO,IAAI,cACYnO,qBAAAA,EAAIyO,GAAYzO,UAAAA,EAAImO,IAAI,QAR9C,WAQgEnO,EAAImO,IAClE,QATF,0CAgBA,IAJIS,IAAAA,EAASR,EAAKpG,GAAG4D,cAAc,UAC/BiD,EAAQD,EAAOzD,iBAAiB,MAChC2D,EAAOP,EAAO3C,cAAc,QAC5BmD,EAAMR,EAAOpD,iBAAiB,KACzBngB,EAAI,EAAGD,EAAMgkB,EAAI1jB,OAAQL,EAAID,EAAKC,IAAK,CAC9C,IAAIsL,EAAOyY,EAAI/jB,GACXsL,GAAsC,MAA9BA,EAAKoX,aAAa,WAC5BpX,EAAKkY,aAAa,SAAU,UAC5BlY,EAAKkY,aAAa,MAAO,aAGzBF,EAAIM,EAAO5I,YAAYuI,GACtBK,EAAO7I,aAAawI,EAAQM,EAAM,IACvC,IA1Cc7G,EA0CVgH,EAAYT,EAAO3C,cAAc,cA1CvB5D,EA2CJgH,GA1CHC,aAAe,MACpBjH,EAAGoD,UAAUC,IAAI,UACjBtD,GAAS,QAASC,GAAI,SAAA5V,GACpB4V,EAAGwG,aAAa,QAAS,gBAwC7BU,EAAUJ,KA+DA,SAAR5B,IACFkB,EAAKlC,QAAQJ,OA5DE,WACXqD,IACAC,EADAD,EAAUf,EAAKpG,GAAG4D,cAAc,gBAElCyD,EAAM,GACJC,EAAW7J,SAAS8J,yBAClBC,EAAK,KACX7c,OAAO+J,KAAK+M,IAAYgG,SAAQ,SAAC3lB,EAAGkB,IAClCokB,EAAM3J,SAASI,cAAc,OACzB2I,aAAa,QAAS,sCAAwC1kB,GAAK0lB,EAAK,qBAAuB,KACnGJ,EAAIZ,aAAa,UAAWxjB,GAC5Bye,GAAW3f,GAAGyJ,MAAM,KAAKkc,SAAQ,SAAArd,GAC/Bgd,EAAI1D,WAA+CtZ,kCAAAA,oBAChDtI,GAAK0lB,EAAK,IAAM,KAAWpd,IAAAA,EADqBA,4BAEzBtI,GAAK0lB,EAAK,YAAc,OAFlD,YAEmEpd,EACjEtI,iCAAAA,GAAK0lB,EAAK,YAAc,OACtBpd,KAAAA,EAAI0X,IAJR,iBAMFuF,GAAG,2BAA8BvlB,GAAK0lB,EAAK,wBAA0B,IAAlE,cAAkFxkB,EAAlF,WAA8FlB,EAAjG,eACAwlB,EAAStJ,YAAYoJ,MAEvB,IAAIM,EAAOjK,SAASI,cAAc,OAClC6J,EAAKlB,aAAa,QAAS,cAC3BkB,EAAKhE,UAAL,+BAAgD2D,EAAhD,QACAC,EAAStJ,YAAY0J,GACrBP,EAAQnJ,YAAYsJ,GAEpB,IAAIK,EAASlK,SAASmG,cAAc,WAChCgE,EAAMnK,SAASmG,cAAc,YAEjC7D,GAAS,QAAS4H,GAAQ,SAAAvd,GAEL,gBADnBA,EAAIA,EAAEK,QACAod,WACJD,EAAIlS,OAAJ,IAAiBtL,EAAEsb,aAAa,cAAhC,IACA5E,GAAeC,QAAU7J,GAAO0Q,EAAIlS,MAAO,CACzCxP,UAAU,EACVT,QAAQ,IAEVkiB,EAAOvE,UAAUY,OAAO,gBACf5Z,EAAEgZ,UAAU0E,SAAS,eAC9BH,EAAOvE,UAAU2E,OAAO,eACf3d,EAAEgZ,UAAU0E,SAAS,iBACzB1d,EAAEgZ,UAAU0E,SAAS,2BACxBrK,SAAS0F,iBAAiB,gBAAgBsE,SAAQ,SAAArd,GAAC,OAAIA,EAAEgZ,UAAUY,OAAO,4BAC1EvG,SAAS0F,iBAAiB,iBAAiBsE,SAAQ,SAAArd,GAAC,OAAIA,EAAEgZ,UAAUY,OAAO,wBAC3EvG,SAAS0F,iBAAiB,iBAAiB/Y,EAAEsb,aAAa,YAAYtC,UAAUC,IAAI,qBACpFjZ,EAAEgZ,UAAUC,IAAI,8BAKtBtD,GAAS,UAAWtC,UAAU,SAAArT,GAC5BA,EAAIA,EAAEK,OACN,IAAIud,EAAOvK,SAASmG,cAAc,YAC7BoE,IAAS5d,GAAM4d,EAAKF,SAAS1d,IAChCud,EAAOvE,UAAUY,OAAO,kBAO5BiE,GACA,IAAIC,EAAK9B,EAAKnB,cACdiD,EAAGrC,MAAMO,EAAKvD,UACXsF,KAAK/B,EAAKtD,KAAOsD,EAAKvD,UACtBiD,OACAC,MAAK,SAAAqC,GACJ,IAAIrlB,EAAMqlB,EAAK/kB,OACf,GAAIN,EAAK,CACPqjB,EAAKpG,GAAG4D,cAAc,UAAUF,UAAY,GACvC,IAAA,IAAI1gB,EAAI,EAAGA,EAAID,EAAKC,IACvBqjB,EAAU+B,EAAKplB,IAAI,GAEjBqlB,IAAAA,EAASjC,EAAKpG,GAAG4D,cAAc,QAC9ByE,EA+BHC,EAAWD,EAAOpC,WA9BlBiC,EAAGjd,QAAQ8a,MAAK,SAAAhjB,GACRwlB,IAAAA,EAAahV,KAAKiV,KAAKzlB,EAAMqjB,EAAKvD,UACxCuD,EAAKpG,GAAG4D,cAAc,UAAUF,UAAhC,wBAAoE3gB,EAApE,WAIK,IAFL,IAAM0lB,EAAW,SAACC,EAAQC,GAA0BD,MAAAA,gBAAAA,oBAAwBC,EAA3D,WACbC,EAAWH,EAAS,UAAW,QAC1BlX,EAAQ,EAAGA,GAASgX,EAAYhX,IACvCqX,GAAYH,EAAQ,YAAqB,GAATlX,EAAa,UAAY,IAAMA,GAEjEqX,GAAYH,EAAS,UAAW,QAChCrC,EAAKpG,GAAG4D,cAAc,UAAUF,UAAYkF,EAE5CN,EAAWvlB,GAEXgd,GAAS,QAASqG,EAAKpG,GAAG4D,cAAc,WAAW,SAAAxZ,GACjD,IAAMye,EAAM,SAAAjM,GAAC,OAAIxS,EAAEK,OAAOod,UAAUtc,MAAM,KAAKoJ,SAASiI,IACpDiM,EAAI,YAAcA,EAAI,WAGtBA,EAAI,WACNzC,EAAKtD,KAAOgG,OAAO1e,EAAEK,OAAOwb,WAAa,EAChC4C,EAAI,QACbzC,EAAKtD,OACI+F,EAAI,SACbzC,EAAKtD,OAEPoC,WAORkB,EAAKlC,QAAQrD,UA7CjB,OA+CS,SAAAuD,GACLgC,EAAKlC,QAAQrD,OACbuF,EAAA,MAAWhC,MAGjBc,GAuBA,IArBA,IAAIoD,EAAa,SAAAD,GAAU,IAAAU,EACrB3C,EAAKpG,GAAG4D,cAAc,4BACxBwC,EAAKpG,GAAG4D,cAAc,2BAA2BR,UAAUY,OAAO,WAEpEoC,EAAKpG,GAAGmD,iBAAiB,mBAAmBiD,EAAKtD,MAAMM,UAAUC,IAAI,WAErE,IAAM2F,IAAQD,EAAA,CACTE,EAAA,UACF1V,KAAKiV,KAAKH,EAASjC,EAAKvD,SAAU,IAAM,GAAI,QAF/CkG,GAKApe,OAAOue,OAAOF,GAAUtb,KAAI,SAAAtD,GAAC,OAAIgc,EAAKpG,GAAG4D,cAAR,UAAgCxZ,GAAKgZ,UAAUY,OAAO,SACnFgF,EAAS5C,EAAKtD,OAChBsD,EAAKpG,GAAG4D,wBAAwBoF,EAAS5C,EAAKtD,OAASM,UAAUC,IAAI,OAKrE8F,EAAU,CACZC,QAAS,WAEFpmB,EAAI,EAAGK,EAASkgB,EAAWlgB,OAAQL,EAAIK,EAAQL,IACtDmmB,EAAY5F,IAAAA,EAAWvgB,IAAQugB,EAAWvgB,GAGxCqmB,IAAAA,EAAS,GACb,IAAK,IAAIrmB,KAAKmmB,EACRA,EAAQte,eAAe7H,IAAI,WAC7B,IAAIsmB,EAAKH,EAAQnmB,GACb4kB,EAAMxB,EAAKpG,GAAG4D,cAAkB5gB,IAAAA,GACpCqmB,EAAOC,GAAM1B,EACb7H,GAAS,QAAS6H,GAAK,SAAAxd,GACrB0W,GAAewI,GACN,YAAPA,EACIpS,GAAO0Q,EAAIlS,MAAO,CAChBxP,UAAU,EACVT,QAAQ,IAEV2Y,GAAgBwJ,EAAIlS,UAXC,GAiBjC,IAAI6T,EAAW,WACb,IAAInnB,EAAImf,IAASA,GAAMiI,YACvB,GAAIpnB,EAAG,CACLA,EAAIqnB,KAAKlT,MAAMnU,GACXoe,IAAAA,EAAI+C,EACR,IAAK,IAAIvgB,KAAKwd,EAAG,CACf,IAAIhc,EAAIgc,EAAExd,GACVojB,EAAKpG,GAAG4D,cAAR,KAA2Bpf,GAAKkR,MAAQtT,EAAEoC,GAC1Csc,GAAetc,GAAKpC,EAAEoC,GAElBklB,IAAAA,EAAUtD,EAAKpG,GAAG4D,0BAA0BF,UAClD0C,EAAKpG,GAAG4D,0BAA0BR,UAAUY,OAAO,MACnDoC,EAAKpG,GAAG4D,cAAR,YAAkCF,UAAYgG,EAAQ/hB,QAAQ,SAAUvF,EAAC,MACzEgkB,EAAKpG,GAAG4D,0BAA0BR,UAAUC,IAAI,QAChDtD,GAAS,QAASqG,EAAKpG,GAAG4D,cAAR,wBAA8C,SAAAxZ,GAC9Dgc,EAAKpG,GAAG4D,0BAA0BR,UAAU2E,OAAO,aAIzDwB,IAEA,IAAII,EAAS,CACXC,MAAO,GACPC,GAAI,IAqBFC,EAAYxkB,KAAK0a,GAAG4D,cAAc,YAClCmG,EAAY,SAAA3f,GACd,GAAI0f,EAAUpE,aAAa,YACzBU,EAAK7B,MAAMT,KAAK,CACdpX,KAAM,GACND,KAAM,uBACNkY,KAAM,WAJV,CAQA,GAA8B,IAA1B7D,GAAeC,QAOjB,OANAsI,EAAM,QAAYW,aAClB5D,EAAK7B,MAAMT,KAAK,CACdpX,KAAM,GACND,KAAM,oBACNkY,KAAM,OAONsF,IAMAC,EALAD,GAJuB,IAAvBnJ,GAAeG,OACjBH,GAAc,KAAW,OAEjBA,GAAeC,QAAQjY,QAAQ6gB,EAAOE,KACrC,GAAkB,IAAbF,EAAOE,GAAU,CAC3BA,IAAAA,2BAA6B/I,GAAeE,IAAQ2I,KAAAA,EAAOE,GAA/D,OACA/I,GAAeC,QAAUD,GAAeC,QAAQpZ,QAAQgiB,EAAOE,GAAIA,GAI7DK,KAAAA,EAAUpJ,GAAeC,QAAQ5V,MAAMyW,KAC7Cd,GAAeC,QAAUD,GAAeC,QAAQpZ,QAC9CuiB,EAAQ,GAENA,8CAAAA,EAAQ,GAAKpI,IAHjB,kEAOMoI,KAAAA,EAAUpJ,GAAeC,QAAQ5V,MAAM0W,KAC7Cf,GAAeC,QAAUD,GAAeC,QAAQpZ,QAC9CuiB,EAAQ,GAENA,wCAAAA,EAAQ,GAAKpI,IAHjB,4DASEqI,IAAAA,EAAU5J,GAAWO,GAAeI,MACpCkJ,EAAU7J,GAAWO,GAAevU,MACxCuU,GAAc,KAAWqJ,EAAQ3lB,EAAI2lB,EAAQvN,EAAI,GACjDkE,GAAc,KAAWsJ,EAAQ5lB,EAAI4lB,EAAQxN,EAAI,GACjD,IAAMyN,EAAY,SAAA5d,GAChB2Z,EAAK7B,MAAMT,KAAK,CACdpX,KAAM,EACND,KAAAA,EACAsY,GAAI,WAAA,OAAMuF,SAITH,EAAQ3lB,IAAM4lB,EAAQ5lB,GAAK+e,EAAWza,QAAQ,SAAW,GAAKya,EAAWza,QAAQ,SAAW,EAC/FuhB,EAAU,0BACAF,EAAQ3lB,GAAK+e,EAAWza,QAAQ,SAAW,EACrDuhB,EAAU,uBACAD,EAAQ5lB,GAAK+e,EAAWza,QAAQ,SAAW,EACrDuhB,EAAU,sBAEVC,MAKAC,EAAS,WACPC,IAAAA,EAAM,IAAIpE,EAAKxJ,EAAE6N,IAGrB,OAFAD,EAAIE,qBAAoB,GACxBF,EAAIG,sBAAqB,GAClBH,GAGLF,EAAY,WACdR,EAAUtD,aAAa,YAAY,GACnCJ,EAAKlC,QAAQJ,OAEb,IAEI/C,EAAU,IAFLqF,EAAKxJ,EAAEjS,OAAOigB,OAAO,YAG9B,IAAK,IAAI5nB,KAAK8d,GACZ,GAAIA,GAAejW,eAAe7H,GAAI,CACpC,IAAIsmB,EAAKxI,GAAe9d,GACxB+d,EAAQ8J,IAAI7nB,EAAGsmB,GAGnBvI,EAAQ+J,OAAOP,KACfxJ,EACGgK,OACAhF,MAAK,SAAA/N,GACsB,SAA1B8I,GAAc,MACZS,IACAA,GAAMyJ,QACJ,cACAvB,KAAKwB,UAAU,CACbhK,KAAMH,GAAc,KACpBvU,KAAMuU,GAAc,KACpBI,KAAMJ,GAAc,QAGtBuH,IAAAA,EAASjC,EAAKpG,GAAG4D,cAAc,QAC/BthB,EAAM,EACN,IACE+lB,GACF/lB,EAAMwmB,OAAOT,EAAOpC,WAAa,EACjCoC,EAAOpC,UAAY3jB,GAEnB8jB,EAAKpG,GAAG4D,cAAc,UAAUF,UAAY,iCAE9C2C,EAAUrO,GAEV8I,GAAc,MACZoK,EAAO,CACLC,SAAUrK,GAAc,KACxBI,KAAMJ,GAAc,OAGxBgJ,EAAUsB,gBAAgB,YAC1BhF,EAAKlC,QAAQrD,OA5IT,WACV,IAAK,IAAI7d,KAAKmmB,EACZ,GAAIA,EAAQte,eAAe7H,GAAI,CAC7B,IAAIsmB,EAAKH,EAAQnmB,GACPojB,EAAKpG,GAAG4D,cAAkB5gB,IAAAA,GAChC0S,MAAQ,GACZoL,GAAewI,GAAM,GAGzBK,EAAM,GAAS,GACfA,EAAM,MAAY,GAClB7I,GAAc,IAAU,GACxBA,GAAc,KAAW,QACzByI,IAgIM8B,GACA,MAAOjX,GACPtI,QAAQ6T,IAAIvL,OAlClB,OAqCS,SAAAgQ,GACLgC,EAAKlC,QAAQrD,OACbuF,EAAA,MAAWhC,OAIb8G,EAAS,SAAA1G,GACP3L,IAAAA,EAAI,IAAIuN,EAAKxJ,EAAE0O,KAKZzS,OAJPA,EAAE0S,YAAY/G,EAAE2G,UAChBtS,EAAE2S,YAAYhH,EAAEtD,MAChBrI,EAAE4S,SAASjH,EAAEtD,MACbrI,EAAEiS,OAAOP,KACF1R,EAAEqS,UAIPhE,EAAY,SAAAlH,GACdD,GAAS,QAASC,GAAI,SAAA5V,GACpB,IAAIyf,EAAK7J,EAAG0F,aAAa,MACrB1E,EAAMhB,EAAG0F,aAAa,OACtBkE,EAAQ5J,EAAG0F,aAAa,QAC5BiE,EAAM,GAASE,EACfF,EAAM,MAAYC,EAClB9I,GAAc,IAAUE,EACxBqI,EAAM,QAAY3T,MAAWmU,EAA7B,IACAR,EAAM,QAAYW,YAItBjK,GAAU,QAAS+J,EAAWC,GAC9BhK,GAAS,QAAS+J,EAAWC"}
{"version":3,"file":"Hitalk.min.js","sources":["../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/construct.js","../node_modules/blueimp-md5/js/md5.js","../node_modules/marked/src/defaults.js","../node_modules/marked/src/helpers.js","../node_modules/marked/src/Tokenizer.js","../node_modules/marked/src/rules.js","../node_modules/marked/src/Lexer.js","../node_modules/marked/src/Renderer.js","../node_modules/marked/src/TextRenderer.js","../node_modules/marked/src/Slugger.js","../node_modules/marked/src/Parser.js","../node_modules/marked/src/marked.js","../src/detect.js","../node_modules/style-inject/dist/style-inject.es.js","../src/utils.js","../src/Hitalk.js"],"sourcesContent":["function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","function getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\n\nfunction changeDefaults(newDefaults) {\n  module.exports.defaults = newDefaults;\n}\n\nmodule.exports = {\n  defaults: getDefaults(),\n  getDefaults,\n  changeDefaults\n};\n","/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction merge(obj) {\n  let i = 1,\n    target,\n    key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\nmodule.exports = {\n  escape,\n  unescape,\n  edit,\n  cleanUrl,\n  resolveUrl,\n  noopTest,\n  merge,\n  splitCells,\n  rtrim,\n  findClosingBracket,\n  checkSanitizeDeprecation\n};\n","const { defaults } = require('./defaults.js');\nconst {\n  rtrim,\n  splitCells,\n  escape,\n  findClosingBracket\n} = require('./helpers.js');\n\nfunction outputLink(cap, link, raw) {\n  const href = link.href;\n  const title = link.title ? escape(link.title) : null;\n\n  if (cap[0].charAt(0) !== '!') {\n    return {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text: cap[1]\n    };\n  } else {\n    return {\n      type: 'image',\n      raw,\n      text: escape(cap[1]),\n      href,\n      title\n    };\n  }\n}\n\nfunction indentCodeCompensation(raw, text) {\n  const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  const indentToCode = matchIndentToCode[1];\n\n  return text\n    .split('\\n')\n    .map(node => {\n      const matchIndentInNode = node.match(/^\\s+/);\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      const [indentInNode] = matchIndentInNode;\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    })\n    .join('\\n');\n}\n\n/**\n * Tokenizer\n */\nmodule.exports = class Tokenizer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n    if (cap) {\n      if (cap[0].length > 1) {\n        return {\n          type: 'space',\n          raw: cap[0]\n        };\n      }\n      return { raw: '\\n' };\n    }\n  }\n\n  code(src, tokens) {\n    const cap = this.rules.block.code.exec(src);\n    if (cap) {\n      const lastToken = tokens[tokens.length - 1];\n      // An indented code block cannot interrupt a paragraph.\n      if (lastToken && lastToken.type === 'paragraph') {\n        return {\n          raw: cap[0],\n          text: cap[0].trimRight()\n        };\n      }\n\n      const text = cap[0].replace(/^ {4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic\n          ? rtrim(text, '\\n')\n          : text\n      };\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n    if (cap) {\n      const raw = cap[0];\n      const text = indentCodeCompensation(raw, cap[3] || '');\n\n      return {\n        type: 'code',\n        raw,\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: cap[2]\n      };\n    }\n  }\n\n  nptable(src) {\n    const cap = this.rules.block.nptable.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n        raw: cap[0]\n      };\n\n      if (item.header.length === item.align.length) {\n        let l = item.align.length;\n        let i;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ *> ?/gm, '');\n\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  list(src) {\n    const cap = this.rules.block.list.exec(src);\n    if (cap) {\n      let raw = cap[0];\n      const bull = cap[2];\n      const isordered = bull.length > 1;\n\n      const list = {\n        type: 'list',\n        raw,\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false,\n        items: []\n      };\n\n      // Get each top-level item.\n      const itemMatch = cap[0].match(this.rules.block.item);\n\n      let next = false,\n        item,\n        space,\n        b,\n        addBack,\n        loose,\n        istask,\n        ischecked;\n\n      const l = itemMatch.length;\n      for (let i = 0; i < l; i++) {\n        item = itemMatch[i];\n        raw = item;\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            addBack = itemMatch.slice(i + 1).join('\\n');\n            list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          list.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw,\n          task: istask,\n          checked: ischecked,\n          loose: loose,\n          text: item\n        });\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n    if (cap) {\n      return {\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0]\n      };\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n\n        let l = item.align.length;\n        let i;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1]\n      };\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n    if (cap) {\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      };\n    }\n  }\n\n  text(src, tokens) {\n    const cap = this.rules.block.text.exec(src);\n    if (cap) {\n      const lastToken = tokens[tokens.length - 1];\n      if (lastToken && lastToken.type === 'text') {\n        return {\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0]\n      };\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  }\n\n  tag(src, inLink, inRawBlock) {\n    const cap = this.rules.inline.tag.exec(src);\n    if (cap) {\n      if (!inLink && /^<a /i.test(cap[0])) {\n        inLink = true;\n      } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n        inLink = false;\n      }\n      if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = true;\n      } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize\n          ? 'text'\n          : 'html',\n        raw: cap[0],\n        inLink,\n        inRawBlock,\n        text: this.options.sanitize\n          ? (this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape(cap[0]))\n          : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n    if (cap) {\n      const lastParenIndex = findClosingBracket(cap[2], '()');\n      if (lastParenIndex > -1) {\n        const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n        const linkLen = start + cap[1].length + lastParenIndex;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n      let href = cap[2];\n      let title = '';\n      if (this.options.pedantic) {\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      const token = outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0]);\n      return token;\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n    if ((cap = this.rules.inline.reflink.exec(src))\n        || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n      if (!link || !link.href) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n      const token = outputLink(cap, link, cap[0]);\n      return token;\n    }\n  }\n\n  strong(src) {\n    const cap = this.rules.inline.strong.exec(src);\n    if (cap) {\n      return {\n        type: 'strong',\n        raw: cap[0],\n        text: cap[4] || cap[3] || cap[2] || cap[1]\n      };\n    }\n  }\n\n  em(src) {\n    const cap = this.rules.inline.em.exec(src);\n    if (cap) {\n      return {\n        type: 'em',\n        raw: cap[0],\n        text: cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]\n      };\n    }\n  }\n\n  codespan(src) {\n    const cap = this.rules.inline.code.exec(src);\n    if (cap) {\n      let text = cap[2].replace(/\\n/g, ' ');\n      const hasNonSpaceChars = /[^ ]/.test(text);\n      const hasSpaceCharsOnBothEnds = text.startsWith(' ') && text.endsWith(' ');\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  br(src) {\n    const cap = this.rules.inline.br.exec(src);\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  }\n\n  del(src) {\n    const cap = this.rules.inline.del.exec(src);\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[1]\n      };\n    }\n  }\n\n  autolink(src, mangle) {\n    const cap = this.rules.inline.autolink.exec(src);\n    if (cap) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  url(src, mangle) {\n    let cap;\n    if (cap = this.rules.inline.url.exec(src)) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        let prevCapZero;\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  inlineText(src, inRawBlock, smartypants) {\n    const cap = this.rules.inline.text.exec(src);\n    if (cap) {\n      let text;\n      if (inRawBlock) {\n        text = this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n      return {\n        type: 'text',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n};\n","const {\n  noopTest,\n  edit,\n  merge\n} = require('./helpers.js');\n\n/**\n * Block-Level Grammar\n */\nconst block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  nptable: noopTest,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' *([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)', // Cells\n  table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' *\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n});\n\nblock.gfm.nptable = edit(block.gfm.nptable)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.gfm.table = edit(block.gfm.table)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  fences: noopTest, // fences not supported\n  paragraph: edit(block.normal._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' *#{1,6} *[^\\n]')\n    .replace('lheading', block.lheading)\n    .replace('blockquote', ' {0,3}>')\n    .replace('|fences', '')\n    .replace('|list', '')\n    .replace('|html', '')\n    .getRegex()\n});\n\n/**\n * Inline-Level Grammar\n */\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^_([^\\s_<][\\s\\S]*?[^\\s_])_(?!_|[^\\s,punctuation])|^_([^\\s_<][\\s\\S]*?[^\\s])_(?!_|[^\\s,punctuation])|^\\*([^\\s*<\\[])\\*(?!\\*)|^\\*([^\\s<\"][\\s\\S]*?[^\\s\\[\\*])\\*(?![\\]`punctuation])|^\\*([^\\s*\"<\\[][\\s\\S]*[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\n// without , to work around example 393\ninline._punctuation = '!\"#$%&\\'()*+\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text)\n    .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n    .replace(/\\{2,\\}/g, '*')\n    .getRegex()\n});\n\nmodule.exports = {\n  block,\n  inline\n};\n","const Tokenizer = require('./Tokenizer.js');\nconst { defaults } = require('./defaults.js');\nconst { block, inline } = require('./rules.js');\n\n/**\n * smartypants text replacement\n */\nfunction smartypants(text) {\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n}\n\n/**\n * mangle email addresses\n */\nfunction mangle(text) {\n  let out = '',\n    i,\n    ch;\n\n  const l = text.length;\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n\n/**\n * Block Lexer\n */\nmodule.exports = class Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n\n    const rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n    this.tokenizer.rules = rules;\n  }\n\n  /**\n   * Expose Rules\n   */\n  static get rules() {\n    return {\n      block,\n      inline\n    };\n  }\n\n  /**\n   * Static Lex Method\n   */\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n\n  /**\n   * Preprocessing\n   */\n  lex(src) {\n    src = src\n      .replace(/\\r\\n|\\r/g, '\\n')\n      .replace(/\\t/g, '    ');\n\n    this.blockTokens(src, this.tokens, true);\n\n    this.inline(this.tokens);\n\n    return this.tokens;\n  }\n\n  /**\n   * Lexing\n   */\n  blockTokens(src, tokens = [], top = true) {\n    src = src.replace(/^ +$/gm, '');\n    let token, i, l, lastToken;\n\n    while (src) {\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n        if (token.type) {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.code(src, tokens)) {\n        src = src.substring(token.raw.length);\n        if (token.type) {\n          tokens.push(token);\n        } else {\n          lastToken = tokens[tokens.length - 1];\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n        }\n        continue;\n      }\n\n      // fences\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // heading\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // table no leading pipe (gfm)\n      if (token = this.tokenizer.nptable(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // hr\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // blockquote\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.blockTokens(token.text, [], top);\n        tokens.push(token);\n        continue;\n      }\n\n      // list\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        l = token.items.length;\n        for (i = 0; i < l; i++) {\n          token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n        }\n        tokens.push(token);\n        continue;\n      }\n\n      // html\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // def\n      if (top && (token = this.tokenizer.def(src))) {\n        src = src.substring(token.raw.length);\n        if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // lheading\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // top-level paragraph\n      if (top && (token = this.tokenizer.paragraph(src))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.text(src, tokens)) {\n        src = src.substring(token.raw.length);\n        if (token.type) {\n          tokens.push(token);\n        } else {\n          lastToken = tokens[tokens.length - 1];\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n  inline(tokens) {\n    let i,\n      j,\n      k,\n      l2,\n      row,\n      token;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n      switch (token.type) {\n        case 'paragraph':\n        case 'text':\n        case 'heading': {\n          token.tokens = [];\n          this.inlineTokens(token.text, token.tokens);\n          break;\n        }\n        case 'table': {\n          token.tokens = {\n            header: [],\n            cells: []\n          };\n\n          // header\n          l2 = token.header.length;\n          for (j = 0; j < l2; j++) {\n            token.tokens.header[j] = [];\n            this.inlineTokens(token.header[j], token.tokens.header[j]);\n          }\n\n          // cells\n          l2 = token.cells.length;\n          for (j = 0; j < l2; j++) {\n            row = token.cells[j];\n            token.tokens.cells[j] = [];\n            for (k = 0; k < row.length; k++) {\n              token.tokens.cells[j][k] = [];\n              this.inlineTokens(row[k], token.tokens.cells[j][k]);\n            }\n          }\n\n          break;\n        }\n        case 'blockquote': {\n          this.inline(token.tokens);\n          break;\n        }\n        case 'list': {\n          l2 = token.items.length;\n          for (j = 0; j < l2; j++) {\n            this.inline(token.items[j].tokens);\n          }\n          break;\n        }\n        default: {\n          // do nothing\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Lexing/Compiling\n   */\n  inlineTokens(src, tokens = [], inLink = false, inRawBlock = false) {\n    let token;\n\n    while (src) {\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // tag\n      if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n        src = src.substring(token.raw.length);\n        inLink = token.inLink;\n        inRawBlock = token.inRawBlock;\n        tokens.push(token);\n        continue;\n      }\n\n      // link\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n        tokens.push(token);\n        continue;\n      }\n\n      // reflink, nolink\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n        tokens.push(token);\n        continue;\n      }\n\n      // strong\n      if (token = this.tokenizer.strong(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      }\n\n      // em\n      if (token = this.tokenizer.em(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // br\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // del (gfm)\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      }\n\n      // autolink\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // url (gfm)\n      if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n};\n","const { defaults } = require('./defaults.js');\nconst {\n  cleanUrl,\n  escape\n} = require('./helpers.js');\n\n/**\n * Renderer\n */\nmodule.exports = class Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    if (!lang) {\n      return '<pre><code>'\n        + (escaped ? code : escape(code, true))\n        + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"'\n      + this.options.langPrefix\n      + escape(lang, true)\n      + '\">'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>\\n';\n  }\n\n  blockquote(quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  }\n\n  html(html) {\n    return html;\n  }\n\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h'\n        + level\n        + ' id=\"'\n        + this.options.headerPrefix\n        + slugger.slug(raw)\n        + '\">'\n        + text\n        + '</h'\n        + level\n        + '>\\n';\n    }\n    // ignore IDs\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  }\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  }\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  listitem(text) {\n    return '<li>' + text + '</li>\\n';\n  }\n\n  checkbox(checked) {\n    return '<input '\n      + (checked ? 'checked=\"\" ' : '')\n      + 'disabled=\"\" type=\"checkbox\"'\n      + (this.options.xhtml ? ' /' : '')\n      + '> ';\n  }\n\n  paragraph(text) {\n    return '<p>' + text + '</p>\\n';\n  }\n\n  table(header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n\n    return '<table>\\n'\n      + '<thead>\\n'\n      + header\n      + '</thead>\\n'\n      + body\n      + '</table>\\n';\n  }\n\n  tablerow(content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  }\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align\n      ? '<' + type + ' align=\"' + flags.align + '\">'\n      : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  }\n\n  // span level renderer\n  strong(text) {\n    return '<strong>' + text + '</strong>';\n  }\n\n  em(text) {\n    return '<em>' + text + '</em>';\n  }\n\n  codespan(text) {\n    return '<code>' + text + '</code>';\n  }\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  del(text) {\n    return '<del>' + text + '</del>';\n  }\n\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    let out = '<a href=\"' + escape(href) + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  }\n\n  text(text) {\n    return text;\n  }\n};\n","/**\n * TextRenderer\n * returns only the textual part of the token\n */\nmodule.exports = class TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n};\n","/**\n * Slugger generates header id\n */\nmodule.exports = class Slugger {\n  constructor() {\n    this.seen = {};\n  }\n\n  /**\n   * Convert string to unique id\n   */\n  slug(value) {\n    let slug = value\n      .toLowerCase()\n      .trim()\n      // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '')\n      // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n      .replace(/\\s/g, '-');\n\n    if (this.seen.hasOwnProperty(slug)) {\n      const originalSlug = slug;\n      do {\n        this.seen[originalSlug]++;\n        slug = originalSlug + '-' + this.seen[originalSlug];\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    this.seen[slug] = 0;\n\n    return slug;\n  }\n};\n","const Renderer = require('./Renderer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst Slugger = require('./Slugger.js');\nconst { defaults } = require('./defaults.js');\nconst {\n  unescape\n} = require('./helpers.js');\n\n/**\n * Parsing & Compiling\n */\nmodule.exports = class Parser {\n  constructor(options) {\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n\n  /**\n   * Parse Loop\n   */\n  parse(tokens, top = true) {\n    let out = '',\n      i,\n      j,\n      k,\n      l2,\n      l3,\n      row,\n      cell,\n      header,\n      body,\n      token,\n      ordered,\n      start,\n      loose,\n      itemBody,\n      item,\n      checked,\n      task,\n      checkbox;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n      switch (token.type) {\n        case 'space': {\n          continue;\n        }\n        case 'hr': {\n          out += this.renderer.hr();\n          continue;\n        }\n        case 'heading': {\n          out += this.renderer.heading(\n            this.parseInline(token.tokens),\n            token.depth,\n            unescape(this.parseInline(token.tokens, this.textRenderer)),\n            this.slugger);\n          continue;\n        }\n        case 'code': {\n          out += this.renderer.code(token.text,\n            token.lang,\n            token.escaped);\n          continue;\n        }\n        case 'table': {\n          header = '';\n\n          // header\n          cell = '';\n          l2 = token.header.length;\n          for (j = 0; j < l2; j++) {\n            cell += this.renderer.tablecell(\n              this.parseInline(token.tokens.header[j]),\n              { header: true, align: token.align[j] }\n            );\n          }\n          header += this.renderer.tablerow(cell);\n\n          body = '';\n          l2 = token.cells.length;\n          for (j = 0; j < l2; j++) {\n            row = token.tokens.cells[j];\n\n            cell = '';\n            l3 = row.length;\n            for (k = 0; k < l3; k++) {\n              cell += this.renderer.tablecell(\n                this.parseInline(row[k]),\n                { header: false, align: token.align[k] }\n              );\n            }\n\n            body += this.renderer.tablerow(cell);\n          }\n          out += this.renderer.table(header, body);\n          continue;\n        }\n        case 'blockquote': {\n          body = this.parse(token.tokens);\n          out += this.renderer.blockquote(body);\n          continue;\n        }\n        case 'list': {\n          ordered = token.ordered;\n          start = token.start;\n          loose = token.loose;\n          l2 = token.items.length;\n\n          body = '';\n          for (j = 0; j < l2; j++) {\n            item = token.items[j];\n            checked = item.checked;\n            task = item.task;\n\n            itemBody = '';\n            if (item.task) {\n              checkbox = this.renderer.checkbox(checked);\n              if (loose) {\n                if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                  item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                    item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                  }\n                } else {\n                  item.tokens.unshift({\n                    type: 'text',\n                    text: checkbox\n                  });\n                }\n              } else {\n                itemBody += checkbox;\n              }\n            }\n\n            itemBody += this.parse(item.tokens, loose);\n            body += this.renderer.listitem(itemBody, task, checked);\n          }\n\n          out += this.renderer.list(body, ordered, start);\n          continue;\n        }\n        case 'html': {\n          // TODO parse inline content if parameter markdown=1\n          out += this.renderer.html(token.text);\n          continue;\n        }\n        case 'paragraph': {\n          out += this.renderer.paragraph(this.parseInline(token.tokens));\n          continue;\n        }\n        case 'text': {\n          body = token.tokens ? this.parseInline(token.tokens) : token.text;\n          while (i + 1 < l && tokens[i + 1].type === 'text') {\n            token = tokens[++i];\n            body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n          }\n          out += top ? this.renderer.paragraph(body) : body;\n          continue;\n        }\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n\n    return out;\n  }\n\n  /**\n   * Parse Inline Tokens\n   */\n  parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    let out = '',\n      i,\n      token;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n      switch (token.type) {\n        case 'escape': {\n          out += renderer.text(token.text);\n          break;\n        }\n        case 'html': {\n          out += renderer.html(token.text);\n          break;\n        }\n        case 'link': {\n          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'image': {\n          out += renderer.image(token.href, token.title, token.text);\n          break;\n        }\n        case 'strong': {\n          out += renderer.strong(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'em': {\n          out += renderer.em(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'codespan': {\n          out += renderer.codespan(token.text);\n          break;\n        }\n        case 'br': {\n          out += renderer.br();\n          break;\n        }\n        case 'del': {\n          out += renderer.del(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'text': {\n          out += renderer.text(token.text);\n          break;\n        }\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n    return out;\n  }\n};\n","const Lexer = require('./Lexer.js');\nconst Parser = require('./Parser.js');\nconst Tokenizer = require('./Tokenizer.js');\nconst Renderer = require('./Renderer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst Slugger = require('./Slugger.js');\nconst {\n  merge,\n  checkSanitizeDeprecation,\n  escape\n} = require('./helpers.js');\nconst {\n  getDefaults,\n  changeDefaults,\n  defaults\n} = require('./defaults.js');\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (typeof opt === 'function') {\n    callback = opt;\n    opt = null;\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  if (callback) {\n    const highlight = opt.highlight;\n    let tokens;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    const done = function(err) {\n      let out;\n\n      if (!err) {\n        try {\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!tokens.length) return done();\n\n    let pending = 0;\n    marked.walkTokens(tokens, function(token) {\n      if (token.type === 'code') {\n        pending++;\n        highlight(token.text, token.lang, function(err, code) {\n          if (err) {\n            return done(err);\n          }\n          if (code != null && code !== token.text) {\n            token.text = code;\n            token.escaped = true;\n          }\n\n          pending--;\n          if (pending === 0) {\n            done();\n          }\n        });\n      }\n    });\n\n    if (pending === 0) {\n      done();\n    }\n\n    return;\n  }\n\n  try {\n    const tokens = Lexer.lex(src, opt);\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n    return Parser.parse(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\n\nmarked.defaults = defaults;\n\n/**\n * Use Extension\n */\n\nmarked.use = function(extension) {\n  const opts = merge({}, extension);\n  if (extension.renderer) {\n    const renderer = marked.defaults.renderer || new Renderer();\n    for (const prop in extension.renderer) {\n      const prevRenderer = renderer[prop];\n      renderer[prop] = (...args) => {\n        let ret = extension.renderer[prop].apply(renderer, args);\n        if (ret === false) {\n          ret = prevRenderer.apply(renderer, args);\n        }\n        return ret;\n      };\n    }\n    opts.renderer = renderer;\n  }\n  if (extension.tokenizer) {\n    const tokenizer = marked.defaults.tokenizer || new Tokenizer();\n    for (const prop in extension.tokenizer) {\n      const prevTokenizer = tokenizer[prop];\n      tokenizer[prop] = (...args) => {\n        let ret = extension.tokenizer[prop].apply(tokenizer, args);\n        if (ret === false) {\n          ret = prevTokenizer.apply(tokenizer, args);\n        }\n        return ret;\n      };\n    }\n    opts.tokenizer = tokenizer;\n  }\n  if (extension.walkTokens) {\n    const walkTokens = marked.defaults.walkTokens;\n    opts.walkTokens = (token) => {\n      extension.walkTokens(token);\n      if (walkTokens) {\n        walkTokens(token);\n      }\n    };\n  }\n  marked.setOptions(opts);\n};\n\n/**\n * Run callback for every token\n */\n\nmarked.walkTokens = function(tokens, callback) {\n  for (const token of tokens) {\n    callback(token);\n    switch (token.type) {\n      case 'table': {\n        for (const cell of token.tokens.header) {\n          marked.walkTokens(cell, callback);\n        }\n        for (const row of token.tokens.cells) {\n          for (const cell of row) {\n            marked.walkTokens(cell, callback);\n          }\n        }\n        break;\n      }\n      case 'list': {\n        marked.walkTokens(token.items, callback);\n        break;\n      }\n      default: {\n        if (token.tokens) {\n          marked.walkTokens(token.tokens, callback);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.Tokenizer = Tokenizer;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nmodule.exports = marked;\n","var win = window || {}\nvar nav = navigator || {}\nfunction Detect(userAgent) {\n  var u = userAgent || nav.userAgent\n  var _this = this\n\n  var match = {\n    //内核\n    Trident: u.indexOf('Trident') > -1 || u.indexOf('NET CLR') > -1,\n    Presto: u.indexOf('Presto') > -1,\n    WebKit: u.indexOf('AppleWebKit') > -1,\n    Gecko: u.indexOf('Gecko/') > -1,\n    //浏览器\n    Safari: u.indexOf('Safari') > -1,\n    Chrome: u.indexOf('Chrome') > -1 || u.indexOf('CriOS') > -1,\n    IE: u.indexOf('MSIE') > -1 || u.indexOf('Trident') > -1,\n    Edge: u.indexOf('Edge') > -1,\n    Firefox: u.indexOf('Firefox') > -1 || u.indexOf('FxiOS') > -1,\n    'Firefox Focus': u.indexOf('Focus') > -1,\n    Chromium: u.indexOf('Chromium') > -1,\n    Opera: u.indexOf('Opera') > -1 || u.indexOf('OPR') > -1,\n    Vivaldi: u.indexOf('Vivaldi') > -1,\n    Yandex: u.indexOf('YaBrowser') > -1,\n    Kindle: u.indexOf('Kindle') > -1 || u.indexOf('Silk/') > -1,\n    '360': u.indexOf('360EE') > -1 || u.indexOf('360SE') > -1,\n    UC: u.indexOf('UC') > -1 || u.indexOf(' UBrowser') > -1,\n    QQBrowser: u.indexOf('QQBrowser') > -1,\n    QQ: u.indexOf('QQ/') > -1,\n    Baidu: u.indexOf('Baidu') > -1 || u.indexOf('BIDUBrowser') > -1,\n    Maxthon: u.indexOf('Maxthon') > -1,\n    Sogou: u.indexOf('MetaSr') > -1 || u.indexOf('Sogou') > -1,\n    LBBROWSER: u.indexOf('LBBROWSER') > -1,\n    '2345Explorer': u.indexOf('2345Explorer') > -1,\n    TheWorld: u.indexOf('TheWorld') > -1,\n    XiaoMi: u.indexOf('MiuiBrowser') > -1,\n    Quark: u.indexOf('Quark') > -1,\n    Qiyu: u.indexOf('Qiyu') > -1,\n    Wechat: u.indexOf('MicroMessenger') > -1,\n    Taobao: u.indexOf('AliApp(TB') > -1,\n    Alipay: u.indexOf('AliApp(AP') > -1,\n    Weibo: u.indexOf('Weibo') > -1,\n    Douban: u.indexOf('com.douban.frodo') > -1,\n    Suning: u.indexOf('SNEBUY-APP') > -1,\n    iQiYi: u.indexOf('IqiyiApp') > -1,\n    //系统或平台\n    Windows: u.indexOf('Windows') > -1,\n    Linux: u.indexOf('Linux') > -1 || u.indexOf('X11') > -1,\n    'Mac OS': u.indexOf('Macintosh') > -1,\n    Android: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1,\n    Ubuntu: u.indexOf('Ubuntu') > -1,\n    FreeBSD: u.indexOf('FreeBSD') > -1,\n    Debian: u.indexOf('Debian') > -1,\n    'Windows Phone': u.indexOf('IEMobile') > -1 || u.indexOf('Windows Phone') > -1,\n    BlackBerry: u.indexOf('BlackBerry') > -1 || u.indexOf('RIM') > -1,\n    MeeGo: u.indexOf('MeeGo') > -1,\n    Symbian: u.indexOf('Symbian') > -1,\n    iOS: u.indexOf('like Mac OS X') > -1,\n    'Chrome OS': u.indexOf('CrOS') > -1,\n    WebOS: u.indexOf('hpwOS') > -1,\n    //设备\n    Mobile: u.indexOf('Mobi') > -1 || u.indexOf('iPh') > -1 || u.indexOf('480') > -1,\n    Tablet: u.indexOf('Tablet') > -1 || u.indexOf('Pad') > -1 || u.indexOf('Nexus 7') > -1\n  }\n  //修正\n  if (match['Mobile']) {\n    match['Mobile'] = !(u.indexOf('iPad') > -1)\n  } else if (win.showModalDialog && win.chrome) {\n    match['360'] = true\n  }\n  //基本信息\n  var hash = {\n    engine: ['WebKit', 'Trident', 'Gecko', 'Presto'],\n    browser: [\n      'Safari',\n      'Chrome',\n      'Edge',\n      'IE',\n      'Firefox',\n      'Firefox Focus',\n      'Chromium',\n      'Opera',\n      'Vivaldi',\n      'Yandex',\n      'Kindle',\n      '360',\n      'UC',\n      'QQBrowser',\n      'QQ',\n      'Baidu',\n      'Maxthon',\n      'Sogou',\n      'LBBROWSER',\n      '2345Explorer',\n      'TheWorld',\n      'XiaoMi',\n      'Quark',\n      'Qiyu',\n      'Wechat',\n      'Taobao',\n      'Alipay',\n      'Weibo',\n      'Douban',\n      'Suning',\n      'iQiYi'\n    ],\n    os: [\n      'Windows',\n      'Linux',\n      'Mac OS',\n      'Android',\n      'Ubuntu',\n      'FreeBSD',\n      'Debian',\n      'iOS',\n      'Windows Phone',\n      'BlackBerry',\n      'MeeGo',\n      'Symbian',\n      'Chrome OS',\n      'WebOS'\n    ],\n    device: ['Mobile', 'Tablet']\n  }\n  _this.device = 'PC'\n  _this.language = (function () {\n    var g = nav.browserLanguage || nav.language\n    var arr = g.split('-')\n    if (arr[1]) {\n      arr[1] = arr[1].toUpperCase()\n    }\n    return arr.join('_')\n  })()\n  for (var s in hash) {\n    for (var i = 0; i < hash[s].length; i++) {\n      var value = hash[s][i]\n      if (match[value]) {\n        _this[s] = value\n      }\n    }\n  }\n  //系统版本信息\n  var osVersion = {\n    Windows: function () {\n      var v = u.replace(/^.*Windows NT ([\\d.]+);.*$/, '$1')\n      var hash = {\n        '6.4': '10',\n        '6.3': '8.1',\n        '6.2': '8',\n        '6.1': '7',\n        '6.0': 'Vista',\n        '5.2': 'XP',\n        '5.1': 'XP',\n        '5.0': '2000'\n      }\n      return hash[v] || v\n    },\n    Android: function () {\n      return u.replace(/^.*Android ([\\d.]+);.*$/, '$1')\n    },\n    iOS: function () {\n      return u.replace(/^.*OS ([\\d_]+) like.*$/, '$1').replace(/_/g, '.')\n    },\n    Debian: function () {\n      return u.replace(/^.*Debian\\/([\\d.]+).*$/, '$1')\n    },\n    'Windows Phone': function () {\n      return u.replace(/^.*Windows Phone( OS)? ([\\d.]+);.*$/, '$2')\n    },\n    'Mac OS': function () {\n      return u.replace(/^.*Mac OS X ([\\d_]+).*$/, '$1').replace(/_/g, '.')\n    },\n    WebOS: function () {\n      return u.replace(/^.*hpwOS\\/([\\d.]+);.*$/, '$1')\n    }\n  }\n  _this.osVersion = ''\n  if (osVersion[_this.os]) {\n    _this.osVersion = osVersion[_this.os]()\n    if (_this.osVersion == u) {\n      _this.osVersion = ''\n    }\n  }\n  //浏览器版本信息\n  var version = {\n    Safari: function () {\n      return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1')\n    },\n    Chrome: function () {\n      return u.replace(/^.*Chrome\\/([\\d.]+).*$/, '$1').replace(/^.*CriOS\\/([\\d.]+).*$/, '$1')\n    },\n    IE: function () {\n      return u.replace(/^.*MSIE ([\\d.]+).*$/, '$1').replace(/^.*rv:([\\d.]+).*$/, '$1')\n    },\n    Edge: function () {\n      return u.replace(/^.*Edge\\/([\\d.]+).*$/, '$1')\n    },\n    Firefox: function () {\n      return u.replace(/^.*Firefox\\/([\\d.]+).*$/, '$1').replace(/^.*FxiOS\\/([\\d.]+).*$/, '$1')\n    },\n    'Firefox Focus': function () {\n      return u.replace(/^.*Focus\\/([\\d.]+).*$/, '$1')\n    },\n    Chromium: function () {\n      return u.replace(/^.*Chromium\\/([\\d.]+).*$/, '$1')\n    },\n    Opera: function () {\n      return u.replace(/^.*Opera\\/([\\d.]+).*$/, '$1').replace(/^.*OPR\\/([\\d.]+).*$/, '$1')\n    },\n    Vivaldi: function () {\n      return u.replace(/^.*Vivaldi\\/([\\d.]+).*$/, '$1')\n    },\n    Yandex: function () {\n      return u.replace(/^.*YaBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    Kindle: function () {\n      return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1')\n    },\n    Maxthon: function () {\n      return u.replace(/^.*Maxthon\\/([\\d.]+).*$/, '$1')\n    },\n    QQBrowser: function () {\n      return u.replace(/^.*QQBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    QQ: function () {\n      return u.replace(/^.*QQ\\/([\\d.]+).*$/, '$1')\n    },\n    Baidu: function () {\n      return u.replace(/^.*BIDUBrowser[\\s\\/]([\\d.]+).*$/, '$1')\n    },\n    UC: function () {\n      return u.replace(/^.*UC?Browser\\/([\\d.]+).*$/, '$1')\n    },\n    Sogou: function () {\n      return u.replace(/^.*SE ([\\d.X]+).*$/, '$1').replace(/^.*SogouMobileBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    '2345Explorer': function () {\n      return u.replace(/^.*2345Explorer\\/([\\d.]+).*$/, '$1')\n    },\n    TheWorld: function () {\n      return u.replace(/^.*TheWorld ([\\d.]+).*$/, '$1')\n    },\n    XiaoMi: function () {\n      return u.replace(/^.*MiuiBrowser\\/([\\d.]+).*$/, '$1')\n    },\n    Quark: function () {\n      return u.replace(/^.*Quark\\/([\\d.]+).*$/, '$1')\n    },\n    Qiyu: function () {\n      return u.replace(/^.*Qiyu\\/([\\d.]+).*$/, '$1')\n    },\n    Wechat: function () {\n      return u.replace(/^.*MicroMessenger\\/([\\d.]+).*$/, '$1')\n    },\n    Taobao: function () {\n      return u.replace(/^.*AliApp\\(TB\\/([\\d.]+).*$/, '$1')\n    },\n    Alipay: function () {\n      return u.replace(/^.*AliApp\\(AP\\/([\\d.]+).*$/, '$1')\n    },\n    Weibo: function () {\n      return u.replace(/^.*weibo__([\\d.]+).*$/, '$1')\n    },\n    Douban: function () {\n      return u.replace(/^.*com.douban.frodo\\/([\\d.]+).*$/, '$1')\n    },\n    Suning: function () {\n      return u.replace(/^.*SNEBUY-APP([\\d.]+).*$/, '$1')\n    },\n    iQiYi: function () {\n      return u.replace(/^.*IqiyiVersion\\/([\\d.]+).*$/, '$1')\n    }\n  }\n  _this.version = ''\n  if (version[_this.browser]) {\n    _this.version = version[_this.browser]()\n    if (_this.version == u) {\n      _this.version = ''\n    }\n  }\n  //修正\n  if (_this.browser == 'Edge') {\n    _this.engine = 'EdgeHTML'\n  } else if (_this.browser == 'Chrome' && parseInt(_this.version) > 27) {\n    _this.engine = 'Blink'\n  } else if (_this.browser == 'Opera' && parseInt(_this.version) > 12) {\n    _this.engine = 'Blink'\n  } else if (_this.browser == 'Yandex') {\n    _this.engine = 'Blink'\n  } else if (_this.browser == undefined) {\n    _this.browser = 'Unknow App'\n  }\n}\n\nfunction detectFactory(u) {\n  return new Detect(u)\n}\n\nexport default detectFactory\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","const HtmlUtil = {\n  /**\n   * HTML转码\n   * @param {String} str\n   * @return {String} result\n   */\n  encode(str) {\n    return !!str\n      ? str\n          .replace(/&/g, '&amp;')\n          .replace(/</g, '&lt;')\n          .replace(/>/g, '&gt;')\n          .replace(/ /g, '&nbsp;')\n          .replace(/\\'/g, '&#39;')\n          .replace(/\\\"/g, '&quot;')\n      : ''\n  },\n  /**\n   * HTML解码\n   * @param {String} str\n   * @return {String} result\n   */\n  decode(str) {\n    return !!str\n      ? str\n          .replace(/&amp;/g, '&')\n          .replace(/&lt;/g, '<')\n          .replace(/&gt;/g, '>')\n          .replace(/&nbsp;/g, ' ')\n          .replace(/&#39;/g, \"'\")\n          .replace(/&quot;/g, '\"')\n      : ''\n  }\n}\n\nconst dateFormat = date => {\n  const vDay = padWithZeros(date.getDate(), 2)\n  const vMonth = padWithZeros(date.getMonth() + 1, 2)\n  const vYear = padWithZeros(date.getFullYear(), 2)\n  return `${vYear}-${vMonth}-${vDay}`\n}\n\nconst timeAgo = date => {\n  try {\n    const oldTime = date.getTime()\n    const currTime = new Date().getTime()\n    const diffValue = currTime - oldTime\n\n    const days = Math.floor(diffValue / (24 * 3600 * 1000))\n    if (days === 0) {\n      //计算相差小时数\n      const leave1 = diffValue % (24 * 3600 * 1000) //计算天数后剩余的毫秒数\n      const hours = Math.floor(leave1 / (3600 * 1000))\n      if (hours === 0) {\n        //计算相差分钟数\n        const leave2 = leave1 % (3600 * 1000) //计算小时数后剩余的毫秒数\n        const minutes = Math.floor(leave2 / (60 * 1000))\n        if (minutes === 0) {\n          //计算相差秒数\n          const leave3 = leave2 % (60 * 1000) //计算分钟数后剩余的毫秒数\n          const seconds = Math.round(leave3 / 1000)\n          return seconds + ' 秒前'\n        }\n        return minutes + ' 分钟前'\n      }\n      return hours + ' 小时前'\n    }\n    if (days < 0) return '刚刚'\n\n    if (days < 8) {\n      return days + ' 天前'\n    } else {\n      return dateFormat(date)\n    }\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst padWithZeros = (vNumber, width) => {\n  let numAsString = vNumber.toString()\n  while (numAsString.length < width) {\n    numAsString = '0' + numAsString\n  }\n  return numAsString\n}\n\nconst Event = {\n  on(type, el, handler, capture) {\n    if (el.addEventListener) el.addEventListener(type, handler, capture || false)\n    else if (el.attachEvent) el.attachEvent(`on${type}`, handler)\n    else el[`on${type}`] = handler\n  },\n  off(type, el, handler, capture) {\n    if (el.removeEventListener) el.removeEventListener(type, handler, capture || false)\n    else if (el.detachEvent) el.detachEvent(`on${type}`, handler)\n    else el[`on${type}`] = null\n  }\n}\n\nconst getLink = target => {\n  return target.link || (target.mail && `mailto:${target.mail}`) || 'javascript:void(0);'\n}\n\nconst check = {\n  mail(m) {\n    return {\n      k: /[\\w-\\.]+@([\\w-]+\\.)+[a-z]{2,3}/.test(m),\n      v: m\n    }\n  },\n  link(l) {\n    l = l.length > 0 && (/^(http|https)/.test(l) ? l : `http://${l}`)\n    return {\n      k: /(http|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?/.test(l),\n      v: l\n    }\n  }\n}\n\nexport { HtmlUtil, Event, check, getLink, dateFormat, timeAgo }\n","/*\n * @Author: Ihoey\n * @Email: mail@ihoey.com\n * @Date: 2018-04-20 23:53:17\n * @LastEditors: Ihoey\n * @LastEditTime: 2021-01-04 16:33:14\n */\n\nimport md5 from 'blueimp-md5'\nimport marked from 'marked'\nimport detect from './detect'\nimport './Hitalk.scss'\nimport { version } from '../package.json'\nimport { HtmlUtil, Event, check, getLink, dateFormat, timeAgo } from './utils'\n\nconst gravatar = {\n  cdn: 'https://gravatar.loli.net/avatar/',\n  ds: ['mm', 'identicon', 'monsterid', 'wavatar', 'retro', ''],\n  params: '?s=40',\n  hide: !1\n}\nconst defaultComment = {\n  comment: '',\n  rid: '',\n  nick: 'Guest',\n  mail: '',\n  link: '',\n  ua: navigator.userAgent,\n  url: '',\n  pin: 0,\n  like: 0\n}\nconst GUEST_INFO = ['nick', 'mail', 'link']\nconst store = localStorage\n\nconst smiliesData = {\n  泡泡: `呵呵|哈哈|吐舌|太开心|笑眼|花心|小乖|乖|捂嘴笑|滑稽|你懂的|不高兴|怒|汗|黑线|泪|真棒|喷|惊哭|阴险|鄙视|酷|啊|狂汗|what|疑问|酸爽|呀咩爹|委屈|惊讶|睡觉|笑尿|挖鼻|吐|犀利|小红脸|懒得理|勉强|爱心|心碎|玫瑰|礼物|彩虹|太阳|星星月亮|钱币|茶杯|蛋糕|大拇指|胜利|haha|OK|沙发|手纸|香蕉|便便|药丸|红领巾|蜡烛|音乐|灯泡|开心|钱|咦|呼|冷|生气|弱`,\n  阿鲁: `高兴|小怒|脸红|内伤|装大款|赞一个|害羞|汗|吐血倒地|深思|不高兴|无语|亲亲|口水|尴尬|中指|想一想|哭泣|便便|献花|皱眉|傻笑|狂汗|吐|喷水|看不见|鼓掌|阴暗|长草|献黄瓜|邪恶|期待|得意|吐舌|喷血|无所谓|观察|暗地观察|肿包|中枪|大囧|呲牙|抠鼻|不说话|咽气|欢呼|锁眉|蜡烛|坐等|击掌|惊喜|喜极而泣|抽烟|不出所料|愤怒|无奈|黑线|投降|看热闹|扇耳光|小眼睛|中刀`\n}\nconst pReg = new RegExp('\\\\@\\\\(\\\\s*(' + smiliesData.泡泡 + ')\\\\s*\\\\)')\nconst aReg = new RegExp('\\\\#\\\\(\\\\s*(' + smiliesData.阿鲁 + ')\\\\s*\\\\)')\nlet subfix = ''\nif (window.devicePixelRatio != undefined && window.devicePixelRatio >= 1.49) {\n  subfix = '@2x'\n}\n\nclass Hitalk {\n  constructor(option) {\n    this.md5 = md5\n    this.version = version\n\n    const av = option.av || AV\n    const appId = option.app_id || option.appId\n    const appKey = option.app_key || option.appKey\n    const serverURLs = option.serverURLs || 'https://hitalk-api.ihoey.com'\n\n    if (!appId || !appKey) {\n      this.throw('初始化失败，请检查你的appid或者appkey.')\n    }\n\n    av.init({ appId, appKey, serverURLs })\n    this.v = av\n\n    defaultComment.url = (option.path || location.pathname).replace(/index\\.(html|htm)/, '')\n    // 分页\n    this.pageSize = option.pageSize || 10\n    this.page = 0\n    // 评论数\n    this.initCount()\n    // 初始化评论\n    !!option && this.init(option)\n  }\n\n  throw(msg) {\n    throw new Error(`Hitalk: ${msg}`)\n  }\n\n  init(option) {\n    try {\n      // get el\n      let el =\n        {}.toString.call(option.el) === '[object HTMLDivElement]' ? option.el : document.querySelectorAll(option.el)[0]\n      if ({}.toString.call(el) != '[object HTMLDivElement]') {\n        this.throw(`The target element was not found.`)\n      }\n      this.el = el\n      this.el.classList.add('Hitalk')\n\n      // 自定义 header\n      const guest_info = option.guest_info || GUEST_INFO\n      const inputEl = guest_info.map(item => {\n        switch (item) {\n          case 'nick':\n            return '<input name=\"nick\" placeholder=\"称呼\" class=\"vnick vinput\" type=\"text\">'\n          case 'mail':\n            return '<input name=\"mail\" placeholder=\"邮箱(会收到提醒哦~)\" class=\"vmail vinput\" type=\"email\">'\n          case 'link':\n            return '<input name=\"link\" placeholder=\"网址 http(s)://\" class=\"vlink vinput\" type=\"text\">'\n          default:\n            return ''\n        }\n      })\n\n      // 填充元素\n      let placeholder = option.placeholder || ''\n      let eleHTML = `\n      <div class=\"vwrap\">\n          <div class=\"welcome dn\">欢迎回来，{name}！<span class=\"info-edit\">修改</span></div>\n          <div class=\"${`vheader item${inputEl.length}`}\">${inputEl.join('')}</div>\n          <div class=\"vedit\">\n              <textarea class=\"veditor vinput\" placeholder=\"${placeholder}\"></textarea>\n          </div>\n          <div class=\"vcontrol\">\n              <span class=\"col col-60 smilies\">\n                  <div class=\"col smilies-logo\"><span>^_^</span></div>\n                  <div class=\"col\" title=\"Markdown is Support\">MarkDown is Support</div>\n                  <div class=\"smilies-body\"></div>\n              </span>\n              <div class=\"col col-40 text-right\">\n                  <button type=\"button\" class=\"vsubmit vbtn\">回复</button>\n              </div>\n          </div>\n          <div class=\"vmark dn\"></div>\n      </div>\n      <div class=\"info\">\n          <div class=\"count col\"></div>\n      </div>\n      <div class=\"vloading\"></div>\n      <div class=\"vempty dn\"></div>\n      <ul class=\"vlist\"></ul>\n      <div class=\"vpage txt-right\"></div>`\n\n      this.el.innerHTML = eleHTML\n\n      // Empty Data\n      let vempty = this.el.querySelector('.vempty')\n      const nodata = {\n        show(txt = '还没有评论哦，快来抢沙发吧!') {\n          vempty.innerHTML = txt\n          vempty.classList.remove('dn')\n        },\n        hide() {\n          vempty.classList.add('dn')\n        }\n      }\n\n      // loading\n      let _spinner = `<div class=\"spinner\"><div class=\"r1\"></div><div class=\"r2\"></div><div class=\"r3\"></div><div class=\"r4\"></div><div class=\"r5\"></div></div>`\n      let vloading = this.el.querySelector('.vloading')\n      vloading.innerHTML = _spinner\n      // loading control\n      this.loading = {}\n      this.loading.show = () => {\n        vloading.classList.remove('dn')\n        nodata.hide()\n      }\n      this.loading.hide = () => {\n        vloading.classList.add('dn')\n        el.querySelectorAll('.vcard').length === 0 && nodata.show()\n      }\n\n      gravatar['params'] = '?d=' + (gravatar['ds'].indexOf(option.avatar) > -1 ? option.avatar : 'mm')\n      gravatar['hide'] = option.avatar === 'hide' ? !0 : !1\n    } catch (ex) {\n      let issue = 'https://github.com/ihoey/Hitalk/issues'\n      if (this.el)\n        nodata.show(\n          `<pre style=\"color:red;text-align:left;\">${ex}<br>Hitalk:<b>${this.version}</b><br>反馈：${issue}</pre>`\n        )\n      else\n        console &&\n          console.log(\n            `%c${ex}\\n%cHitalk%c${this.version} ${issue}`,\n            'color:red;',\n            'background:#000;padding:5px;line-height:30px;color:#fff;',\n            'background:#456;line-height:30px;padding:5px;color:#fff;'\n          )\n      return\n    }\n\n    let _mark = this.el.querySelector('.vmark')\n    // alert\n    this.alert = {}\n    this.alert.show = o => {\n      _mark.innerHTML = `<div class=\"valert txt-center\"><div class=\"vtext\">${o.text}</div><div class=\"vbtns\"></div></div>`\n      let _vbtns = _mark.querySelector('.vbtns')\n      let _cBtn = `<button class=\"vcancel vbtn\">${(o && o.ctxt) || '我再看看'}</button>`\n      let _oBtn = `<button class=\"vsure vbtn\">${(o && o.otxt) || '继续提交'}</button>`\n      _vbtns.innerHTML = `${_cBtn}${o.type && _oBtn}`\n      _mark.querySelector('.vcancel').addEventListener('click', e => {\n        this.alert.hide()\n      })\n      _mark.classList.remove('dn')\n      if (o && o.type) {\n        let _ok = _mark.querySelector('.vsure')\n        Event.on('click', _ok, e => {\n          this.alert.hide()\n          o.cb && o.cb()\n        })\n      }\n    }\n    this.alert.hide = () => {\n      _mark.classList.add('dn')\n    }\n\n    // Bind Event\n    this.bind(option)\n  }\n\n  commonQuery(url) {\n    let query = new this.v.Query('Comment')\n    query.equalTo('url', url || defaultComment['url']).descending('createdAt')\n    return query\n  }\n\n  initCount() {\n    const pCount = document.querySelectorAll('.hitalk-comment-count')\n    if (!pCount.length) return false\n\n    const vArr = []\n    const urlArr = []\n\n    for (let i = 0; i < pCount.length; i++) {\n      const el = pCount[i]\n      const url = el.getAttribute('data-xid').replace(/index\\.(html|htm)/, '')\n\n      urlArr[i] = url\n      vArr[i] = this.commonQuery(url)\n    }\n\n    const cq = new this.v.Query.or(...vArr)\n    cq.select('url')\n      .limit(1000)\n      .find()\n      .then(res => {\n        urlArr.map((e, i) => (pCount[i].innerText = res.filter(x => e === x.get('url')).length))\n      })\n      .catch(ex => {\n        this.throw(ex)\n      })\n  }\n  /**\n   * Bind Event\n   */\n  bind(option) {\n    let guest_info = (option.guest_info || GUEST_INFO).filter(item => GUEST_INFO.indexOf(item) > -1)\n\n    let expandEvt = el => {\n      if (el.offsetHeight > 180) {\n        el.classList.add('expand')\n        Event.on('click', el, e => {\n          el.setAttribute('class', 'vcontent')\n        })\n      }\n    }\n\n    let insertDom = (ret, mt) => {\n      let _vcard = document.createElement('li')\n      _vcard.setAttribute('class', 'vcard')\n      _vcard.setAttribute('id', ret.id)\n      let _ua = detect(ret.get('ua'))\n      let _img = gravatar['hide']\n        ? ''\n        : `<img class=\"vimg\" src='${gravatar.cdn + md5(ret.get('mail') || ret.get('nick')) + gravatar.params}'>`\n      _vcard.innerHTML = `${_img}<section><div class=\"vhead\"><a rel=\"nofollow\" href=\"${getLink({\n        link: ret.get('link'),\n        mail: ret.get('mail')\n      })}\" target=\"_blank\" >${ret.get('nick')}</a>\n      <span class=\"vsys\">${_ua.os} ${_ua.osVersion}</span>\n      <span class=\"vsys\">${_ua.browser} ${_ua.version}</span>\n      </div><div class=\"vcontent\">${ret.get('comment')}</div><div class=\"vfooter\"><span class=\"vtime\">${timeAgo(\n        ret.get('createdAt')\n      )}</span><span rid='${ret.id}' at='@${ret.get('nick')}' mail='${ret.get(\n        'mail'\n      )}' class=\"vat\">回复</span><div></section>`\n\n      let _vlist = this.el.querySelector('.vlist')\n      let _vlis = _vlist.querySelectorAll('li')\n      let _vat = _vcard.querySelector('.vat')\n      let _as = _vcard.querySelectorAll('a')\n      for (let i = 0, len = _as.length; i < len; i++) {\n        let item = _as[i]\n        if (item && item.getAttribute('class') != 'at') {\n          item.setAttribute('target', '_blank')\n          item.setAttribute('rel', 'nofollow')\n        }\n      }\n      if (mt) _vlist.appendChild(_vcard)\n      else _vlist.insertBefore(_vcard, _vlis[0])\n      let _vcontent = _vcard.querySelector('.vcontent')\n      expandEvt(_vcontent)\n      bindAtEvt(_vat)\n    }\n\n    // 填充表情节点\n    let addSmilies = () => {\n      let _smilies = this.el.querySelector('.smilies-body')\n      let _ul,\n        _li = ''\n      let fragment = document.createDocumentFragment()\n      const sl = '泡泡'\n      Object.keys(smiliesData).forEach((y, i) => {\n        _ul = document.createElement('ul')\n        _ul.setAttribute('class', 'smilies-items smilies-items-biaoqing' + (y == sl ? ' smilies-items-show' : ''))\n        _ul.setAttribute('data-id', i)\n        smiliesData[y].split('|').forEach(e => {\n          _ul.innerHTML += `<li class=\"smilies-item\" title=\"${e}\" data-input=\"${\n            (y == sl ? '@' : '#') + `(${e})`\n          }\"><img class=\"biaoqing ${y == sl ? 'newpaopao' : 'alu'}\" title=\"${e}\" src=\"https://cdn.ihoey.com/${\n            y == sl ? 'newpaopao' : 'alu'\n          }/${e + subfix}.png\"></li>`\n        })\n        _li += `<li class=\"smilies-name ${\n          y == sl ? 'smilies-package-active' : ''\n        }\" data-id=\"${i}\"><span>${y}</span></li>`\n        fragment.appendChild(_ul) //添加ul\n      })\n      let _div = document.createElement('div')\n      _div.setAttribute('class', 'smilies-bar')\n      _div.innerHTML = `<ul class=\"smilies-packages\">${_li}</ul>`\n      fragment.appendChild(_div) //再次添加div\n      _smilies.appendChild(fragment)\n\n      let smilies = document.querySelector('.smilies')\n      let _el = document.querySelector('.veditor')\n\n      Event.on('click', smilies, e => {\n        e = e.target\n        if (e.className == 'smilies-item') {\n          _el.value += ` ${e.getAttribute('data-input')} `\n          defaultComment.comment = marked(_el.value, {\n            sanitize: !0,\n            breaks: !0\n          })\n          smilies.classList.remove('smilies-open')\n        } else if (e.classList.contains('smilies-logo')) {\n          smilies.classList.toggle('smilies-open')\n        } else if (e.classList.contains('smilies-name')) {\n          if (!e.classList.contains('smilies-package-active')) {\n            document.querySelectorAll('.smilies-name').forEach(e => e.classList.remove('smilies-package-active'))\n            document.querySelectorAll('.smilies-items').forEach(e => e.classList.remove('smilies-items-show'))\n            document.querySelectorAll('.smilies-items')[e.getAttribute('data-id')].classList.add('smilies-items-show')\n            e.classList.add('smilies-package-active')\n          }\n        }\n      })\n\n      Event.on('mouseup', document, e => {\n        e = e.target\n        let _con = document.querySelector('.smilies')\n        if (!_con === e || !_con.contains(e)) {\n          smilies.classList.remove('smilies-open')\n        }\n      })\n    }\n\n    let query = () => {\n      this.loading.show()\n      addSmilies() // 填充表情\n      let cq = this.commonQuery()\n      cq.limit(this.pageSize)\n        .skip(this.page * this.pageSize)\n        .find()\n        .then(rets => {\n          let len = rets.length\n          if (len) {\n            this.el.querySelector('.vlist').innerHTML = ''\n            for (let i = 0; i < len; i++) {\n              insertDom(rets[i], !0)\n            }\n            let _count = this.el.querySelector('.num')\n            if (!_count) {\n              cq.count().then(len => {\n                const _pageCount = Math.ceil(len / this.pageSize)\n                this.el.querySelector('.count').innerHTML = `评论(<span class=\"num\">${len}</span>)`\n\n                const _pageDom = (_class, _text) => `<span class=\"${_class} page-numbers\">${_text}</span>`\n                let vpageDom = _pageDom('prev dn', '&lt;')\n                for (let index = 1; index <= _pageCount; index++) {\n                  vpageDom += _pageDom(`numbers ${index == 1 ? 'current' : ''}`, index)\n                }\n                vpageDom += _pageDom('next dn', '&gt;')\n                this.el.querySelector('.vpage').innerHTML = vpageDom\n\n                pageHandle(len)\n\n                Event.on('click', this.el.querySelector('.vpage'), e => {\n                  const inc = v => e.target.className.split(' ').includes(v)\n                  if (inc('current') || inc('vpage')) {\n                    return\n                  }\n                  if (inc('numbers')) {\n                    this.page = Number(e.target.innerText) - 1\n                  } else if (inc('prev')) {\n                    this.page--\n                  } else if (inc('next')) {\n                    this.page++\n                  }\n                  query()\n                })\n              })\n            } else {\n              pageHandle(_count.innerText)\n            }\n          }\n          this.loading.hide()\n        })\n        .catch(ex => {\n          this.loading.hide()\n          this.throw(ex)\n        })\n    }\n    query()\n\n    let pageHandle = _count => {\n      if (this.el.querySelector('.vpage .numbers.current')) {\n        this.el.querySelector('.vpage .numbers.current').classList.remove('current')\n      }\n      this.el.querySelectorAll('.vpage .numbers')[this.page].classList.add('current')\n\n      const domClass = {\n        0: '.prev',\n        [Math.ceil(_count / this.pageSize, 10) - 1]: '.next'\n      }\n\n      Object.values(domClass).map(e => this.el.querySelector(`.vpage ${e}`).classList.remove('dn'))\n      if (domClass[this.page]) {\n        this.el.querySelector(`.vpage ${domClass[this.page]}`).classList.add('dn')\n        return\n      }\n    }\n\n    let mapping = {\n      veditor: 'comment'\n    }\n    for (let i = 0, length = guest_info.length; i < length; i++) {\n      mapping[`v${guest_info[i]}`] = guest_info[i]\n    }\n\n    let inputs = {}\n    for (let i in mapping) {\n      if (mapping.hasOwnProperty(i)) {\n        let _v = mapping[i]\n        let _el = this.el.querySelector(`.${i}`)\n        inputs[_v] = _el\n        Event.on('input', _el, e => {\n          defaultComment[_v] =\n            _v === 'comment'\n              ? marked(_el.value, {\n                  sanitize: !0,\n                  breaks: !0\n                })\n              : HtmlUtil.encode(_el.value)\n        })\n      }\n    }\n\n    // cache\n    let getCache = () => {\n      let s = store && store.HitalkCache\n      if (s) {\n        s = JSON.parse(s)\n        let m = guest_info\n        for (let i in m) {\n          let k = m[i]\n          this.el.querySelector(`.v${k}`).value = s[k]\n          defaultComment[k] = s[k]\n        }\n        const welcome = this.el.querySelector(`.welcome`).innerHTML\n        this.el.querySelector(`.welcome`).classList.remove('dn')\n        this.el.querySelector(`.welcome`).innerHTML = welcome.replace('{name}', s['nick'])\n        this.el.querySelector(`.vheader`).classList.add('hide')\n        Event.on('click', this.el.querySelector(`.welcome .info-edit`), e => {\n          this.el.querySelector(`.vheader`).classList.toggle('hide')\n        })\n      }\n    }\n    getCache()\n\n    let atData = {\n      rmail: '',\n      at: ''\n    }\n\n    // reset form\n    let reset = () => {\n      for (let i in mapping) {\n        if (mapping.hasOwnProperty(i)) {\n          let _v = mapping[i]\n          let _el = this.el.querySelector(`.${i}`)\n          _el.value = ''\n          defaultComment[_v] = ''\n        }\n      }\n      atData['at'] = ''\n      atData['rmail'] = ''\n      defaultComment['rid'] = ''\n      defaultComment['nick'] = 'Guest'\n      getCache()\n    }\n\n    // submit\n    let submitBtn = this.el.querySelector('.vsubmit')\n    let submitEvt = e => {\n      if (submitBtn.getAttribute('disabled')) {\n        this.alert.show({\n          type: '',\n          text: '再等等，评论正在提交中ヾ(๑╹◡╹)ﾉ\"',\n          ctxt: '好的'\n        })\n        return\n      }\n      if (defaultComment.comment == '') {\n        inputs['comment'].focus()\n        this.alert.show({\n          type: '',\n          text: '好歹也写点文字嘛ヾ(๑╹◡╹)ﾉ\"',\n          ctxt: '好的'\n        })\n        return\n      }\n      if (defaultComment.nick == '') {\n        defaultComment['nick'] = '小调皮'\n      }\n      let idx = defaultComment.comment.indexOf(atData.at)\n      if (idx > -1 && atData.at != '') {\n        let at = `<a class=\"at\" href='#${defaultComment.rid}'>${atData.at}</a>`\n        defaultComment.comment = defaultComment.comment.replace(atData.at, at)\n      }\n      //表情\n      var matched\n      while ((matched = defaultComment.comment.match(pReg))) {\n        defaultComment.comment = defaultComment.comment.replace(\n          matched[0],\n          `<img src=\"https://cdn.ihoey.com/newpaopao/${\n            matched[1] + subfix\n          }.png\" class=\"biaoqing newpaopao\" height=30 width=30 no-zoom />`\n        )\n      }\n      while ((matched = defaultComment.comment.match(aReg))) {\n        defaultComment.comment = defaultComment.comment.replace(\n          matched[0],\n          `<img src=\"https://cdn.ihoey.com/alu/${\n            matched[1] + subfix\n          }.png\" class=\"biaoqing alu\" height=33 width=33 no-zoom />`\n        )\n      }\n\n      // veirfy\n      let mailRet = check.mail(defaultComment.mail)\n      let linkRet = check.link(defaultComment.link)\n      defaultComment['mail'] = mailRet.k ? mailRet.v : ''\n      defaultComment['link'] = linkRet.k ? linkRet.v : ''\n      const alertShow = text => {\n        this.alert.show({\n          type: 1,\n          text,\n          cb: () => commitEvt()\n        })\n      }\n\n      if (!mailRet.k && !linkRet.k && guest_info.indexOf('mail') > -1 && guest_info.indexOf('link') > -1) {\n        alertShow('您的网址和邮箱格式不正确, 是否继续提交?')\n      } else if (!mailRet.k && guest_info.indexOf('mail') > -1) {\n        alertShow('您的邮箱格式不正确, 是否继续提交?')\n      } else if (!linkRet.k && guest_info.indexOf('link') > -1) {\n        alertShow('您的网址格式不正确, 是否继续提交?')\n      } else {\n        commitEvt()\n      }\n    }\n\n    // setting access\n    let getAcl = () => {\n      let acl = new this.v.ACL()\n      acl.setPublicReadAccess(!0)\n      acl.setPublicWriteAccess(!1)\n      return acl\n    }\n\n    let commitEvt = () => {\n      submitBtn.setAttribute('disabled', !0)\n      this.loading.show()\n      // 声明类型\n      let Ct = this.v.Object.extend('Comment')\n      // 新建对象\n      let comment = new Ct()\n      for (let i in defaultComment) {\n        if (defaultComment.hasOwnProperty(i)) {\n          let _v = defaultComment[i]\n          comment.set(i, _v)\n        }\n      }\n      comment.setACL(getAcl())\n      comment\n        .save()\n        .then(ret => {\n          defaultComment['nick'] != 'Guest' &&\n            store &&\n            store.setItem(\n              'HitalkCache',\n              JSON.stringify({\n                nick: defaultComment['nick'],\n                link: defaultComment['link'],\n                mail: defaultComment['mail']\n              })\n            )\n          let _count = this.el.querySelector('.num')\n          let num = 1\n          try {\n            if (_count) {\n              num = Number(_count.innerText) + 1\n              _count.innerText = num\n            } else {\n              this.el.querySelector('.count').innerHTML = '评论(<span class=\"num\">1</span>)'\n            }\n            insertDom(ret)\n\n            defaultComment['mail'] &&\n              signUp({\n                username: defaultComment['nick'],\n                mail: defaultComment['mail']\n              })\n\n            submitBtn.removeAttribute('disabled')\n            this.loading.hide()\n            reset()\n          } catch (error) {\n            console.log(error)\n          }\n        })\n        .catch(ex => {\n          this.loading.hide()\n          this.throw(ex)\n        })\n    }\n\n    let signUp = o => {\n      let u = new this.v.User()\n      u.setUsername(o.username)\n      u.setPassword(o.mail)\n      u.setEmail(o.mail)\n      u.setACL(getAcl())\n      return u.signUp()\n    }\n\n    // at event\n    let bindAtEvt = el => {\n      Event.on('click', el, e => {\n        let at = el.getAttribute('at')\n        let rid = el.getAttribute('rid')\n        let rmail = el.getAttribute('mail')\n        atData['at'] = at\n        atData['rmail'] = rmail\n        defaultComment['rid'] = rid\n        inputs['comment'].value = `${at} `\n        inputs['comment'].focus()\n      })\n    }\n\n    Event.off('click', submitBtn, submitEvt)\n    Event.on('click', submitBtn, submitEvt)\n  }\n}\n\nexport default Hitalk\n"],"names":["_setPrototypeOf","o","p","module","Object","setPrototypeOf","__proto__","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_construct","Parent","args","Class","isNativeReflectConstruct","a","push","apply","instance","Function","bind","arguments","$","safeAdd","x","y","lsw","md5cmn","q","b","s","t","num","cnt","md5ff","c","d","md5gg","md5hh","md5ii","binlMD5","len","i","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","key","data","hash","bkey","ipad","opad","concat","rstrHMACMD5","md5","string","raw","exports","this","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","defaults","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","&","<",">","\"","'","getEscapeReplacement","ch","unescapeTest","html","replace","_","n","toLowerCase","parseInt","substring","caret","nonWordAndColonTest","originIndependentUrl","baseUrls","justDomain","protocol","domain","resolveUrl","base","href","test","rtrim","relativeBase","indexOf","str","invert","l","suffLen","currChar","substr","escape","encode","edit","regex","opt","source","obj","name","val","getRegex","RegExp","cleanUrl","prot","decodeURIComponent","encodeURI","noopTest","exec","merge","target","hasOwnProperty","splitCells","tableRow","count","cells","match","offset","escaped","curr","split","splice","trim","findClosingBracket","level","checkSanitizeDeprecation","console","warn","require$$0","require$$1","outputLink","cap","link","title","type","text","[object Object]","options","src","rules","block","newline","tokens","code","lastToken","trimRight","codeBlockStyle","fences","matchIndentToCode","indentToCode","map","node","matchIndentInNode","indentInNode","slice","join","indentCodeCompensation","lang","heading","depth","nptable","item","header","align","hr","blockquote","list","bull","isordered","ordered","start","loose","items","itemMatch","space","addBack","istask","ischecked","next","bullet","task","checked","pre","def","tag","table","lheading","paragraph","inline","inLink","inRawBlock","lastParenIndex","linkLen","_escapes","links","reflink","nolink","strong","em","hasNonSpaceChars","hasSpaceCharsOnBothEnds","startsWith","endsWith","br","del","autolink","url","prevCapZero","_backpedal","_paragraph","_label","_title","_tag","_comment","normal","_punctuation","_scheme","_email","_attribute","_href","_extended_email","out","Math","random","Lexer","create","Tokenizer","lex","blockTokens","top","token","errMsg","error","Error","j","l2","row","inlineTokens","codespan","inlineText","infostring","quote","slugger","slug","body","content","flags","seen","value","originalSlug","Parser","Renderer","textRenderer","TextRenderer","Slugger","parse","l3","cell","itemBody","checkbox","parseInline","tablecell","tablerow","unshift","listitem","image","marked","callback","done","err","pending","message","setOptions","use","extension","opts","prop","prevRenderer","ret","prevTokenizer","parser","lexer","win","window","nav","navigator","Detect","userAgent","u","Trident","Presto","WebKit","Gecko","Safari","Chrome","IE","Edge","Firefox","Chromium","Opera","Vivaldi","Yandex","Kindle","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi","Windows","Linux","Android","Ubuntu","FreeBSD","Debian","BlackBerry","MeeGo","Symbian","iOS","WebOS","Mobile","Tablet","showModalDialog","chrome","arr","engine","browser","os","device","language","browserLanguage","toUpperCase","osVersion","v","version","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","HtmlUtil","timeAgo","date","oldTime","getTime","diffValue","days","floor","leave1","hours","leave2","minutes","leave3","round","vDay","padWithZeros","getDate","vMonth","getMonth","getFullYear","dateFormat","log","vNumber","width","numAsString","Event","el","handler","capture","addEventListener","attachEvent","removeEventListener","detachEvent","check","m","gravatar","cdn","ds","params","hide","defaultComment","comment","rid","nick","mail","ua","pin","like","GUEST_INFO","store","localStorage","smiliesData","泡泡","阿鲁","pReg","aReg","subfix","devicePixelRatio","option","av","AV","appId","app_id","appKey","app_key","serverURLs","init","path","location","pathname","pageSize","page","initCount","msg","querySelectorAll","classList","add","inputEl","guest_info","placeholder","eleHTML","innerHTML","vempty","querySelector","nodata","show","txt","remove","vloading","loading","avatar","ex","issue","_mark","alert","_vbtns","_cBtn","ctxt","_oBtn","otxt","_this","_ok","cb","commonQuery","query","Query","equalTo","descending","pCount","vArr","urlArr","getAttribute","or","select","limit","find","then","res","innerText","filter","get","_this2","insertDom","mt","_vcard","setAttribute","id","_ua","_img","_vlist","_this3","_vlis","_vat","_as","_vcontent","offsetHeight","bindAtEvt","_ul","_smilies","_li","fragment","createDocumentFragment","sl","keys","forEach","_div","smilies","_el","className","contains","toggle","_con","addSmilies","cq","skip","rets","_count","pageHandle","_pageCount","ceil","_pageDom","_class","_text","vpageDom","index","inc","includes","Number","domClass","values","mapping","veditor","inputs","_v","getCache","HitalkCache","JSON","welcome","atData","rmail","at","submitBtn","submitEvt","focus","matched","mailRet","linkRet","alertShow","commitEvt","getAcl","acl","ACL","setPublicReadAccess","setPublicWriteAccess","extend","set","setACL","save","setItem","stringify","signUp","username","removeAttribute","reset","User","setUsername","setPassword","setEmail"],"mappings":"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"}